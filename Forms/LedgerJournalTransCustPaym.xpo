Exportfile for AOT version 1.0 or later
Formatversion: 1

***Element: FRM

; 
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #LedgerJournalTransCustPaym
  PROPERTIES
    Name                #LedgerJournalTransCustPaym
    Origin              #{51D6505D-7248-4AA9-B72E-CD0FE310A531}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #class FormRun extends ObjectRun
      #{
      #    #isoCountryRegionCodes
      #    QueryBuildRange                     ledgerJournalTransRange;
      #    LedgerJournalEngine_CustPayment     ledgerJournalEngine;
      #    LedgerJournalCheckPostResults       postingResults_Client;
      #
      #    LedgerJournalFormTrans_Payment      journalFormTrans;
      #
      #    LedgerJournalId                     journalNum;
      #    DebCredProposal                     debCredProposal;
      #    DebCredProposal                     debCredProposalOld;
      #    LedgerJournalTable                  ledgerJournalTable;
      #
      #    ImageListAppl_LedgerJournal         imageListAppl;
      #
      #    Map                                 childForms;
      #
      #    LedgerJournalTransEntityManager     ledgerJournalTransEntityManager; // Used to manage entity-related tasks like in-memory rollbacks for aborted transactions.
      #
      #    boolean                             previousIsEditCustPaymEnabled;
      #    boolean                             previousIsSettlementEnabled;
      #    utcdatetime                         lastEnteredReleaseDate;
      #    boolean                             norwayEnabled;
      #
      #    DimensionDynamicAccountController   dimAccountController;
      #    DimensionDynamicAccountController   dimOffsetAccountController;
      #    DimensionDynamicAccountController   dimPaymentFeeAccountController;
      #    RecId                               currentMainAccountId;
      #    RecId                               currentOffsetMainAccountId;
      #    RecId                               currentPaymentFeeMainAccountId;
      #    LedgerJournalACType                 priorOffsetAccountType;
      #    // <GCN>
      #    LedgerChineseVoucherEnabled_CN      chineseVoucher_CN;
      #    // </GCN>
      #    // <GEEU><GCN>
      #    #ISOCountryRegionCodes
      #    // </GCN></GEEU>
      #    // <GIN>
      #    boolean                             countryRegion_IN;
      #    // </GIN>
      #    // <GEERU>
      #    boolean                             countryRegion_RU;
      #    // </GEERU>
      #    boolean                             postDatedCheckEnabled;
      #
      #    BankLCExportLineNumController       bankLCExportLineNumController;
      #
      #    PCDataSourceEventNotify             ledgerJournalTransDSEventNotifier;
      #
      #    boolean                             mcrAllowPayment;
      #}
    ENDSOURCE
    SOURCE #accountNumModifiedPost
      #/// <summary>
      #/// Updates the form when the account number field is modified.
      #/// </summary>
      #public void accountNumModifiedPost()
      #{
      #    ;
      #
      #    changecompany(ledgerJournalTrans.Company)
      #    {
      #        debCredProposal = ledgerJournalEngine.accountModified(ledgerJournalTrans, null, ledgerJournalTrans_Asset);
      #        element.setDebCredProposal(false);
      #        ledgerJournalEngine.initCustPostingProfile(ledgerJournalTrans);
      #
      #        // Clear out the MarkedInvoice-related fields.
      #        ledgerJournalTrans.MarkedInvoice        = '';
      #        ledgerJournalTrans.MarkedInvoiceRecId   = 0;
      #        ledgerJournalTrans.MarkedInvoiceCompany = '';
      #
      #        if (ledgerJournalTrans.AccountType == LedgerJournalACType::FixedAssets)
      #        {
      #            ledgerJournalEngine.setAssetDepStartDate(ledgerJournalTrans, ledgerJournalTrans_Asset);
      #            element.enableDepreciationStartDate();
      #        }
      #        // <GEECZ>
      #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]))
      #        {
      #            ledgerJournalTransSymbol.initFromLedgerJournalTransCust(ledgerJournalTrans);
      #            ledgerJournalTrans_DS.refresh();
      #            ledgerJournalTransSymbol_DS.forceWrite(true);
      #        }
      #        // </GEECZ>
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #activate
      #/// <summary>
      #/// Handles the event that fires when focus is given to the form.
      #/// </summary>
      #/// <param name="_active">
      #/// true if the form has focus; otherwise, false.
      #/// </param>
      #public void activate(boolean _active)
      #{
      #    ;
      #
      #    super(_active);
      #
      #    journalFormTrans.manageEditingModeForApprovedWFApproval();
      #}
      #
    ENDSOURCE
    SOURCE #addChildForm
      #public void addChildForm(FormRun _childForm)
      #{
      #    ;
      #    childForms.insert(_childForm.hWnd(), _childForm);
      #}
      #
    ENDSOURCE
    SOURCE #bookRefresh
      #void bookRefresh(boolean _isClosing = false)
      #{
      #    FormRun callerForm = element.args().caller();
      #
      #    if (callerForm)
      #    {
      #        callerForm.bookRefresh();
      #    }
      #
      #    if (!_isClosing)
      #    {
      #        ledgerJournalTrans_ds.reread();
      #    }
      #}
    ENDSOURCE
    SOURCE #canClose
      #public boolean canClose()
      #{
      #    boolean         canClose;
      #    FormRun         formRun;
      #    MapEnumerator   childFormEnumerator;
      #    ;
      #
      #    try
      #    {
      #        // Signal that the close event is beginning.
      #        ledgerJournalTransEntityManager.getFormDataEventManager().beginFormCloseEvent();
      #
      #        canClose = super();
      #
      #        childFormEnumerator = childForms.getEnumerator();
      #
      #        while (childFormEnumerator.moveNext())
      #        {
      #            formRun = childFormEnumerator.currentValue();
      #            if (!formRun.closed())
      #            {
      #                canClose = checkFailed(strFmt("@SYS89025", formRun.design().caption()));
      #
      #            }
      #        }
      #
      #        // Signal that the close event is finished.
      #        ledgerJournalTransEntityManager.getFormDataEventManager().endFormCloseEvent();
      #    }
      #    catch (Exception::UpdateConflict)
      #    {
      #        // This exception should not be handled by the generic handling logic below.
      #
      #        // Signal that the close event is finished.
      #        ledgerJournalTransEntityManager.getFormDataEventManager().endFormCloseEvent();
      #
      #        // Chain the exception forward.
      #        throw Exception::UpdateConflict;
      #    }
      #    catch
      #    {
      #        // Signal that the close event is finished.
      #        ledgerJournalTransEntityManager.getFormDataEventManager().endFormCloseEvent();
      #
      #        // Chain the exception forward.
      #        throw Exception::Error;
      #    }
      #
      #    return canClose;
      #}
    ENDSOURCE
    SOURCE #checkSEPAPaymentReject
      #boolean checkSEPAPaymentReject()
      #{
      #    LedgerJournalTrans ledgerJournalTransSEPA;
      #    CustPaymModeTable custPaymModeTable;
      #
      #    select firstonly RecId from ledgerJournalTransSEPA
      #        where ledgerJournalTransSEPA.JournalNum == ledgerJournalTrans.JournalNum
      #        exists join TableId from custPaymModeTable
      #            where custPaymModeTable.IsSEPA
      #               && custPaymModeTable.PaymMode == ledgerJournalTransSEPA.PaymMode;
      #
      #    if (ledgerJournalTransSEPA)
      #    {
      #        for (ledgerJournalTransSEPA = ledgerJournalTrans_ds.getFirst(true) ? ledgerJournalTrans_ds.getFirst(true) : ledgerJournalTrans_ds.cursor();
      #             ledgerJournalTransSEPA;
      #             ledgerJournalTransSEPA = ledgerJournalTrans_ds.getNext())
      #        {
      #            if ((ledgerJournalTransSEPA.PaymentStatus == CustVendPaymStatus::Sent ||
      #                ledgerJournalTransSEPA.PaymentStatus  == CustVendPaymStatus::Confirmed ||
      #                ledgerJournalTransSEPA.PaymentStatus  == CustVendPaymStatus::Recieved) &&
      #                CustPaymModeTable::find(ledgerJournalTransSEPA.PaymMode).IsSEPA)
      #            {
      #                if (Box::yesNo("@SYS4004033", DialogButton::Yes, "@SYS4004034") == DialogButton::Yes)
      #                {
      #                    return true;
      #                }
      #                else
      #                {
      #                    return false;
      #                }
      #            }
      #        }
      #    }
      #
      #    return true;
      #}
    ENDSOURCE
    SOURCE #close
      #void close()
      #{
      #    ledgerJournalEngine.close();
      #    ledgerJournalEngine.formMethodClosePre();
      #    journalFormTrans.formClosePre();
      #    element.bookRefresh(true);
      #
      #    if (ledgerJournalTransDSEventNotifier)
      #    {
      #        ledgerJournalTrans_DS.removeNotifyHandler(ledgerJournalTransDSEventNotifier);
      #    }
      #    super();
      #
      #    TaxWithhold::clearCache();
      #}
    ENDSOURCE
    SOURCE #configureLineStatusButton_BR
      #// <GBR>
      #void configureLineStatusButton_BR()
      #{
      #    boolean                 canClose;
      #    boolean                 canReopen;
      #
      #    canClose  = ledgerJournalTrans.canCloseTaxWithholdEditStatus_BR();
      #    canReopen = ledgerJournalTrans.canReopenTaxWithholdEditStatus_BR();
      #
      #    taxWithholdLineStatusMenuButton.enabled(canClose || canReopen);
      #    taxWithholdClosePaymlLine_BR.enabled(canClose);
      #    taxWithholdReopenPaymlLine_BR.enabled(canReopen);
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #disableSettlement
      #/// <summary>
      #/// Disables the settlement related controls.
      #/// </summary>
      #/// <remarks>
      #/// Whether the controls were enable at the time of this call is stored for later use.
      #/// </remarks>
      #public void disableSettlement()
      #{
      #    ;
      #
      #    previousIsSettlementEnabled = buttonSettlement.enabled();
      #    buttonSettlement.enabled(false);
      #
      #    previousIsEditCustPaymEnabled = custPaymEditingButton.enabled();
      #    custPaymEditingButton.enabled(false);
      #}
      #
    ENDSOURCE
    SOURCE #enableButtonDepositSlip
      #void enableButtonDepositSlip()
      #{
      #    // We do not allow creating a deposit slip after the journal has been posted and it has been reconciled.
      #    if (ledgerJournalTrans.ledgerJournalTable().Posted)
      #    {
      #        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Bank)
      #        {
      #            buttonDepositSlip.enabled(!BankAccountTrans::findIsReconciled(ledgerJournalTrans.Voucher,
      #                ledgerJournalTrans.TransDate,
      #                ledgerJournalTrans.CurrencyCode,
      #                ledgerJournalTrans.parmOffsetAccount(),
      #                - ledgerJournalTrans.amount()));
      #        }
      #        if (ledgerJournalTrans.AccountType == LedgerJournalACType::Bank)
      #        {
      #            buttonDepositSlip.enabled(!BankAccountTrans::findIsReconciled(ledgerJournalTrans.Voucher,
      #                ledgerJournalTrans.TransDate,
      #                ledgerJournalTrans.CurrencyCode,
      #                ledgerJournalTrans.parmAccount(),
      #                ledgerJournalTrans.amount()));
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #enableButtonsActive
      #/// <summary>
      #/// Enables and disables certain controls that are managed at the form level.
      #/// </summary>
      #public void enableButtonsActive()
      #{
      #    boolean enabled;
      #    boolean paymentStatusEnabled;
      #
      #    enabled = journalFormTrans.isJournalEnabled();
      #
      #    ledgerJournalPrintOutInvoice_Cust.enabled(enabled && ledgerJournalTrans.Prepayment);
      #
      #    if (journalFormTrans.parmIsActiveWFApprovalDocument())
      #    {
      #        buttonPaymentProposal.enabled(enabled && journalFormTrans.parmIsUIElementWFApprovalEnabled());
      #        paymentStatusEnabled = enabled && journalFormTrans.parmIsPayStatusButtonAvailForWFApproval();
      #    }
      #    else
      #    {
      #        buttonPaymentProposal.enabled(enabled);
      #        enabled = enabled && ledgerJournalEngine.approved();
      #        paymentStatusEnabled = enabled;
      #    }
      #
      #    buttonPaymentReconciliation.enabled(paymentStatusEnabled);
      #
      #    enabled = enabled && !ledgerJournalTrans.BankChequeNum;
      #
      #    // <GEERU>
      #    if (countryRegion_RU)
      #    {
      #        enabled = enabled && !ledgerJournalTrans.BankCurrencyTransferLog_RU;
      #    }
      #    // </GEERU>
      #
      #    paymReconciliationNone.enabled(enabled);
      #    paymReconciliationConfirm.enabled(enabled);
      #    paymReconciliationRecieved.enabled(enabled);
      #    paymReconciliationSent.enabled(enabled);
      #    // <GEERU>
      #    if (countryRegion_RU)
      #    {
      #        element.enableButtonsActive_RU();
      #    }
      #    // </GEERU>
      #    // <GEEU>
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ,#isoHU,#isoPL]))
      #    {
      #        element.enableButtonsActive_CZ();
      #    }
      #    // </GEEU>
      #    // <GEEU>
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ, #isoEE, #isoHU, #isoLT, #isoLV, #isoPL, #isoRU]))
      #    {
      #        ledgerJournalPreview.enabled(ledgerJournalEngine.posted());
      #        ledgerJournalVoucherPreview.enabled(ledgerJournalEngine.posted());
      #    }
      #    // </GEEU>
      #
      #    if (postDatedCheckEnabled)
      #    {
      #        printAckReceipt.enabled(CustVendPDCManager::allowPostDatedChecks(ledgerJournalTrans));
      #    }
      #
      #}
      #
    ENDSOURCE
    SOURCE #enableButtonsActive_CZ
      #void enableButtonsActive_CZ()
      #{
      #    boolean taxDocumentCreate;
      #
      #    taxDocumentCreate = ledgerJournalEngine.taxDocumentCreateButton_CZ(ledgerJournalTrans);
      #
      #    if (taxDocumentCreate)
      #    {
      #        buttonFunctions.enabled(true);
      #    }
      #
      #    czTaxDocumentCreate_Cust.enabled(taxDocumentCreate);
      #    advanceInvoiceLink_CZ.enabled(ledgerJournalTrans.Prepayment);
      #}
    ENDSOURCE
    SOURCE #enableButtonsActive_RU
      #void enableButtonsActive_RU()
      #{
      #    boolean paymentJourExists;
      #    ;
      #
      #    if (ledgerJournalTrans.Voucher)
      #    {
      #        paymentJourExists = ledgerJournalTrans.existBankPaymentOrderJour_RU();
      #
      #
      #        deleteCustOutPayment.enabled(! ledgerJournalEngine.posted()                    &&
      #                                      paymentJourExists);
      #
      #        custVendOutPaymReport_RU.enabled(ledgerJournalTrans.BankChequeNum != "" && paymentJourExists);
      #    }
      #}
    ENDSOURCE
    SOURCE #enableDepreciationStartDate
      #//
      #// This method enables or disables the depreciation start date control.
      #//
      #
      #void enableDepreciationStartDate()
      #{
      #    AssetBook assetBook;
      #    ;
      #
      #    assetBook = AssetBook::find(ledgerJournalTrans.getAssetId(), ledgerJournalTrans_Asset.BookId);
      #
      #    if (assetBook &&
      #        (ledgerJournalTrans_Asset.TransType == AssetTransTypeJournal::Acquisition || ledgerJournalTrans_Asset.TransType == AssetTransTypeJournal::AcquisitionAdj) &&
      #        !assetBook.depreciationStarted() &&
      #        assetBook.DepreciationConvention == AssetDepreciationConvention::None)
      #    {
      #        depreciationStartDate.enabled(true);
      #    }
      #    else
      #    {
      #        depreciationStartDate.enabled(false);
      #    }
      #}
      #
      #
    ENDSOURCE
    SOURCE #enablePostDatedChecksTab
      #public void enablePostDatedChecksTab()
      #{
      #    if(postDatedCheckEnabled)
      #    {
      #        custPDCRegister_ds.allowEdit(true);
      #        pdc.visible(true);
      #    }
      #    else
      #    {
      #        custPDCRegister_ds.allowEdit(false);
      #        pdc.visible(false);
      #        printAckReceipt.visible(false);
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #enableReplacementFields
      #public void enableReplacementFields()
      #{
      #    if(custPDCRegister.IsReplacementCheck)
      #    {
      #        replacement_Comments.allowEdit(true);
      #        replacement_OriginalCheck.allowEdit(true);
      #    }
      #    else
      #    {
      #        replacement_Comments.allowEdit(false);
      #        replacement_OriginalCheck.allowEdit(false);
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #enableSettlement
      #/// <summary>
      #/// Enables the settlement related controls.
      #/// </summary>
      #/// <remarks>
      #/// The controls are returned to the state they had before being disabled.
      #/// </remarks>
      #public void enableSettlement()
      #{
      #    ;
      #
      #    buttonSettlement.enabled(previousIsSettlementEnabled);
      #
      #    custPaymEditingButton.enabled(previousIsEditCustPaymEnabled);
      #}
      #
    ENDSOURCE
    SOURCE #firstField
      #void firstField(int flags=1)
      #{
      #    ;
      #    overviewGrid.setFocus();
      #}
    ENDSOURCE
    SOURCE #getShowTax
      #public Tax getShowTax()
      #{
      #    ;
      #    return ledgerJournalEngine.getShowTax(ledgerJournalTrans);
      #}
    ENDSOURCE
    SOURCE #getShowWithholdTax_IN
      #// <GIN>
      #public TaxWithholdJournal_IN getShowWithholdTax_IN()
      #{
      #    return ledgerJournalEngine.getShowWithholdTax_IN(ledgerJournalTrans);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #init
      #/// <summary>
      #/// Enables and disables certain controls that are managed at the form level.
      #/// </summary>
      #public void init()
      #{
      #     // <GCN>
      #    boolean         allow;
      #    // </GCN>
      #    // <GCN>
      #    chineseVoucher_CN = LedgerParameters::isChineseVoucher_CN();
      #    // </GCN>
      #    // <GEERU>
      #    countryRegion_RU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]);
      #    // </GEERU>
      #    // <GIN>
      #    countryRegion_IN = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
      #    // </GIN>
      #
      #    journalFormTrans = new LedgerJournalFormTrans_Payment(element);
      #
      #    childForms = new Map(Types::Integer, Types::Class);
      #
      #    super();
      #    FormSecurity::setFormDataSourceMaxAccessRight(this);
      #
      #    norwayEnabled = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoNO]);
      #
      #    dimAccountController = DimensionDynamicAccountController::construct(ledgerJournalTrans_ds, fieldStr(LedgerJournalTrans, LedgerDimension), fieldStr(LedgerJournalTrans, AccountType));
      #    dimOffsetAccountController = DimensionDynamicAccountController::construct(ledgerJournalTrans_ds, fieldStr(LedgerJournalTrans, OffsetLedgerDimension), fieldStr(LedgerJournalTrans, OffsetAccountType));
      #    dimPaymentFeeAccountController = DimensionDynamicAccountController::construct(custVendPaymJournalFee_ds, fieldStr(CustVendPaymJournalFee, LedgerDimension), fieldStr(CustVendPaymJournalFee, LedgerJournalACType));
      #
      #    dimAccountController.parmDimensionAutocompleteFilter(
      #        new DimensionAutocompleteVendDefaultFilter(ledgerJournalTrans_ds, fieldStr(LedgerJournalTrans, OffsetLedgerDimension), fieldStr(LedgerJournalTrans, OffsetAccountType)));
      #    dimOffsetAccountController.parmDimensionAutocompleteFilter(
      #        new DimensionAutocompleteVendDefaultFilter(ledgerJournalTrans_ds, fieldStr(LedgerJournalTrans, LedgerDimension), fieldStr(LedgerJournalTrans, AccountType)));
      #
      #    dimAccountController.parmDimensionAccountStorageUsage(DimensionAccountStorageUsage::Transactional);
      #    dimOffsetAccountController.parmDimensionAccountStorageUsage(DimensionAccountStorageUsage::Transactional);
      #    dimPaymentFeeAccountController.parmDimensionAccountStorageUsage(DimensionAccountStorageUsage::Transactional);
      #
      #    dimAccountController.parmPostingType(LedgerPostingType::LedgerJournal);
      #    dimOffsetAccountController.parmPostingType(LedgerPostingType::LedgerJournal);
      #    dimPaymentFeeAccountController.parmPostingType(LedgerPostingType::LedgerJournal);
      #
      #    dimAccountController.parmValidateBlockedForManualEntry(true);
      #    dimOffsetAccountController.parmValidateBlockedForManualEntry(true);
      #    dimPaymentFeeAccountController.parmValidateBlockedForManualEntry(true);
      #
      #    // Construct the entity manager to help manage entity-related tasks like in-memory rollbacks for aborted transactions.
      #    ledgerJournalTransEntityManager = new LedgerJournalTransEntityManager(ledgerJournalTrans_DS, ledgerJournalTrans_Asset_DS, null);
      #
      #    journalFormTrans.parmCtrlVoucherGrid(ledgerJournalTrans_Voucher);
      #    journalFormTrans.parmCtrlVoucherTab(ledgerJournalTrans_Voucher1);
      #    journalFormTrans.parmCtrlTransDateGrid(ledgerJournalTrans_TransDate);
      #    journalFormTrans.parmCtrlTransDateTab(ledgerJournalTrans_TransDate1);
      #    journalFormTrans.parmCtrlExchRate(fieldExchRate);
      #    journalFormTrans.parmCtrlExchRateSecond(fieldExchrateSecond);
      #    journalFormTrans.parmCtrlTriangulation(fieldTriangulation);
      #    journalFormTrans.parmCtrlBankDepositVoucherGrid(fieldBankDepositVoucherGrid);
      #    journalFormTrans.parmCtrlBankDepositVoucherTab(fieldBankDepositVoucher);
      #    journalFormTrans.parmCtrlSettlementButton(buttonSettlement);
      #    journalFormTrans.parmCtrlDepositSlipButton(buttonDepositSlip);
      #    journalFormTrans.parmCtrlCourseButton(buttonCourse);
      #    journalFormTrans.parmCtrlReportAsReadyButton(buttonReportAsReady);
      #    journalFormTrans.parmCtrlApproveButton(buttonApprove);
      #    journalFormTrans.parmCtrlRejectButton(buttonReject);
      #    journalFormTrans.parmCtrlPostJournalMenu(buttonPostJournal);
      #    journalFormTrans.parmCtrlCheckJournalMenu(buttonCheckJournal);
      #    journalFormTrans.parmCtrlVoucherTransButton(buttonVoucherTrans);
      #    journalFormTrans.parmCtrlDeleteTransactionsButton(buttonDeleteTransactions);
      #    journalFormTrans.parmCtrlBalanceControButton(buttonBalanceControl);
      #    journalFormTrans.parmCtrlCopyPeriodicButton(buttonCopyPeriodicJournal);
      #    journalFormTrans.parmCtrlBankChequeReuseButton(bankChequeReuse);
      #    // <GEERU>
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
      #    {
      #        journalFormTrans.parmCtrlOrderPaymentTab_RU(orderPayment_RU);
      #    }
      #    // </GEERU>
      #    journalFormTrans.parmCtrlFunctionMenuButton(buttonFunctions);
      #    journalFormTrans.parmCtrlJournalTextsButton(ledgerJournalTransTxt);
      #    journalFormTrans.parmCtrlCreatePaymentButton(buttonCreatePayment);
      #    journalFormTrans.parmCtrlPaymentReconciliationButton(buttonPaymentReconciliation);
      #    journalFormTrans.parmCtrlPaymentProposalButton(buttonPaymentProposal);
      #    journalFormTrans.parmCtrlImportPaymentsButton(custInpayment);
      #    journalFormTrans.parmCtrlExecutionDateButton(custPaymentExecDate_BE);
      #    journalFormTrans.parmCtrlSalesTaxMenu(taxTransSource);
      #    journalFormTrans.parmCtrlOffsetAccountTypeGrid(ledgerJournalTrans_OffsetAccountType);
      #    journalFormTrans.parmCtrlOffsetAccountTypeTab(ledgerJournalTrans_OffsetAccountType1);
      #    journalFormTrans.parmCtrlOffsetAccountGrid(ledgerJournalTrans_OffsetAccount);
      #    journalFormTrans.parmCtrlOffsetAccountTab(ledgerJournalTrans_OffsetAccount1);
      #    journalFormTrans.parmCtrlAccountDimensionButton(accountDimension);
      #    journalFormTrans.parmCtrlOffsetAccountDimensionButton(offsetAccountDimension);
      #    journalFormTrans.parmCtrlPaymFeeAccountDimensionButton(paymentFeeAccountDimension);
      #    journalFormTrans.parmMCRCtrlDeductionButton(tamDeductionCreate);
      #
      #    journalFormTrans.formInitPost();
      #
      #    this.initLedger();
      #
      #    imageListAppl = new ImageListAppl_LedgerJournal();
      #    errorExist.imageList(imageListAppl.imageList());
      #    if(norwayEnabled)
      #    {
      #        errorPaym.visible(true);
      #        errorPaym.imageList(imageListAppl.imageList());
      #    }
      #    else
      #    {
      #        errorPaym.visible(false);
      #    }
      #
      #    lastEnteredReleaseDate = utcDateTimeNull() ;
      #    // <GEEPL>
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]) && ledgerJournalTable.JournalType == journalFormTrans.getJournalTypeId())
      #    {
      #        if (ledgerJournalTable.ledgerJournalTable_W().Prepayment_W)
      #        {
      #            ledgerJournalTrans_MarkedInvoice.allowEdit(false);
      #        }
      #    }
      #    // </GEEPL>
      #    // <GIN>
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
      #    {
      #        element.setVisible_IN();
      #        element.setTaxWithholdVisible_IN();
      #        journalFormTrans.parmCtrlExciseManufacture_IN(exciseManufacture_IN);
      #        journalFormTrans.parmCtrlExciseNone_IN(exciseNone_IN);
      #        journalFormTrans.parmCtrlExciseTraders_IN(exciseTraders_IN);
      #
      #        journalFormTrans.parmCtrlECCNumber(taxInformation_IN_ECCNumber);
      #        journalFormTrans.parmCtrlManECCRegistrationNumberTable(taxInformation_IN_ManECCRegistrationNumberTable);
      #        journalFormTrans.parmCtrlTraderECCRegistrationNumberTable(taxInformation_IN_TraderECCRegistrationNumberTable);
      #    }
      #    // </GIN>
      #
      #    // Disable the company accounts field on the general tab and on the grid in the overview tab if Intercompany transactions are disabled
      #    if (!isConfigurationkeyEnabled(configurationKeyNum(LedgerAdvIntercompanyAccounting)))
      #    {
      #        ledgerJournalTrans_Company.allowEdit(false);
      #        ledgerJournalTrans_CompanyAccount.allowEdit(false);
      #    }
      #
      #    // <GCN>
      #    if (chineseVoucher_CN)
      #    {
      #        allow = ledgerJournalTable.ledgerJournalName().NewVoucher == NewVoucher::Manually
      #            && ledgerJournalTable.VoucherAllocatedAtPosting == NoYes::No;
      #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, Voucher_CN)).enabled(allow);
      #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, Voucher)).enabled(false);
      #    }
      #    else if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCN]))
      #    {
      #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, Voucher_CN)).visible(false);
      #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, LedgerVoucherType_CN)).visible(false);
      #    }
      #    // </GCN>
      #    // Post dated checks
      #    postDatedCheckEnabled = BankParameters::find().EnablePDC;
      #    element.enablePostDatedChecksTab();
      #
      #    if (BankLCExportFeatureChecker::checkBankLCExportEnabled())
      #    {
      #        bankLCExportGroup.visible(true);
      #        bankLCExportLineNumController = BankLCExportLineNumController::construct();
      #    }
      #    else
      #    {
      #        bankLCExportGroup.visible(false);
      #    }
      #
      #    if (#PmfEnabled)
      #    {
      #        ledgerJournalTransDSEventNotifier = PCDataSourceEventNotify::construct(this);
      #        // we are interested in extendeding "Active", so form needs to implement "OnActive" interface
      #        ledgerJournalTrans_DS.addNotifyHandler(ledgerJournalTransDSEventNotifier);
      #    }
      #
      #    // <GTH>
      #    if (TaxThaiGovCertificationFeatureChecker::isUnrealizedVATEnabled())
      #    {
      #        this.updateDesignForUnrealizedVAT();
      #    }
      #    // </GTH>
      #
      #    // <GBR>
      #    if (BrazilParameters::isEnabled())
      #    {
      #        ledgerJournalTrans_DS.object(fieldNum(LedgerJournalTrans, TaxWithholdItemGroupHeading_TH)).visible(false);
      #    }
      #    // </GBR>
      #
      #    // If the current user is not tied to a call center channel, hide the
      #    // payment button
      #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRPayment)))
      #    {
      #        mcrAllowPayment = RetailMCRChannelTable::findForCurrentUser().mcrEnableOrderCompletion;
      #
      #        if (mcrAllowPayment)
      #        {
      #            mcrCustPaymButton.visible(true);
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #initLedger
      #void initLedger()
      #{
      #    if (element.args().dataset() == tableNum(LedgerJournalTable))
      #    {
      #        ledgerJournalTable  = element.args().record();
      #        journalNum          = ledgerJournalTable.JournalNum;
      #    }
      #}
    ENDSOURCE
    SOURCE #isPaymEditAllowed
      #/// <summary>
      #/// Returns whether the current payment can be edited.
      #/// </summary>
      #/// <returns>
      #/// true if the current payment can be edited; otherwise, false.
      #/// </returns>
      #public boolean isPaymEditAllowed()
      #{
      #    ;
      #
      #    return ledgerJournalTrans_ds.allowCreate() && // required by workflow
      #        (ledgerJournalTrans.RecId != 0) && // the paym has to exist to be edited
      #        !journalFormTrans.journalTable().Posted; // the paym can't be posted
      #}
    ENDSOURCE
    SOURCE #journalForm
      #JournalForm journalForm()
      #{
      #    return journalFormTrans;
      #}
    ENDSOURCE
    SOURCE #ledgerJournalEngine
      #LedgerJournalEngine ledgerJournalEngine()
      #{
      #    return ledgerJournalEngine;
      #}
    ENDSOURCE
    SOURCE #ledgerJournalTable
      #LedgerJournalTable ledgerJournalTable()
      #{
      #    return ledgerJournalTable;
      #}
    ENDSOURCE
    SOURCE #logisticsAddress
      #/// <summary>
      #/// Reads the <c>LogisticsPostalAddress</c> table for the specified RegistrationLocation (Location Id).
      #/// </summary>
      #/// <returns>
      #/// Return the <c>LogisticsPostalAddress</c> buffer for the specified registration location.
      #/// </returns>
      #//BP Deviation documented
      #display LogisticsAddressing logisticsAddress()
      #{
      #    return LogisticsPostalAddress::findByLocation(ledgerJournalTrans.CompanyLocation_IN).Address;
      #}
    ENDSOURCE
    SOURCE #makeArgs
      #/// <summary>
      #/// Makes an args object containing the form and datasource objects.
      #/// </summary>
      #/// <returns>
      #/// An args object.
      #/// </returns>
      #
      #public Args makeArgs()
      #{
      #    Args args;
      #    ;
      #
      #    args = new Args(formStr(LedgerJournalTransCustPaym));
      #    args.caller(element);
      #    args.record(ledgerJournalTrans);
      #
      #    return args;
      #
      #}
    ENDSOURCE
    SOURCE #onActive
      #public void onActive(FormObjectSet _sender)
      #{
      #    if (_sender
      #        && (_sender.name() == ledgerJournalTrans_DS.name()))
      #    {
      #        element.pdsEnableRebateButton();
      #    }
      #}
    ENDSOURCE
    SOURCE #pdsEnableRebateButton
      #public void pdsEnableRebateButton()
      #{
      #    pdsRebateTableBtn.enabled(ledgerJournalTrans.AccountType == LedgerJournalACType::Cust);
      #}
    ENDSOURCE
    SOURCE #processAllCCCharges
      #public void processAllCCCharges()
      #{
      #    ;
      #    CreditCardPosting::processAllCCCharges(ledgerJournalTrans_ds);
      #}
    ENDSOURCE
    SOURCE #processCreditCard
      #public void processCreditCard()
      #{
      #    CreditCardTrans         ccTrans;
      #    CreditCardTrans         newCCTrans;
      #    ;
      #    if (!ledgerJournalTransCC)
      #    {
      #        throw error("@ACC1312");
      #    }
      #
      #    ccTrans = CreditCardTrans::createTransfromJournal(ledgerJournalTransCC,ledgerjournalTrans);
      #
      #    ttsbegin;
      #
      #    //<-- create Credit Card Transaction
      #    ccTrans = CreditCardADV::processCreditCard(ccTrans);
      #
      #    if (ccTrans.result == '-999')
      #    {
      #        info(ccTrans.RepMsg);
      #    }
      #    else if (ccTrans.result != '0')
      #    {
      #        info(strfmt("@ACC143",ccTrans.result,ccTrans.RepMsg));
      #    }
      #    else
      #    {
      #        select firstonly forupdate newCCTrans where newCCTrans.RecId == ccTrans.RecId;
      #
      #        ledgerJournalTransCC.Processed = NoYes::Yes;
      #        ledgerJournalTransCC.PNRef     = ccTrans.pNRef;
      #        ledgerJournalTransCC.TransID   = ccTrans.TransID;
      #        ledgerJournalTransCC.update();
      #
      #        info(strFmt("@ACC144",ccTrans.pnRef));
      #    }
      #
      #    ledgerJournalTransCC_ds.reread();
      #    ledgerJournalTransCC_ds.active();
      #
      #    ttscommit;
      #}
      #
    ENDSOURCE
    SOURCE #refreshCCID
      #public void refreshCCID(CreditCardId       creditCardId)
      #{
      #    CreditCardTable         ccTable = CreditCardTable::find(creditCardId);
      #    ;
      #    LedgerJournalTransCC.CreditCardId = creditCardId;
      #    LedgerJournalTransCC.write();
      #    LedgerJournalTransCC_ds.refresh();
      #
      #
      #
      #}
    ENDSOURCE
    SOURCE #refreshGrid
      #/// <summary>
      #/// Refreshes the grid from the database.
      #/// </summary>
      #/// <remarks>
      #/// Use this when the underlying records have been changed by another form or process.
      #/// </remarks>
      #public void refreshGrid()
      #{
      #    ;
      #
      #    ledgerJournalTrans_ds.executeQuery();
      #}
    ENDSOURCE
    SOURCE #refreshProposal
      #void refreshProposal()
      #{
      #    ledgerJournalTrans_DS.research();
      #    element.bookRefresh();
      #}
    ENDSOURCE
    SOURCE #refreshTotalAmount
      #public void refreshTotalAmount(LedgerJournalTrans _ledgerJournalTrans)
      #{
      #    ledgerJournalEngine.ledgerJournalTableUpdateTotals(ledgerJournalTable, true);
      #    ledgerJournalEngine.voucherTotals(_ledgerJournalTrans, true);
      #}
      #
    ENDSOURCE
    SOURCE #setCreditCard
      #void setCreditCard()
      #{
      #    CreditCardParameters        ccParams;
      #    PaymMode                    paymMode;
      #    CreditCardUsers             ccUsers;
      #    ;
      #    select ccParams;
      #
      #    if (!ccParams)
      #        return;
      #
      #    select firstonly ccUsers where ccUsers.UserId == curUserId();
      #
      #    if (!ccUsers)
      #        return;
      #
      #    if (!ccParams)
      #    //<-- Get parameters to determine if we should unlock credit card fields
      #    {
      #        ccParams = CreditCardParameters::findParameter();
      #        paymMode = ccParams.PaymMode;
      #    }
      #    else
      #    {
      #        paymMode = ccParams.PaymMode;
      #    }
      #
      #    if (ledgerJournalTrans.PaymMode == paymMode)
      #    {
      #        ledgerJournalTransCC_ds.allowEdit(true);
      #        processCreditCard.enabled(true);
      #        CreditCardAdhocCreate.enabled(true);
      #    }
      #    else
      #    {
      #        ledgerJournalTransCC_ds.allowEdit(false);
      #        processCreditCard.enabled(true);
      #        CreditCardAdhocCreate.enabled(false);
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #setDebCredProposal
      #void setDebCredProposal(boolean _init)
      #{
      #    if (_init)
      #    {
      #        debCredProposal = DebCredProposal::None;
      #    }
      #
      #    if (debCredProposal != debCredProposalOld)
      #    {
      #        switch(debCredProposal)
      #        {
      #            case DebCredProposal::Credit :
      #                ledgerJournalTrans_AmountCurDebit.skip(true);
      #                amountCurDebit.skip(true);
      #                break;
      #
      #            case DebCredProposal::Debit :
      #                ledgerJournalTrans_AmountCurCredit.skip(true);
      #                amountCurCredit.skip(true);
      #                break;
      #
      #            case DebCredProposal::None :
      #                ledgerJournalTrans_AmountCurCredit.skip(false);
      #                amountCurCredit.skip(false);
      #                ledgerJournalTrans_AmountCurDebit.skip(false);
      #                amountCurDebit.skip(false);
      #                break;
      #        }
      #        debCredProposalOld = debCredProposal;
      #    }
      #}
    ENDSOURCE
    SOURCE #setLookupButton_BR
      #// <GBR>
      #void setLookupButton_BR()
      #{
      #    if (CustPaymModeTable::find(ledgerJournalTrans.PaymMode).ClassId != classNum(CustOutPaym_CNAB_BR))
      #    {
      #        custEPRemitInfo_BR_ds.object(fieldNum(CustEPRemitInfo_BR,DocumentType)).allowEdit(false);
      #        custEPRemitInfo_BR_ds.object(fieldNum(CustEPRemitInfo_BR,BankFolder)).allowEdit(false);
      #        custEPRemitInfo_BR_ds.object(fieldNum(CustEPRemitInfo_BR,Instruction_1)).allowEdit(false);
      #        custEPRemitInfo_BR_ds.object(fieldNum(CustEPRemitInfo_BR,Instruction_2)).allowEdit(false);
      #    }
      #    else if (ledgerJournalTrans.RecId)
      #    {
      #        custEPRemitInfo_BR_ds.object(fieldNum(CustEPRemitInfo_BR,DocumentType)).allowEdit(true);
      #        custEPRemitInfo_BR_ds.object(fieldNum(CustEPRemitInfo_BR,BankFolder)).allowEdit(true);
      #        custEPRemitInfo_BR_ds.object(fieldNum(CustEPRemitInfo_BR,Instruction_1)).allowEdit(true);
      #        custEPRemitInfo_BR_ds.object(fieldNum(CustEPRemitInfo_BR,Instruction_2)).allowEdit(true);
      #    }
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #setPaymentByLetterOfCredit
      #public void setPaymentByLetterOfCredit()
      #{
      #    if (ledgerJournalTrans.getLedgerJournalTransBankLC().BankLCLine)
      #    {
      #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, PaymMode)).allowEdit(false);
      #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, PaymSpec)).allowEdit(false);
      #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, Prepayment)).allowEdit(false);
      #    }
      #}
    ENDSOURCE
    SOURCE #setTaxWithholdEnabled_IN
      #// <GIN>
      #void setTaxWithholdEnabled_IN()
      #{
      #    ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, tdsGroup_IN)).enabled((!ledgerJournalTrans.tcsGroup_IN));
      #    ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, tcsGroup_IN)).enabled((!ledgerJournalTrans.tdsGroup_IN));
      #    taxWithhold_IN.enabled(ledgerJournalTrans.tdsGroup_IN || ledgerJournalTrans.tcsGroup_IN);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTaxWithholdVisible_IN
      #// <GIN>
      #void setTaxWithholdVisible_IN()
      #{
      #    TaxWithholdParameters_IN    taxWithholdParameters;
      #
      #    taxWithholdParameters = TaxWithholdParameters_IN::find();
      #    withholdingTax_IN.visible(taxWithholdParameters.tdsPayment || taxWithholdParameters.tcsPayment);
      #    ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, tdsGroup_IN)).visible(taxWithholdParameters.tdsPayment);
      #    ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, tcsGroup_IN)).visible(taxWithholdParameters.tcsPayment);
      #    taxWithhold_IN.visible(taxWithholdParameters.tdsPayment || taxWithholdParameters.tcsPayment);
      #    withholdingTax_TaxInformation_IN.visible(taxWithholdParameters.tdsPayment || taxWithholdParameters.tcsPayment);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setVisible_IN
      #// <GIN>
      #private void setVisible_IN()
      #{
      #    TaxParameters       taxParametersLoc = TaxParameters::find();
      #    boolean             isTaxParametersMarked   = TaxParameters::checkTaxParameters_IN();
      #
      #    ledgerJournalTrans_AssessableValue_IN.visible(isTaxParametersMarked);
      #    ledgerJournalTrans_MaximumRetailPrice_IN.visible(isTaxParametersMarked);
      #    tabTaxInformation_IN.visible(isTaxParametersMarked || TaxWithholdParameters_IN::checkTaxParameters());
      #    vat.visible(taxParametersLoc.vat_in);
      #    salesTax.visible(taxParametersLoc.SalesTax_IN);
      #    excise_IN.visible(taxParametersLoc.Excise_IN);
      #    customs_IN.visible(taxParametersLoc.Customs_IN);
      #    serviceTax_IN.visible(taxParametersLoc.ServiceTax_IN);
      #    withholdingTax_IN.visible(TaxWithholdParameters_IN::checkTaxParameters());
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #updateDesignForUnrealizedVAT
      #/// <summary>
      #/// Sets fields not visible.
      #/// </summary>
      #// <GTH>
      #private void updateDesignForUnrealizedVAT()
      #{
      #    ledgerJournalTransExtensionTH_ds.object(fieldNum(LedgerJournalTransExtensionTH, InvoiceReceiptDate)).visible(false);
      #    ledgerJournalTransExtensionTH_ds.object(fieldNum(LedgerJournalTransExtensionTH, TaxInvoiceReceiptDate)).visible(false);
      #    ledgerJournalTransExtensionTH_ds.object(fieldNum(LedgerJournalTransExtensionTH, RealVendName)).visible(false);
      #    ledgerJournalTransExtensionTH_ds.object(fieldNum(LedgerJournalTransExtensionTH, InvoiceDate)).visible(false);
      #}
      #// </GTH>
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LedgerJournalTrans
          Table               #LedgerJournalTrans
          Index               #NumVoucherIdx
          CounterField        #LineNum
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD AccountType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #//
                #// Handles the AccountType modified event.
                #//
                #public void modified()
                #{
                #    super();
                #    ledgerJournalEngine.accountTypeModified(ledgerJournalTrans, null, ledgerJournalTrans_Asset);
                #    // The selected invoice and related fields must be cleared so that
                #    // related SpecTrans records are cleared on save.
                #    ledgerJournalTrans.MarkedInvoice        = '';
                #    ledgerJournalTrans.MarkedInvoiceRecId   = 0;
                #    element.enableDepreciationStartDate();
                #
                #    ledgerJournalTrans_ds.cacheCalculateMethod(tableMethodStr(LedgerJournalTrans, accountName));
                #    ledgerJournalTrans_ds.rereadReferenceDataSources();
                #    // <GEERU>
                #    if (countryRegion_RU)
                #    {
                #        journalFormTrans.enableAgreementFields_RU();
                #    }
                #    // </GEERU>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Company
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    if (ledgerJournalTrans.parmLedgerDimension())
                #    {
                #        // Clear AccountNum if already set, not clearing can cause validation errors due to new company
                #        ledgerJournalTrans.parmLedgerDimension(0);
                #        element.accountNumModifiedPost();
                #    }
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    ledgerJournalEngine.companyModified(ledgerJournalTrans, ledgerJournalTrans_Asset);
                #    dimAccountController.setDataAreaId(ledgerJournalTrans.Company, true);
                #    ledgerJournalTrans_ds.rereadReferenceDataSources();
                #    //<GIN>
                #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
                #    {
                #        ledgerJournalEngine.companyModified_IN(ledgerJournalTrans, LedgerJournalTransTaxExtensionIN);
                #        taxInformation_IN_ds.executeQuery();
                #    }
                #    //</GIN>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD AmountCurDebit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #
                #    ledgerJournalEngine.cashDiscCodeModified(ledgerJournalTrans);
                #    ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #//        super(_formControl, _filterStr);
                #    ledgerJournalEngine.currencyLookup(_formControl,ledgerJournalTrans);
                #}
              ENDSOURCE
              SOURCE #modified
                #void modified()
                #{
                #    ledgerJournalEngine.currencyModified(ledgerJournalTrans);
                #    journalFormTrans.enableFieldsActive();
                #    super();
                #
                #    if (SpecTrans::getSpecTransCount(ledgerJournalTrans.company(), ledgerJournalTrans.TableId, ledgerJournalTrans.RecId) > 0)
                #    {
                #        ledgerJournalEngine.findSettledAmount(ledgerJournalTrans);
                #    }
                #
                #    ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    TaxGroupHeading::taxGroupLookup(_formControl, ledgerJournalTrans.Company);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PostingProfile
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    LedgerJournalEngine::lookupPostingProfileForAccountType(_formControl, _filterStr, ledgerJournalTrans);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Voucher
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    ledgerJournalEngine.formMethodDataSourceVoucherModified();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD AmountCurCredit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    ledgerJournalEngine.cashDiscCodeModified(ledgerJournalTrans);
                #    ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
                #
                #    // enable/disable mark invoice line button on the basis of Credit field amount.
                #    markInvoiceLine.enabled(CustOpenTransLineManager::setMarkInvoiceButton(element.makeArgs()));
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    TaxTable::taxTableLookup(_formControl, ledgerJournalTrans.Company);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BankDepositVoucher
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    ledgerJournalTrans_ds.rereadReferenceDataSources();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PaymSpec
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        ledgerJournalTransPayment_BR.setPaymentSetting_BR(ledgerJournalTrans.AccountType, ledgerJournalTrans.RecId, LedgerJournalTrans.PaymSpec, ledgerJournalTrans.PaymMode);
                #        LedgerJournalTransPayment_BR_ds.reread();
                #        LedgerJournalTransPayment_BR_ds.refresh();
                #    }
                #    // </GBR>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PaymMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    if (ledgerJournalTrans.AccountType == LedgerJournalACType::Ledger)
                #    {
                #        // A custom lookup is required for ledger accounts because different tables are
                #        // accessed depending on the calling form. in all other supported cases the table
                #        // relation provides the necessary link.
                #        CustPaymModeTable::lookupPaymMethod(_formControl, _filterStr, ledgerJournalTrans.Company);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #void modified()
                #{
                #    // <GEERU>
                #    Object obj = ledgerJournalEngine;
                #    // </GEERU>
                #    boolean allowPostDatedChecks;
                #
                #    super();
                #    // <GEERU>
                #    if (countryRegion_RU)
                #    {
                #        journalFormTrans.enableOrderPaymentFields_RU();
                #        obj.updatePaymentOrderBudgetTrans_RU(ledgerJournalTrans);
                #    }
                #    // </GEERU>
                #    ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
                #    ledgerJournalTrans_ds.rereadReferenceDataSources();
                #    custVendNACHAIATInfoTable_US.enabled(
                #                    CustVendNACHAIATInfoTable_US::isValidCustVendNACHAIATInfoTable_US(ledgerJournalTrans));
                #
                #    //--> Red Maple Begin
                #    ledgerJournalTransCC_ds.refresh();
                #    //<-- Red Maple End
                #
                #    // Enable/disable PDCs
                #    if(postDatedCheckEnabled)
                #    {
                #        allowPostDatedChecks = CustVendPDCManager::allowPostDatedChecks(ledgerJournalTrans);
                #        custPDCRegister_ds.allowEdit(allowPostDatedChecks);
                #        printAckReceipt.visible(allowPostDatedChecks);
                #        printAckReceipt.enabled(allowPostDatedChecks);
                #    }
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        CustEPRemitInfo_BR_ds.reread();
                #        CustEPRemitInfo_BR_ds.refresh();
                #        ledgerJournalTransPayment_BR.setPaymentSetting_BR(ledgerJournalTrans.AccountType, ledgerJournalTrans.RecId, LedgerJournalTrans.PaymSpec, ledgerJournalTrans.PaymMode);
                #        LedgerJournalTransPayment_BR_ds.reread();
                #        LedgerJournalTransPayment_BR_ds.refresh();
                #        element.setLookupButton_BR();
                #    }
                #    // </GBR>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MarkedInvoice
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #updatePaymentTerms
                #/// <summary>
                #///  Updates the default Payment terms with  posted invoices payment terms.
                #/// </summary>
                #protected void updatePaymentTerms()
                #{
                #    CustTrans           custTrans;
                #    CustInvoiceTable    custInvoiceTable;
                #    CustInvoiceJour     custInvoiceJour;
                #
                #    custTrans = CustTransOpen::find(ledgerJournalTrans.MarkedInvoiceRecId).custTrans();
                #    if (custTrans)
                #    {
                #        if (custTrans.TransType == LedgerTransType::Cust)
                #        {
                #            custInvoiceTable = CustInvoiceTable::findPostedInvoice(custTrans.AccountNum, custTrans.Invoice, custTrans.TransDate);
                #            // for freetext invoice
                #            if (custInvoiceTable.Payment)
                #            {
                #                ledgerJournalTrans.Payment = custInvoiceTable.Payment;
                #            }
                #        }
                #        else if (custTrans.TransType == LedgerTransType::Sales)
                #        {
                #            custInvoiceJour = CustInvoiceJour::findFromCustTrans(custTrans.Invoice, custTrans.TransDate, custTrans.AccountNum);
                #            // for salesorder invoice
                #            if (custInvoiceJour.Payment)
                #            {
                #                ledgerJournalTrans.Payment = custInvoiceJour.Payment;
                #            }
                #        }
                #    }
                #}
                #
              ENDSOURCE
              SOURCE #calculateWithholdTax_TH
                #private void calculateWithholdTax_TH()
                #{
                #    if ((SysCountryRegionCode::isLegalEntityInCountryRegion([#isoTH, #isoSA, #isoGB, #isoIE]) || BrazilParameters::isEnabled())
                #        && ledgerJournalTrans.TaxWithholdCalculate_TH
                #        && ledgerJournalTrans.MarkedInvoice)
                #    {
                #        TaxWithhold::construct(ledgerJournalTrans).createAllTaxWithholdTrans();
                #        ledgerJournalEngine.findSettledAmount(ledgerJournalTrans);
                #    }
                #}
              ENDSOURCE
              SOURCE #updatePaymentAmount
                #//
                #// Updates AmountCurCredit and AmountCurDebit for the total of the marked invoice.
                #// If the current values are non-zero and are different from the total, the user is
                #// prompted by a message box to update the amounts.
                #//
                #protected void updatePaymentAmount()
                #{
                #    Amount paymentAmount;
                #    boolean updateAmount = false;
                #    // <GBR>
                #    CustTransOpen       custTransOpen;
                #    // </GBR>
                #
                #    if (ledgerJournalTrans.MarkedInvoiceCompany != '' ||
                #        ledgerJournalTrans.MarkedInvoice != '' ||
                #        ledgerJournalTrans.MarkedInvoiceRecId != 0)
                #    {
                #        // After LedgerJournalTrans.MarkedInvoice validate executes the MarkedInvoice fields
                #        // should be in sync with each other.  All with valid values or all empty.
                #        Debug::assert(ledgerJournalTrans.MarkedInvoiceCompany != '' &&
                #                        ledgerJournalTrans.MarkedInvoice != '' &&
                #                        ledgerJournalTrans.MarkedInvoiceRecId != 0);
                #
                #        paymentAmount = LedgerJournalEngine_CustPayment::calculateOpenInvoiceAmount(ledgerJournalTrans.MarkedInvoiceCompany,
                #                                                                                    ledgerJournalTrans.MarkedInvoiceRecId,
                #                                                                                    ledgerJournalTrans.CurrencyCode,
                #                                                                                    ledgerJournalTrans.Company,
                #                                                                                    ledgerJournalTrans.TransDate,
                #                                                                                    ledgerJournalTrans.ExchRate,
                #                                                                                    ledgerJournalTrans.PaymMode);
                #    }
                #    else
                #    {
                #        // After LedgerJournalTrans.MarkedInvoice validate executes the MarkedInvoice fields
                #        // should be in sync with each other.  All with valid values or all empty.
                #        Debug::assert(ledgerJournalTrans.MarkedInvoiceCompany == '' &&
                #                        ledgerJournalTrans.MarkedInvoice == '' &&
                #                        ledgerJournalTrans.MarkedInvoiceRecId == 0);
                #
                #        // No invoice is selected so paymentAmount should be 0
                #        paymentAmount = 0;
                #    }
                #
                #    if (paymentAmount != 0 && (ledgerJournalTrans.AmountCurCredit != 0 || ledgerJournalTrans.AmountCurDebit != 0))
                #    {
                #        if (paymentAmount != ledgerJournalTrans.AmountCurCredit || ledgerJournalTrans.AmountCurDebit != 0)
                #        {
                #            // Ask the user if amount should be updated.
                #            updateAmount = Box::yesNo("@SYS58110", DialogButton::Yes, "@SYS8801", "@SYS29050") == DialogButton::Yes;
                #        }
                #    }
                #    else
                #    {
                #        // Need to update the amount.
                #        updateAmount = true;
                #    }
                #
                #    if (updateAmount)
                #    {
                #        ledgerJournalTrans.AmountCurCredit = paymentAmount;
                #        ledgerJournalTrans.AmountCurDebit = 0;
                #        // <GBR>
                #        if (BrazilParameters::isEnabled())
                #        {
                #            if (ledgerJournalTrans.MarkedInvoice)
                #            {
                #                changecompany(ledgerJournalTrans.MarkedInvoiceCompany)
                #                {
                #                    // Find open invoice record
                #                    custTransOpen = CustTransOpen::find(ledgerJournalTrans.MarkedInvoiceRecId);
                #                }
                #            }
                #            LedgerJournalTransPayment_BR.FinInterestAmountCur_BR = custTransOpen.InterestAmountPaymCur_BR;
                #            LedgerJournalTransPayment_BR.FineAmountCur_BR = custTransOpen.FineAmountPaymCur_BR;
                #        }
                #        // </GBR>
                #    }
                #}
                #
              ENDSOURCE
              SOURCE #lookup
                #//
                #// Displays a custom lookup form that provides the user with the means of selecting
                #// a MarkedInvoice record filtered by the AccountNum (customer) field.
                #//
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    FormRun formRun;
                #    Args args;
                #    ;
                #
                #    args = new Args(formStr(CustOpenInvoicesLookup));
                #    args.record(ledgerJournalTrans);
                #    args.caller(element);
                #    args.lookupValue(ledgerJournalTrans.MarkedInvoice);
                #
                #    if (_filterStr != '')
                #    {
                #        args.parm(_filterStr);
                #    }
                #
                #    formRun = ClassFactory::formRunClassOnClient(args);
                #    formRun.init();
                #
                #    this.performFormLookup(formRun, _formControl);
                #}
                #
              ENDSOURCE
              SOURCE #initFromMarkedInvoice
                #//
                #// Sets the default currency and accountnum for this LedgerJournalTrans record.
                #//
                #protected void initFromMarkedInvoice()
                #{
                #    CustTrans custTrans;
                #
                #    if (ledgerJournalTrans.MarkedInvoiceCompany != '' ||
                #        ledgerJournalTrans.MarkedInvoice != '' ||
                #        ledgerJournalTrans.MarkedInvoiceRecId != 0)
                #    {
                #        // After LedgerJournalTrans.MarkedInvoice validate executes the MarkedInvoice fields
                #        // should be in sync with each other.  All with valid values or all empty.
                #        Debug::assert(ledgerJournalTrans.MarkedInvoiceCompany != '' &&
                #                        ledgerJournalTrans.MarkedInvoice != '' &&
                #                        ledgerJournalTrans.MarkedInvoiceRecId != 0);
                #
                #        if (!ledgerJournalTrans.parmLedgerDimension())
                #        {
                #            changecompany(ledgerJournalTrans.MarkedInvoiceCompany)
                #            {
                #                custTrans = CustTrans::findFromInvoice(ledgerJournalTrans.MarkedInvoice);
                #
                #                if (custTrans.RecId != 0)
                #                {
                #                    ledgerJournalTrans.Company = ledgerJournalTrans.MarkedInvoiceCompany;
                #                    ledgerJournalTrans.parmAccount(custTrans.AccountNum);
                #
                #                    // Default values based on AccountNum
                #                    ledgerJournalEngine.accountModified(ledgerJournalTrans);
                #                    ledgerJournalEngine.initCustPostingProfile(ledgerJournalTrans);
                #
                #                    if (ledgerJournalTrans.CurrencyCode != custTrans.CurrencyCode)
                #                    {
                #                        // Override with the invoice currency and default based on it
                #                        ledgerJournalTrans.CurrencyCode = custTrans.CurrencyCode;
                #                        ledgerJournalEngine.currencyModified(ledgerJournalTrans);
                #                    }
                #                }
                #            }
                #        }
                #    }
                #    else
                #    {
                #        // After LedgerJournalTrans.MarkedInvoice validate executes the MarkedInvoice fields
                #        // should be in sync with each other.  All with valid values or all empty.
                #        Debug::assert(ledgerJournalTrans.MarkedInvoiceCompany == '' &&
                #                        ledgerJournalTrans.MarkedInvoice == '' &&
                #                        ledgerJournalTrans.MarkedInvoiceRecId == 0);
                #
                #        // <GBR>
                #        if (BrazilParameters::isEnabled())
                #        {
                #            LedgerJournalTransPayment_BR.FinInterestAmountCur_BR = 0;
                #            LedgerJournalTransPayment_BR.FineAmountCur_BR        = 0;
                #
                #            // //clear Interest/Fine information from the OpenTrans related to this journal
                #            CustVendOpenTransManager::clearInterestAndFineAmounts_BR(ledgerJournalTrans.company(), ledgerJournalTrans.TableId, ledgerJournalTrans.RecId);
                #        }
                #        // </GBR>
                #
                #        ledgerJournalTrans.SettleVoucher = SettlementType::None;
                #
                #        // MarkedInvoice fields are not set, delete any existing SpecTrans for this LedgerJournalTrans record
                #        SpecTransManager::construct(ledgerJournalTrans).deleteAll();
                #    }
                #}
                #
              ENDSOURCE
              SOURCE #modified
                #//
                #// Sets defaults for fields related to MarkedInvoice.
                #//
                #public void modified()
                #{
                #    super();
                #    this.initFromMarkedInvoice();
                #
                #    // Update the Payment Terms.
                #    this.updatePaymentTerms();
                #
                #    // Update the amount of the payment.
                #    this.updatePaymentAmount();
                #
                #    ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
                #
                #    ledgerJournalTrans_DS.write();
                #    ledgerJournalTrans_ds.rereadReferenceDataSources();
                #    this.calculateWithholdTax_TH();
                #}
                #
              ENDSOURCE
              SOURCE #validate
                #//
                #// Validation for the MarkedInvoice field.
                #//
                #// Remarks: Synchronizes the MarkedInvoice and MarkedInvoiceRecId fields if necessary.
                #//
                #public boolean validate()
                #{
                #    boolean isSpecTransForOtherTrans;
                #    boolean isValid;
                #    boolean doInvoiceAndInvoiceRecIdMatch = false;
                #    boolean matchingCustTransOpenRecFound = false;
                #    boolean sharedServiceCompanyRecordFound = false;
                #    CustTrans custTrans;
                #    SpecTrans specTrans;
                #    CustTransOpen custTransOpen;
                #    DirPartyRecId custTransAccountNumParty;
                #    DirPartyRecId ledgerJournalTransAccountNumParty;
                #    container sharedServiceCompanies;
                #
                #    isValid = super();
                #
                #    if (isValid)
                #    {
                #        if (ledgerJournalTrans.MarkedInvoice != '')
                #        {
                #            // The MarkedInvoice field was updated to some non-empty value, so synchronize
                #            // MarkedInvoiceRecId if necessary and validate that the change is okay.
                #            if (ledgerJournalTrans.MarkedInvoiceRecId != 0 && ledgerJournalTrans.MarkedInvoiceCompany != '')
                #            {
                #                changecompany(ledgerJournalTrans.MarkedInvoiceCompany)
                #                {
                #                    if (LedgerJournalEngine_CustPayment::doInvoiceAndOpenRecIdMatchUp(ledgerJournalTrans.MarkedInvoice,
                #                                                                                       ledgerJournalTrans.MarkedInvoiceRecId))
                #                    {
                #                        doInvoiceAndInvoiceRecIdMatch = true;
                #                    }
                #                    else
                #                    {
                #                        doInvoiceAndInvoiceRecIdMatch = false;
                #                        ledgerJournalTrans.MarkedInvoiceRecId = 0;
                #                        ledgerJournalTrans.MarkedInvoiceCompany = '';
                #                    }
                #                }
                #            }
                #
                #            if (doInvoiceAndInvoiceRecIdMatch == false && (ledgerJournalTrans.MarkedInvoiceRecId == 0 || ledgerJournalTrans.MarkedInvoiceCompany == ''))
                #            {
                #                // The MarkedInvoice and MarkedInvoiceRecId fields have fallen out of synchronization; the
                #                // MarkedInvoice field was changed manually.
                #
                #                // Get companies that are in the shared service boundary with the company specified on the transaction.
                #                sharedServiceCompanies = CustVendOpenTransManager::findSharedServiceCompanies(ledgerJournalTrans.Company);
                #
                #                // Get the earliest due CustTransOpen RecId for this invoice.
                #                // Find matching CustTransOpen record, if more than one record is returned then fail.
                #                while select crosscompany:sharedServiceCompanies RecId, DataAreaId from custTransOpen
                #                    order by DueDate asc
                #                    join RecId from custTrans
                #                    where custTrans.RecId   == custTransOpen.RefRecId &&
                #                          custTrans.Invoice == ledgerJournalTrans.MarkedInvoice
                #                {
                #                    if (!matchingCustTransOpenRecFound)
                #                    {
                #                        ledgerJournalTrans.MarkedInvoiceRecId = custTransOpen.RecId;
                #                        ledgerJournalTrans.MarkedInvoiceCompany = custTransOpen.DataAreaId;
                #                        matchingCustTransOpenRecFound = true;
                #                        doInvoiceAndInvoiceRecIdMatch = true;
                #                    }
                #                    else
                #                    {
                #                        // A second record was found, fail.  The lookup will have to be used.
                #                        ledgerJournalTrans.MarkedInvoiceRecId = 0;
                #                        ledgerJournalTrans.MarkedInvoiceCompany = '';
                #                        matchingCustTransOpenRecFound = false;
                #                        doInvoiceAndInvoiceRecIdMatch = false;
                #                        break;
                #                    }
                #                    // An invoice in the shared service boundary was located.
                #                    sharedServiceCompanyRecordFound = true;
                #                }
                #
                #                if (sharedServiceCompanyRecordFound == false)
                #                {
                #                    // Looking for an Invoice that is not in the Shared Service Boundary
                #                    select crosscompany RecId, DataAreaId from custTransOpen
                #                        order by DueDate asc
                #                        join custTrans
                #                        where custTrans.RecId   == custTransOpen.RefRecId &&
                #                              custTrans.Invoice == ledgerJournalTrans.MarkedInvoice;
                #
                #                    if (custTransOpen)
                #                    {
                #                        // The Invoice is for a company that is outside of the Shared Service Boundary.
                #                        isValid = checkFailed("@SYS105827");
                #                        return isValid;
                #                    }
                #                }
                #            }
                #
                #            if (doInvoiceAndInvoiceRecIdMatch)
                #            {
                #                changecompany(ledgerJournalTrans.MarkedInvoiceCompany)
                #                {
                #                    // Find existing CustTrans for the MarkedInvoice field.
                #                    custTrans = CustTrans::findFromInvoice(ledgerJournalTrans.MarkedInvoice);
                #                }
                #
                #                // Find existing SpecTrans for the MarkedInvoice field.
                #                specTrans = SpecTrans::findByRef(ledgerJournalTrans.MarkedInvoiceCompany, tableNum(CustTransOpen), ledgerJournalTrans.MarkedInvoiceRecId);
                #
                #                isSpecTransForOtherTrans = specTrans.RecId != 0 && !(specTrans.SpecTableId == tableNum(LedgerJournalTrans) && specTrans.SpecRecId == ledgerJournalTrans.RecId);
                #
                #                if (custTrans.RecId == 0 ||
                #                    ledgerJournalTrans.MarkedInvoiceRecId == 0 ||
                #                    custTrans.remainAmountCur() <= 0 ||
                #                    isSpecTransForOtherTrans)
                #                {
                #                    // The Invoice either does not exist or there is an existing SpecTrans from another transaction.
                #                    isValid = checkFailed("@SYS105400");
                #                }
                #            }
                #            else
                #            {
                #                // Direct the user to use the lookup button to select the Invoice.
                #                isValid = checkFailed("@SYS116479");
                #                return isValid;
                #            }
                #
                #            if (ledgerJournalTrans.parmLedgerDimension())
                #            {
                #                // Retreive the Party for the LedgerJournalTrans AccountNum and the CustTrans AccountNum
                #                custTransAccountNumParty = CustTable::findByCompany(custTrans.company(), custTrans.AccountNum).Party;
                #                ledgerJournalTransAccountNumParty = CustTable::findByCompany(ledgerJournalTrans.Company, ledgerJournalTrans.parmAccount()).Party;
                #
                #                if (custTransAccountNumParty != ledgerJournalTransAccountNumParty)
                #                {
                #                    // The invoice does not fall under the payment customer.
                #                    isValid = checkFailed("@SYS105827");
                #                }
                #            }
                #        }
                #        else
                #        {
                #            // <GBR>
                #            if (BrazilParameters::isEnabled())
                #            {
                #                // Clearing Interest/Fine Amounts
                #                changecompany(ledgerJournalTrans.MarkedInvoiceCompany)
                #                {
                #                    // Find open invoice record
                #                    custTransOpen   = CustTransOpen::find(ledgerJournalTrans.MarkedInvoiceRecId);
                #                }
                #
                #                changeCompany(LedgerJournalTrans.company())
                #                {
                #                    custTransOpen.selectForUpdate(true);
                #                    custTransOpen.FineAmount_BR = 0;
                #                    custTransOpen.FineAmountPaymCur_BR = 0;
                #                    custTransOpen.InterestAmount_BR = 0;
                #                    custTransOpen.InterestAmountPaymCur_BR = 0;
                #                    custTransOpen.update();
                #                }
                #                LedgerJournalTransPayment_BR.FinInterestAmountCur_BR = 0;
                #                LedgerJournalTransPayment_BR.FineAmountCur_BR = 0;
                #            }
                #            // </GBR>
                #
                #            // <GBR>
                #            if (BrazilParameters::isEnabled())
                #            {
                #                changecompany(ledgerJournalTrans.MarkedInvoiceCompany)
                #                {
                #                    TaxWithhold::uncheckWithholdTrans_BR(ledgerJournalTrans);
                #                }
                #            }
                #            // </GBR>
                #
                #            // The invoice was blanked out or the company was not set, so clear the remaining 'MarkedInvoice' fields.
                #            ledgerJournalTrans.MarkedInvoiceRecId = 0;
                #            ledgerJournalTrans.MarkedInvoiceCompany = '';
                #            LedgerJournalTransBankLC::syncSettlement(ledgerJournalTrans, 0);
                #        }
                #    }
                #
                #    return isValid;
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD OffsetAccountType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    LedgerJournalACType offsetACType = this.getValue();
                #
                #//  The call to super() was replaced with the following lines from super() because the defaulting logic was determined to be
                #//  form-specific, and defaulting for asset was moved to the LedgerJournalEngine class and requires multiple table buffers and
                #//  thus cannot be called from the super()
                #//
                #    if (priorOffsetAccountType != offsetACType)
                #    {
                #        priorOffsetAccountType = offsetACType;
                #        ledgerJournalEngine.offsetAccountTypeModified(ledgerJournalTrans, null, ledgerJournalTrans_Asset);
                #
                #        if (ledgerJournalTrans.modifiedFieldRemovesAccruals(fieldNum(LedgerJournalTrans, OffsetAccountType)))
                #        {
                #            ledgerJournalTrans.removeAccruals();
                #        }
                #    }
                #//  super();
                #
                #    element.enableDepreciationStartDate();
                #
                #    ledgerJournalTrans_ds.cacheCalculateMethod(tableMethodStr(LedgerJournalTrans, offsetAccountName));
                #    ledgerJournalTrans_ds.rereadReferenceDataSources();
                #    // <GEERU>
                #    if (countryRegion_RU)
                #    {
                #        journalFormTrans.enableAgreementFields_RU();
                #    }
                #    // </GEERU>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD OffsetCompany
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    ledgerJournalEngine.offsetCompanyModified(ledgerJournalTrans, ledgerJournalTrans_Asset);
                #    dimOffsetAccountController.setDataAreaId(ledgerJournalTrans.OffsetCompany, true);
                #    ledgerJournalTrans_ds.rereadReferenceDataSources();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TransDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #    // <GCN>
                #    if (chineseVoucher_CN)
                #    {
                #        ledgerJournalEngine.transDateUpdate_CN(ledgerJournalTrans);
                #    }
                #    // </GCN>
                #    ledgerJournalEngine.transDateModified(ledgerJournalTrans);
                #
                #    ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DocumentDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #
                #    ledgerJournalEngine.documentDateModified(ledgerJournalTrans);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Payment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #
                #    ledgerJournalEngine.paymentModified(ledgerJournalTrans);
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CashDiscCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #
                #    ledgerJournalEngine.cashDiscCodeModified(ledgerJournalTrans);
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Triangulation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #    ledgerJournalEngine.triangulationModified(ledgerJournalTrans);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxItemGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    TaxItemGroupHeading::taxItemGrouplookup(_formControl, ledgerJournalTrans.Company);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Prepayment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ledgerJournalTrans.Prepayment &&
                #        CustParameters::find().TaxOnPrepayment &&
                #       !ledgerJournalTrans.ledgerJournalTable().LedgerJournalInclTax)
                #    {
                #        error ("@SYS98399");
                #        ret = false;
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #    ledgerJournalEngine.initCustPostingProfile(ledgerJournalTrans);
                #    element.enableButtonsActive();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BankCentralBankPurposeCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    ledgerJournalEngine.bankCentralBankPurposeCodeModified(ledgerJournalTrans);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustVendBankAccountId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CustBankAccount::lookupBankAccount(_formControl, ledgerJournalTrans.parmAccount(), ledgerJournalTrans.Company);
                #}
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    Args        args;
                #    FormRun     formRun;
                #    ;
                #    args = new Args(formStr(CustBankAccounts));
                #
                #    args.record(ledgerJournalTrans);
                #
                #    formRun = classfactory.formRunClass(args);
                #    formRun.init();
                #    formRun.run();
                #    formRun.detach();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BankRemittanceType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BankAccountId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
                #    ledgerJournalTrans_ds.refresh();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD LedgerDimension
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.accountNumModifiedPost();
                #    journalFormTrans.enableButtonsActive();
                #
                #    ledgerJournalTrans_ds.cacheCalculateMethod(tableMethodStr(LedgerJournalTrans, accountName));
                #    ledgerJournalTrans_ds.rereadReferenceDataSources();
                #
                #    // <GIN>
                #    if (TaxWithholdParameters_IN::checkTaxParameters())
                #    {
                #        element.setTaxWithholdEnabled_IN();
                #    }
                #    // </GIN>
                #}
                #
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common common = dimAccountController.resolveReference();
                #
                #    return common;
                #}
                #
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    CustTable::jumpRefCustomer(ledgerJournalTrans.parmAccount(), ledgerJournalTrans.Company);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD OffsetLedgerDimension
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    ledgerJournalEngine.offsetAccountModified(ledgerJournalTrans, null, ledgerJournalTrans_Asset);
                #
                #    if(ledgerJournalTrans.AccountType != LedgerJournalACType::FixedAssets &&
                #       ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::FixedAssets)
                #    {
                #        // The primary account is not of type fixed assets and the offset account was changed
                #        // to a fixed asset account, so redefault the depreciation start date.
                #        ledgerJournalEngine.setAssetDepStartDate(ledgerJournalTrans, ledgerJournalTrans_Asset);
                #        element.enableDepreciationStartDate();
                #    }
                #
                #    ledgerJournalTrans_ds.cacheCalculateMethod(tableMethodStr(LedgerJournalTrans, offsetAccountName));
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common common = dimOffsetAccountController.resolveReference();
                #
                #    return common;
                #}
                #
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    dimOffsetAccountController.jumpRef();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ReleaseDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #/// <summary>
                #/// Handles change of release date field.
                #/// </summary>
                #/// <remarks>
                #/// Gives a warning if the date is in the past. Saves the entered value in internal variable.
                #/// </remarks>
                #public void modified()
                #{
                #    super();
                #    if (ledgerJournalTrans.ReleaseDate != utcDateTimeNull() &&
                #        DateTimeUtil::addDays(ledgerJournalTrans.ReleaseDate, 1) < DateTimeUtil::utcNow())
                #    {
                #        warning(strFmt("@SYS114595"));
                #    }
                #    lastEnteredReleaseDate = ledgerJournalTrans.ReleaseDate;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Voucher_CN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    // <GCN>
                #    if (ret
                #        && chineseVoucher_CN)
                #    {
                #        ret = ledgerJournalEngine.checkVoucher_CN(ledgerJournalTrans);
                #    }
                #    // </GCN>
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS, ledgerJournalTrans.Company);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxWithholdGroupHeading::jumpRef(ledgerJournalTrans.tdsGroup_IN, TaxWithholdCodeType_IN::TDS, ledgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS, ledgerJournalTrans.Company);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxWithholdGroupHeading::jumpRef(ledgerJournalTrans.tcsGroup_IN, TaxWithholdCodeType_IN::TCS, ledgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD CompanyLocation_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRefLocationAddressForm(LedgerJournalTrans.CompanyLocation_IN, this);
                #}
                #// </GIN>
                #
              ENDSOURCE
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::locationLookup(_formReferenceControl, CompanyInfo::findDataArea(ledgerJournalTrans.Company).RecId);
                #}
                #// </GIN>
                #
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    Ledgerjournaltrans_ds.refresh();
                #    LedgerJournalTransTaxExtensionIN.TaxInformation_IN =  TaxInformation_IN::findDefaultByLocation(LedgerJournalTrans.CompanyLocation_IN).RecId;
                #    LedgerJournalTransTaxExtensionIN_ds.object(fieldNum(LedgerJournalTransTaxExtensionIN, TaxInformation_IN)).modified();
                #    journalFormTrans.enableDisableExciseRecordType_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD LedgerVoucherType_CN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    // <GCN>
                #    if (chineseVoucher_CN)
                #    {
                #        ledgerJournalEngine.voucherTypeUpdate_CN(ledgerJournalTrans);
                #    }
                #    // </GCN>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD CustomsTariffCodeTable_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #// <GIN>
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return CustomsTariffCodeTable_IN::resolveCustomsTariffCode(_formReferenceControl, ledgerJournalTrans.CustomsTariffDirection_IN);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = CustomsTariffCodeTable_IN::lookupDirectionImportExport(_formReferenceControl, enum2str(ledgerJournalTrans.CustomsTariffDirection_IN), ledgerJournalTrans.Company);
                #
                #    return ret;
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ExciseType_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    journalFormTrans.enableDisableExciseRecordType_IN();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD AccountAgreementId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    LedgerJournalEngine.setAgreement_RU(ledgerJournalTrans);
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    LedgerJournalEngine.agreementLookup_RU(_formControl, LedgerJournalTrans, _filterStr);
                #}
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    ledgerJournalEngine.agreementJumpRef_RU(ledgerJournalTrans);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD OffsetAccountAgreementId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    LedgerJournalEngine.agreementLookup_RU(_formControl,
                #        LedgerJournalTrans,
                #        _filterStr,
                #        AccountOffsetaccount::OffsetAccount);
                #}
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    ledgerJournalEngine.agreementJumpRef_RU(ledgerJournalTrans, AccountOffsetaccount::OffsetAccount);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    LedgerJournalEngine.setAgreement_RU(ledgerJournalTrans, AccountOffsetaccount::OffsetAccount);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #jumpRefBankLC
          #public void jumpRefBankLC()
          #{
          #    LedgerJournalTransBankLC ledgerJournalTransBankLC;
          #
          #    if (bankLCExportLineNumController)
          #    {
          #        ledgerJournalTransBankLC = ledgerJournalTrans.getLedgerJournalTransBankLC();
          #        if (ledgerJournalTransBankLC.BankLCLine)
          #        {
          #            bankLCExportLineNumController.parmBankLCRecId(ledgerJournalTransBankLC.getBankLCLine().BankLC);
          #        }
          #        bankLCExportLineNumController.jumpRef();
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #    ;
          #
          #    ret = super(_forceUpdate);
          #
          #    if (ledgerJournalTransEntityManager.getFormDataEventManager().isSiblingWriteRequested())
          #    {
          #        // A write was requested on the sibling and the client did not write the entity. This happens
          #        // when focus is removed from a sibling data source (such as LedgerJournalTrans_Asset) as the
          #        // client only calls write on that specific sibling and not on the entire entity.
          #
          #        // Write the entire entity.
          #        ledgerJournalTrans_DS.write();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #errorPaym
          #//BP Deviation Documented
          #display ImageRes errorPaym(LedgerJournalTrans _ledgerJournalTrans)
          #{
          #    ImageRes    res = -1;
          #    #resAppl;
          #    if (norwayEnabled && _ledgerJournalTrans.PaymentStatus == CustVendPaymStatus::Rejected)
          #    {
          #        res = imageListAppl.image(#ImageError);
          #    }
          #    return res;
          #}
          #
        ENDSOURCE
        SOURCE #validateDelete
          #public boolean validateDelete()
          #{
          #    boolean isValid = true;
          #    ;
          #
          #    if (!super())
          #    {
          #        // The LedgerJournalTrans' delete method requires an exception to be thrown
          #        // so that the transaction is aborted.
          #        throw Exception::Error;
          #    }
          #
          #    return isValid;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #    //<GBR>
          #    TaxWithholdTrans taxWithholdTrans;
          #    //</GBR>
          #
          #    ret = super();
          #
          #    if (ret && !ledgerJournalEngine.formMethodDataSourceValidateWritePost())
          #    {
          #        ret = false;
          #    }
          #
          #    // <GCN>
          #    if (ret
          #        && chineseVoucher_CN
          #        && !ledgerJournalTable.VoucherAllocatedAtPosting
          #        && !ledgerJournalTrans.Voucher_CN)
          #    {
          #        // Voucher number must be filled in
          #        ret = checkFailed(strfmt("@SYS26332", "@SYS5732"));
          #    }
          #    // </GCN>
          #
          #    //<GBR>
          #    if (BrazilParameters::isEnabled()
          #        &&  ret
          #        &&  ledgerJournalTrans.orig().TransDate != ledgerJournalTrans.TransDate
          #        &&  ledgerJournalTrans.hasTaxWithholdingTransactions_BR())
          #    {
          #        if (dateStartMth(ledgerJournalTrans.orig().TransDate) == dateStartMth(ledgerJournalTrans.TransDate))
          #        {
          #            update_recordset taxWithholdTrans
          #                setting TransDate = ledgerJournalTrans.TransDate
          #                where taxWithholdTrans.LedgerJourTransRecId_BR == ledgerJournalTrans.RecId;
          #        }
          #        else
          #        {
          #            ret = checkFailed("@GLS2086");
          #        }
          #    }
          #    //</GBR>
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #reread
          #public void reread()
          #{
          #    if (ledgerJournalTrans.RecId != 0)
          #    {
          #        super();
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #exchRateTxt
          #//BP Deviation Documented
          #display ExchRateSecondTxt exchRateTxt()
          #{
          #    return ledgerJournalEngine.exchRateTxt(ledgerJournalTrans);
          #}
          #
        ENDSOURCE
        SOURCE #initValue
          #void initValue()
          #{
          #    if (ledgerJournalEngine.numberSeqFormHandlerJournal())
          #    {
          #        ledgerJournalEngine.numberSeqFormHandlerJournal().formMethodDataSourceCreatePre();
          #    }
          #    super();
          #
          #    ledgerJournalEngine.formMethodDataSourceCreatePost();
          #    ledgerJournalEngine.initValue(ledgerJournalTrans);
          #}
        ENDSOURCE
        SOURCE #write
          #/// <summary>
          #/// Handles the write operation for the tables related to the <c>LedgerJournalTrans</c> table.
          #/// </summary>
          #/// <remarks>
          #/// This method controls the write operation for the related tables. This includes
          #/// <c>LedgerJournalTrans</c> table, <c>LedgerJournalTrans_Asset</c> table and
          #/// <c>LedgerJournalTrans_Project</c> table.
          #/// </remarks>
          #public void write()
          #{
          #    ;
          #
          #    if (ledgerJournalTransEntityManager.getFormDataEventManager().isInEntityDeleteEvent())
          #    {
          #        // The kernel calls leaveRecord during the delete event which will cause this method to
          #        // be called if the user had made changes. This causes issues and must be special cased
          #        // until the behavior is changed.
          #        return;
          #    }
          #
          #    if (ledgerJournalTransEntityManager.getFormDataEventManager().isInEntityWriteEvent())
          #    {
          #        // The entity is already being written. The extra call to write is unnecessary.
          #        return;
          #    }
          #
          #    try
          #    {
          #        ttsbegin;
          #
          #        // Signal the start of the write event.
          #        ledgerJournalTransEntityManager.getFormDataEventManager().beginEntityWriteEvent();
          #
          #        // Clear out any old snapshots for the write event.
          #        ledgerJournalTransEntityManager.getInMemoryRollbackManager().clearSnapShots();
          #
          #        ledgerJournalEngine.preWrite(ledgerJournalTrans);
          #        ledgerJournalEngine.preWriteUpdateDefaultDimension(ledgerJournalTrans, ledgerJournalTrans_Asset);
          #        ledgerJournalEngine.formMethodDataSourceWritePre();
          #
          #        // -----------------------------------------------------------------------------------
          #        // Validate and write the entire entity. This must be done because to maintain data integrity
          #        // as we require an "all or nothing" behavior.
          #        // -----------------------------------------------------------------------------------
          #
          #        // A snapshot of the current buffer is taken to support in-memory rollback of the buffer in
          #        // the case the transaction is aborted.
          #        ledgerJournalTransEntityManager.getInMemoryRollbackManager().takeSnapshotOfLedgerJournalTrans();
          #
          #        // <GCN>
          #        if (LedgerParameters::isChineseVoucher_CN())
          #        {
          #            ledgerJournalTrans.write();
          #            ledgerJournalTrans.reread();
          #        }
          #        // </GCN>
          #
          #        super();
          #
          #        if (ledgerJournalTrans.isFixedAssetsTransaction())
          #        {
          #            // Synchronize, validate and write the fixed assets sibling record. This call will throw
          #            // an exception if validation fails. A snapshot of the current buffer is taken to support
          #            // in-memory rollback of the buffer in the case the transaction is aborted.
          #            ledgerJournalTransEntityManager.getInMemoryRollbackManager().takeSnapshotOfLedgerJournalTrans_Asset();
          #            ledgerJournalTransEntityManager.getFormDataEventManager().validateAndWriteFixedAssetsSibling();
          #        }
          #        else
          #        {
          #            // If this is not a fixed assets transaction, and it had been, the super() call
          #            // above should have deleted the sibling record in the database. Because of this,
          #            // the RecId of the buffer needs to be cleared out so that it will be inserted if
          #            // it gets changed back to being a fixed assets transaction.
          #            ledgerJournalTrans_Asset.RecId = 0;
          #        }
          #
          #        // -----------------------------------------------------------------------------------
          #
          #        if (ledgerJournalTrans.MarkedInvoice != LedgerJournalEngine_CustPayment::getMarkedInvoiceSettlementIndicator() &&
          #            ledgerJournalTrans.MarkedInvoiceCompany != '')
          #        {
          #            // Synchronize SpecTrans with MarkedInvoice fields.
          #            LedgerJournalEngine_CustPayment::updateMarkedInvoiceSpecTrans(ledgerJournalTrans);
          #        }
          #
          #        ledgerJournalEngine.write(ledgerJournalTrans);
          #
          #        // Signal that the write event is finished.
          #        ledgerJournalTransEntityManager.getFormDataEventManager().endEntityWriteEvent();
          #
          #        // <GTH>
          #        if (LedgerJournalTransExtensionTH_ds.isNeeded())
          #        {
          #            if (LedgerJournalTransExtensionTH.LedgerJournalTrans == 0)
          #            {
          #                LedgerJournalTransExtensionTH.LedgerJournalTrans = LedgerJournalTrans.RecId;
          #                if (LedgerJournalTransExtensionTH_ds.validateWrite())
          #                {
          #                    LedgerJournalTransExtensionTH_ds.write();
          #                }
          #            }
          #        }
          #        // </GTH>
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            ledgerJournalTransPayment_BR.SysExtensionSerializerExtensionMap::insertAfterBaseTable(LedgerJournalTrans);
          #        }
          #        // </GBR>
          #
          #        // Signal that the write event is finished.
          #        ledgerJournalTransEntityManager.getFormDataEventManager().endEntityWriteEvent();
          #
          #        ttscommit;
          #    }
          #    catch (Exception::UpdateConflict)
          #    {
          #        // This exception should not be handled by the generic handling logic below, as it assumes
          #        // that a rollback needs to be performed.
          #        // A rollback should not be performed for an update conflict, as the record will never
          #        // be capable of being saved.
          #
          #        // Signal that the write event is finished with a failure by calling endEntityWriteEvent
          #        // and passing in 'true' for the failure parameter.
          #        ledgerJournalTransEntityManager.getFormDataEventManager().endEntityWriteEvent(true);
          #
          #        // Chain the exception forward.
          #        throw Exception::UpdateConflict;
          #    }
          #    catch
          #    {
          #        // Handle any exception and then chain another generic one forward to force the form event to fail. Also, in-memory roll-backs
          #        // of the transaction buffers must be handled as the kernel does not perform this automatically.
          #        ledgerJournalTransEntityManager.getInMemoryRollbackManager().performRollbackForAbortedWrite();
          #
          #        // Signal that the write event is finished with a failure by calling endEntityWriteEvent
          #        // and passing in 'true' for the failure parameter.
          #        ledgerJournalTransEntityManager.getFormDataEventManager().endEntityWriteEvent(true);
          #
          #        throw Exception::Error;
          #    }
          #
          #    // <GIN>
          #    if (ledgerJournalTransTaxExtensionIN_ds.isNeeded())
          #    {
          #        TaxModelDocLineExtensionController_IN::insertTaxExtensionRecord(ledgerJournalTransTaxExtensionIN, ledgerJournalTrans);
          #    }
          #    // </GIN>
          #}
          #
        ENDSOURCE
        SOURCE #linkActive
          #void linkActive()
          #{
          #    ;
          #    ledgerJournalEngine.clearVoucher();
          #
          #    ledgerJournalEngine.newJournalActive(ledgerJournalTable);
          #    ledgerJournalEngine.formMethodDataSourceLinkActivePre();
          #    journalFormTrans.datasourceLinkActivePre();
          #
          #    super();
          #
          #    if (ledgerJournalTable.JournalNum != journalNum)
          #    {
          #        // If the stored journalNum has become out of sync with the reference
          #        // to ledgerJournalTable, then we need to rerun initLedger. This
          #        // will occur when the user has switched journals on the parent form.
          #        element.initLedger();
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #void init()
          #{
          #    super();
          #
          #    ledgerJournalTransRange = this.query().dataSourceNo(1).addRange(fieldNum(LedgerJournalTrans, Invisible));
          #    ledgerJournalTransRange.value(strFmt('%1', 0));
          #
          #    ledgerJournalEngine = new LedgerJournalEngine_CustPayment(element);
          #    journalFormTrans.datasourceInitPost(ledgerJournalTrans);
          #
          #    this.cacheAddMethod(tableMethodStr(LedgerJournalTrans, accountName));
          #    this.cacheAddMethod(tableMethodStr(LedgerJournalTrans, offsetAccountName));
          #}
          #
        ENDSOURCE
        SOURCE #delete
          #void delete()
          #{
          #    LedgerJournalTrans  ledgerJournalTrans_Orig;
          #
          #    try
          #    {
          #        ttsbegin;
          #
          #        // The kernel calls leaveRecord during the super call, which will cause write to be called
          #        // on the datasource if there are changes to the buffer. We don't want this to happen,
          #        // so special case around this until the behavior is changed.
          #
          #        // Signal that the entity delete event has started.
          #        ledgerJournalTransEntityManager.getFormDataEventManager().beginEntityDeleteEvent();
          #
          #        // Clear out any old snapshots for the write event.
          #        ledgerJournalTransEntityManager.getInMemoryRollbackManager().clearSnapShots();
          #
          #        ledgerJournalEngine.rereadWhenDirty(ledgerJournalTrans);
          #        ledgerJournalTrans_Orig = ledgerJournalTrans.data();
          #
          #        ledgerJournalEngine.preDelete(ledgerJournalTrans);
          #        ledgerJournalEngine.formMethodDataSourceDeletePre();
          #
          #        if (!ledgerJournalTrans_Asset_DS.validateDelete())
          #        {
          #            // The sibling table is invalid, so throw an exception to prevent actions like "form closing" from finishing
          #            throw Exception::Error;
          #        }
          #
          #        // A snapshot of the current buffer is taken to support in-memory rollback of the buffer in
          #        // the case the transaction is aborted.
          #        ledgerJournalTransEntityManager.getInMemoryRollbackManager().takeSnapshotOfLedgerJournalTrans();
          #        super();
          #        // -----------------------------------------------------------------------------------
          #
          #        ledgerJournalEngine.delete(ledgerJournalTrans_Orig);
          #
          #        if (ledgerJournalTrans)
          #        {
          #            element.setDebCredProposal(true);
          #        }
          #
          #        // Signal that the entity delete event has finished.
          #        ledgerJournalTransEntityManager.getFormDataEventManager().endEntityDeleteEvent();
          #
          #        ttscommit;
          #    }
          #    catch
          #    {
          #        // Handle any exception and then chain another generic one forward to force the form event to fail. Also, in-memory roll-backs
          #        // of the transaction buffers must be handled as the kernel does not perform this automatically.
          #        ledgerJournalTransEntityManager.getInMemoryRollbackManager().performRollbackForAbortedDelete();
          #
          #        // Signal that the entity delete event is finished with a failure by calling endEntityDeleteEvent
          #        // and passing in 'true' for the failure parameter.
          #        ledgerJournalTransEntityManager.getFormDataEventManager().endEntityDeleteEvent(true);
          #
          #        throw Exception::Error;
          #    }
          #
          #    buttonSettlement.enabled(false);
          #    custPaymEditingButton.enabled(false);
          #    markInvoiceLine.enabled(false);
          #}
        ENDSOURCE
        SOURCE #create
          #void create(boolean append = false)
          #{
          #
          #    // --------------------------------------------------------------------------------------
          #    // The client mistakingly calls create after a failed write. Add in a check to prevent the
          #    // extra, mistaken, call to create.
          #    // --------------------------------------------------------------------------------------
          #    if (!ledgerJournalTransEntityManager.getFormDataEventManager().isLastWriteAttemptFailed())
          #    {
          #        // The last write attempt was a success, so this is being called in the context of
          #        // record creation.
          #
          #        try
          #        {
          #            ledgerJournalTransEntityManager.getFormDataEventManager().beginEntityCreateEvent();
          #
          #            journalFormTrans.datasourceCreatePre();
          #
          #            element.setDebCredProposal(true);
          #
          #            ledgerJournalEngine.preCreate(ledgerJournalTrans);
          #
          #            super(append);
          #            if (lastEnteredReleaseDate != utcDateTimeNull())
          #            {
          #              ledgerJournalTrans.ReleaseDate =   lastEnteredReleaseDate;
          #            }
          #
          #            // Signal that the create event is finished.
          #            ledgerJournalTransEntityManager.getFormDataEventManager().endEntityCreateEvent();
          #
          #        }
          #        catch (Exception::UpdateConflict)
          #        {
          #            // This exception should not be handled by the generic handling logic below.
          #
          #            // Signal that the create event is finished.
          #            ledgerJournalTransEntityManager.getFormDataEventManager().endEntityCreateEvent();
          #
          #            // Chain the exception forward.
          #            throw Exception::UpdateConflict;
          #        }
          #        catch
          #        {
          #            // Signal that the create event is finished.
          #            ledgerJournalTransEntityManager.getFormDataEventManager().endEntityCreateEvent();
          #
          #            throw Exception::Error;
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #active
          #/// <summary>
          #/// Handles the event that is fired each time a record is read by the data source.
          #/// </summary>
          #/// <returns>
          #/// An integer return code.
          #/// </returns>
          #public int active()
          #{
          #    int                 ret;
          #    UserGroupId         approveGroupId = ledgerJournalTable.ledgerJournalName().ApproveGroupId;
          #    boolean             markedInvoice;
          #    MCRCustPaymTable    mcrCustPaymTable;
          #
          #    if (mcrAllowPayment)
          #    {
          #        mcrCustPaymTable = MCRCustPaymTable::findByRefRecIDRefTableID(ledgerJournalTrans.RecId,
          #                                                                      ledgerJournalTrans.TableId);
          #        if (mcrCustPaymTable)
          #        {
          #            ledgerJournalTrans_OffsetAccountType.enabled(false);
          #            ledgerJournalTrans_OffsetAccount.enabled(false);
          #        }
          #        else
          #        {
          #            ledgerJournalTrans_OffsetAccountType.enabled(true);
          #            ledgerJournalTrans_OffsetAccount.enabled(true);
          #        }
          #    }
          #
          #    ret = super();
          #
          #    if (ret)
          #    {
          #        ledgerJournalEngine.active(ledgerJournalTrans);
          #        priorOffsetAccountType = ledgerJournalTrans.OffsetAccountType;
          #
          #        ledgerJournalEngine.setChildDataSourceAccess(ledgerJournalTrans,custVendPaymJournalFee);
          #
          #        journalFormTrans.datasourceActivePost();
          #        custVendNACHAIATInfoTable_US.enabled(
          #                    CustVendNACHAIATInfoTable_US::isValidCustVendNACHAIATInfoTable_US(ledgerJournalTrans));
          #    }
          #
          #    journalFormTrans.setDelTransButtonEnabledForJournalLine(ledgerJournalTrans.PaymentStatus);
          #
          #    if (ledgerJournalTable.Approver)
          #    {
          #        if (!UserInfoHelp::userInUserGroup(curUserId(), approveGroupId))
          #        {
          #            buttonDeleteTransactions.enabled(false);
          #            custPaymProposalCreate.enabled(false);
          #        }
          #    }
          #
          #    if (ledgerJournalTable.ledgerJournalName().ApproveActive)
          #    {
          #        if (!UserInfoHelp::userInUserGroup(curUserId(), approveGroupId))
          #        {
          #            buttonApprove.enabled(false);
          #            buttonReject.enabled(false);
          #        }
          #    }
          #
          #    custPaymEditingButton.enabled(element.isPaymEditAllowed());
          #    // <GIN>
          #    if (TaxWithholdParameters_IN::checkTaxParameters())
          #    {
          #        element.setTaxWithholdEnabled_IN();
          #        taxInformation_IN_ds.executeQuery();
          #    }
          #    // </GIN>
          #
          #    element.enableButtonDepositSlip();
          #    // <GIN>
          #    if (TaxParameters::checkTaxParameters_IN() || TaxWithholdParameters_IN::checkTaxParameters())
          #    {
          #        journalFormTrans.enableDisableExciseRecordType_IN();
          #        element.setTaxWithholdEnabled_IN();
          #    }
          #    // </GIN>
          #
          #    markInvoiceLine.enabled(CustOpenTransLineManager::setMarkInvoiceButton(element.makeArgs()));
          #
          #    dimAccountController.parmDataAreaId(ledgerJournalTrans.Company);
          #    dimOffsetAccountController.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());
          #
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoTH, #isoSA, #isoGB, #isoIE])
          #        && ledgerJournalTrans.LedgerDimension)
          #    {
          #        markedInvoice = (SpecTrans::getSpecTransCount(
          #                                    ledgerJournalTrans.company(),
          #                                    ledgerJournalTrans.TableId,
          #                                    ledgerJournalTrans.RecId) != 0);
          #
          #        // Disable fields below as they were used during calculation of the withholding tax in Open Trans form.
          #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, TaxWithholdCalculate_TH)).allowEdit(!markedInvoice);
          #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans,TaxWithholdGroup)).allowEdit(!markedInvoice);
          #    }
          #
          #    element.setPaymentByLetterOfCredit();
          #
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        element.setLookupButton_BR();
          #
          #        if (CustPaymModeTable::find(ledgerJournalTrans.PaymMode).ClassId == classnum(CustOutPaym_CNAB_BR) &&
          #            (ledgerJournalTrans.PaymentStatus == CustVendPaymStatus::Recieved ||
          #             ledgerJournalTrans.PaymentStatus == CustVendPaymStatus::Rejected))
          #        {
          #            ledgerJournalTrans_DS.object(fieldnum(LedgerJournalTrans, PaymentStatus)).allowEdit(false);
          #        }
          #
          #        element.configureLineStatusButton_BR();
          #
          #        ledgerJournalTrans_ds.object(fieldNum(LedgerJournalTrans, Due)).allowEdit(!ledgerJournalTrans.hasCustVendTransOpen_BR());
          #    }
          #    // </GBR>
          #
          #    if (mcrAllowPayment)
          #    {
          #        // Only allow users to create/modify the related card if a
          #        //  payment exists for it.
          #        if (ledgerJournalTrans.AmountCurCredit
          #            || ledgerJournalTrans.AmountCurDebit)
          #        {
          #            mcrCustPaymButton.enabled(true);
          #        }
          #        else
          #        {
          #            mcrCustPaymButton.enabled(false);
          #        }
          #    }
          #
          #    // Redraw the form so that changes are reflected back to the user.
          #    element.redraw();
          #
          #    // Enable/disable PDCs
          #    if(postDatedCheckEnabled)
          #    {
          #        custPDCRegister_ds.allowEdit(CustVendPDCManager::allowPostDatedChecks(ledgerJournalTrans));
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #errorExist
          #//BP Deviation Documented
          #display ImageRes errorExist(LedgerJournalTrans _ledgerJournalTrans)
          #{
          #    ImageRes    res = -1;
          #    #resAppl;
          #
          #    postingResults_Client = ledgerJournalEngine.getPostingResults_Client();
          #
          #    if (postingResults_Client.errorExists(_ledgerJournalTrans.Voucher) ||
          #        (norwayEnabled && _ledgerJournalTrans.PaymentStatus == CustVendPaymStatus::Rejected))
          #    {
          #        res = imageListAppl.image(#ImageError);
          #    }
          #    return res;
          #}
        ENDSOURCE
        SOURCE #errorLog
          #//BP Deviation Documented
          #display LogTxt errorLog()
          #{
          #    postingResults_Client = ledgerJournalEngine.getPostingResults_Client();
          #
          #    return postingResults_Client.errorLog(ledgerJournalTrans.Voucher);
          #}
        ENDSOURCE
        SOURCE #postedDateTime
          #//BP Deviation Documented
          #display JournalPostedDateTime postedDateTime()
          #{
          #    return ledgerJournalEngine.postedDateTime();
          #}
        ENDSOURCE
        SOURCE #approvedBy
          #//BP Deviation Documented
          #display ApprovedByPersonnelNumber approvedBy()
          #{
          #    return ledgerJournalEngine.approvedBy();
          #}
        ENDSOURCE
        SOURCE #rejectedBy
          #//BP Deviation Documented
          #display UserId rejectedBy()
          #{
          #    return ledgerJournalEngine.rejectedBy();
          #}
        ENDSOURCE
        SOURCE #reportedAsReadyBy
          #//BP Deviation Documented
          #display UserId reportedAsReadyBy()
          #{
          #    return ledgerJournalEngine.reportedAsReadyBy();
          #}
        ENDSOURCE
        SOURCE #journalBalance
          #//BP Deviation Documented
          #display AmountMST journalBalance()
          #{
          #    return ledgerJournalEngine.journalDebit() - ledgerJournalEngine.journalCredit();
          #}
        ENDSOURCE
        SOURCE #journalCredit
          #//BP Deviation Documented
          #display AmountMST journalCredit()
          #{
          #    return ledgerJournalEngine.journalCredit();
          #}
        ENDSOURCE
        SOURCE #journalDebit
          #//BP Deviation Documented
          #display AmountMST journalDebit()
          #{
          #    return ledgerJournalEngine.journalDebit();
          #}
        ENDSOURCE
        SOURCE #voucherTotal
          #//BP Deviation Documented
          #display AmountMST voucherTotal()
          #{
          #
          #    return ledgerJournalEngine.voucherDebit(ledgerJournalTrans) - ledgerJournalEngine.voucherCredit(ledgerJournalTrans);
          #}
        ENDSOURCE
        SOURCE #voucherCredit
          #//BP Deviation Documented
          #display AmountMST voucherCredit()
          #{
          #    return ledgerJournalEngine.voucherCredit(ledgerJournalTrans);
          #}
        ENDSOURCE
        SOURCE #voucherDebit
          #//BP Deviation Documented
          #display AmountMST voucherDebit()
          #{
          #    return ledgerJournalEngine.voucherDebit(ledgerJournalTrans);
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustVendPaymJournalFee
          Table               #CustVendPaymJournalFee
          JoinSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD LedgerJournalACType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // Clear the account when the account type changes
                #    custVendPaymJournalFee.parmLedgerDimension(0);
                #
                #    if (custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Ledger ||
                #        custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Cust)
                #    {
                #        custPaymJournalFee_CustAccount.enabled(true);
                #    }
                #    else
                #    {
                #        // Disable the account lookup if the value is not Ledger or Customer
                #        custPaymJournalFee_CustAccount.enabled(false);
                #    }
                #    custVendPaymJournalFee_ds.rereadReferenceDataSources();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD LedgerDimension
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    CompanyId validationCompany;
                #    boolean ret;
                #    ;
                #
                #    // This needs to happen in the correct company context
                #    if (custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Cust ||
                #        custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Vend)
                #    {
                #        validationCompany = ledgerJournalTrans.Company;
                #    }
                #    else
                #    {
                #        validationCompany = ledgerJournalTrans.company();
                #    }
                #
                #    changecompany(validationCompany)
                #    {
                #        ret = super();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return dimPaymentFeeAccountController.resolveReference();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #delete
          #public void delete()
          #{
          #    ;
          #    ledgerJournalEngine.saveVoucherBalance(ledgerJournalTrans);
          #    super();
          #    ledgerJournalEngine.recalcVoucherBalance(ledgerJournalTrans);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    ledgerJournalEngine.saveVoucherBalance(ledgerJournalTrans);
          #    ledgerJournalEngine.preWriteUpdateDefaultDimensionPaymFee(custVendPaymJournalFee);
          #    super();
          #    ledgerJournalEngine.recalcVoucherBalance(ledgerJournalTrans);
          #}
        ENDSOURCE
        SOURCE #initValue
          #public void initValue()
          #{
          #    super();
          #
          #    custVendPaymJournalFee.Module = ModuleCustVend::Cust;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LedgerJournalTrans_Asset
          Table               #LedgerJournalTrans_Asset
          JoinSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD BookId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    ;
                #
                #    ledgerJournalEngine.assetBookIdModified(ledgerJournalTrans, ledgerJournalTrans_Asset);
                #    super();
                #    if(ledgerJournalTrans.AccountType == LedgerJournalACType::FixedAssets)
                #    {
                #        ledgerJournalEngine.initFromAssetTable(ledgerJournalTrans, ledgerJournalTrans_Asset);
                #    }
                #
                #    ledgerJournalEngine.setAssetDepStartDate(ledgerJournalTrans, ledgerJournalTrans_Asset);
                #    element.enableDepreciationStartDate();
                #}
                #
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    AssetBook::lookupOpenBookIdForAsset(_formControl,
                #                                        ledgerJournalTrans_Asset.AssetId,
                #                                        true,  // CurrentOperationsTax must be considered
                #                                        ledgerJournalTable.CurrentOperationsTax,
                #                                        ledgerJournalTrans_Asset.Company);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TransType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    ;
                #
                #    ledgerJournalEngine.assetTransTypeModified(ledgerJournalTrans, ledgerJournalTrans_Asset);
                #    super();
                #    element.enableDepreciationStartDate();
                #}
                #
                #
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    ;
          #
          #    // --------------------------------------------------------------------------------------
          #    // The client mistakingly calls executeQuery after a failed write. Add in a check to
          #    // prevent the extra, mistaken, call to executeQuery.
          #    // --------------------------------------------------------------------------------------
          #    if (!ledgerJournalTransEntityManager.getFormDataEventManager().isLastWriteAttemptFailed())
          #    {
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    ;
          #
          #    // --------------------------------------------------------------------------------------
          #    // The client mistakingly calls create after a failed write. Add in a check to prevent the
          #    // extra, mistaken, call to create.
          #    // --------------------------------------------------------------------------------------
          #    if (!ledgerJournalTransEntityManager.getFormDataEventManager().isLastWriteAttemptFailed())
          #    {
          #        // The last write attempt was a success, so this is being called in the context of
          #        // record creation.
          #
          #        super(_append);
          #        ledgerJournalEngine.formMethodDataSourceFixedAssetsCreate(ledgerJournalTrans, ledgerJournalTrans_Asset);
          #    }
          #}
        ENDSOURCE
        SOURCE #initValue
          #public void initValue()
          #{
          #    ;
          #
          #    super();
          #
          #    ledgerJournalEngine.initValueAsset(ledgerJournalTrans_Asset);
          #    element.enableDepreciationStartDate();
          #}
          #
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    element.enableDepreciationStartDate();
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #validateDelete
          #public boolean validateDelete()
          #{
          #    boolean isValid = true;
          #    ;
          #
          #    if (ledgerJournalTransEntityManager.getFormDataEventManager().isInEntityDeleteEvent())
          #    {
          #        // Only perform the validation if called from the LedgerJournalTrans datasource's delete event.
          #
          #        // Call LedgerJournalTrans_Asset.validateDelete directly as we don't want an extra delete
          #        // confirmation dialog to be shown.
          #        isValid = ledgerJournalTrans_Asset.validateDelete();
          #    }
          #
          #    return isValid;
          #}
        ENDSOURCE
        SOURCE #delete
          #public void delete()
          #{
          #    ;
          #
          #    if (ledgerJournalTransEntityManager.getFormDataEventManager().isInEntityDeleteEvent())
          #    {
          #        // Only perform the deletion if called from the LedgerJournalTrans datasource's delete event.
          #
          #        // Call LedgerJournalTrans_Asset.delete directly as super calls validateWrite, which will cause
          #        // an extra delete confirmation dialog to be shown.
          #        ledgerJournalTrans_Asset.delete();
          #    }
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    ;
          #
          #    ledgerJournalTransEntityManager.getFormDataEventManager().requestWriteForSibling();
          #
          #    if (ledgerJournalTransEntityManager.getFormDataEventManager().isInEntityWriteEvent())
          #    {
          #        // Only perform the write if called from the LedgerJournalTrans datasource's write event.
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean isValid = true;
          #    ;
          #
          #    if (ledgerJournalTransEntityManager.getFormDataEventManager().isInEntityWriteEvent())
          #    {
          #        // Only perform the validation if called from the LedgerJournalTrans datasource's write event.
          #        isValid = super();
          #    }
          #
          #    return isValid;
          #}
        ENDSOURCE
        SOURCE #linkActive
          #public void linkActive()
          #{
          #    ;
          #
          #    super();
          #
          #    if (ledgerJournalTransEntityManager.getFormDataEventManager().isSiblingWriteRequested())
          #    {
          #        // The sibling write can no longer be handled so cancel the request.
          #        ledgerJournalTransEntityManager.getFormDataEventManager().cancelSiblingWriteRequest();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustPDCRegister
          Table               #CustVendPDCRegister
          AllowCheck          #No
          JoinSource          #LedgerJournalTrans
          LinkType            #Active
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD OriginalCheck
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CustVendPDCRegister::lookupCheckNumber(_formControl);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    element.enableReplacementFields();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    custPDCRegister.LedgerJournalTrans = ledgerJournalTrans.RecId;
          #    custPDCRegister.AccountType = CustVendACType::Cust;
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LedgerJournalTransCC
          Table               #LedgerJournalTransCC
          CounterField        #LineNum
          JoinSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD TransID
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    LedgerJournalTransCC_ds.write();
                #    if (ledgerJournalTransCC.CreditCardTrxType == CreditCardTrxTypeJour::C)
                #    {
                #        CreditCardTrans::lookupTransForCreditJour(_formControl,LedgerJournalTransCC);
                #    }
                #    else
                #    {
                #
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CreditCardId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    CreditCardBanks     ccBanks = CreditCardBanks::find(
                #        CreditCardTable::find(ledgerJournalTransCC.CreditCardId).CreditCardType,
                #        CreditCardTerminalTable::find().TerminalId);
                #    ;
                #    if (ccBanks)
                #    {
                #        LedgerJournalTrans.OffsetAccountType = LedgerJournalACType::Bank;
                #        ledgerJournalTrans.parmOffsetAccount(ccBanks.AccountId);
                #    }
                #
                #
                #    super();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    //super(_formControl, _filterStr);
                #
                #    CreditCardTable::lookupCustCreditCardJournal(_formControl,ledgerJournalTrans.parmAccount(),ledgerJournalTrans);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PNRef
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    LedgerJournalTransCC_ds.write();
                #    if (ledgerJournalTransCC.CreditCardTrxType == CreditCardTrxTypeJour::C)
                #    {
                #        CreditCardTrans::lookupTransForCreditJour(_formControl,LedgerJournalTransCC);
                #    }
                #    else
                #    {
                #
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Processed
            PROPERTIES
              AllowEdit           #No
              Skip                #Yes
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (ledgerJournalTransCC.Processed == NoYes::Yes
          #        || ledgerJournalTransCC.PNRef)
          #    {
          #        processCreditCard.enabled(false);
          #        ledgerJournalTransCC_ds.allowEdit(false);
          #        CreditCardAdhocCreate.enabled(false);
          #    }
          #    else
          #    {
          #        element.setCreditCard();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LedgerJournalTransExtensionTH
          Table               #LedgerJournalTransExtensionTH
          JoinSource          #LedgerJournalTrans
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #// <GTH>
          #public void write()
          #{
          #    if (LedgerJournalTransExtensionTH.LedgerJournalTrans)
          #    {
          #        super();
          #    }
          #}
          #// </GTH>
        ENDSOURCE
        SOURCE #validateWrite
          #// <GTH>
          #public boolean validateWrite()
          #{
          #    boolean ret= true;
          #
          #    if (LedgerJournalTransExtensionTH.LedgerJournalTrans)
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
          #// </GTH>
        ENDSOURCE
        SOURCE #init
          #// <GTH>
          #public void init()
          #{
          #    if (this.isNeeded())
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #}
          #// </GTH>
        ENDSOURCE
        SOURCE #isNeeded
          #/// <summary>
          #/// Checks whether this data sources should be enable or not.
          #/// </summary>
          #/// <returns>
          #/// true if it should be eneabled; otherwise, return false.
          #/// </returns>
          #/// <remarks>
          #/// This data source is joined to its parent data source with join type <c>Passive</c>
          #/// by default. It means this data source is disabled by default.
          #/// If any related feature needs this data source, then add condition(s) here to
          #/// mark that it should be enabled.
          #/// </remarks>
          #// <GTH>
          #public boolean isNeeded()
          #{
          #    boolean ret;
          #
          #    ret = TaxThaiGovCertificationFeatureChecker::isTaxWithholdEnabled()
          #        || TaxThaiGovCertificationFeatureChecker::isUnrealizedVATEnabled();
          #
          #    return ret;
          #}
          #// </GTH>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustEPRemitInfo_BR
          Table               #CustEPRemitInfo_BR
          JoinSource          #LedgerJournalTrans
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD DocumentType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    EPDocumentTypes_BR::EPDocumentTypeLookup(_formControl,CustVendType_BR::Customer, ledgerJournalTrans.PaymMode);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Instruction_1
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    EPInstructions_BR::EPInstructionsLookup(_formControl,CustVendType_BR::Customer, ledgerJournalTrans.PaymMode);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Instruction_2
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    EPInstructions_BR::EPInstructionsLookup(_formControl,CustVendType_BR::Customer, ledgerJournalTrans.PaymMode);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BankFolder
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    EPBankFolders_BR::EPBankFoldersLookup(_formControl,CustVendType_BR::Customer, ledgerJournalTrans.PaymMode);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        CustEPRemitInfo_BR_ds.linkType(FormLinkType::Active);
          #    }
          #    // </GBR>
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LedgerJournalTransPayment_BR
          Table               #LedgerJournalTransPayment_BR
          JoinSource          #LedgerJournalTrans
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (BrazilParameters::isEnabled() && LedgerJournalTransPayment_BR.RefRecId)
          #    {
          #        ledgerJournalTransPayment_BR.EPPaymentType_BR = ledgerJournalTrans.PaymSpec ? CustPaymModeSpec::findSpec(ledgerJournalTrans.PaymMode, ledgerJournalTrans.PaymSpec).EPPaymentType_BR : '';
          #        ledgerJournalTransPayment_BR.EPPaymentWay_BR  = ledgerJournalTrans.PaymSpec ? CustPaymModeSpec::findSpec(ledgerJournalTrans.PaymMode, ledgerJournalTrans.PaymSpec).EPPaymentWay_BR  : '';
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        LedgerJournalTransPayment_BR_ds.linkType(FormLinkType::OuterJoin);
          #    }
          #    // </GBR>
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LedgerJournalTransPayment_LV
          Table               #LedgerJournalTransPayment_LV
          AllowDelete         #No
          JoinSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    boolean ret = super();
          #
          #    if (ret)
          #    {
          #        ret = ledgerJournalTransPayment_LV_ds.allowEdit(! ledgerJournalEngine.posted() &&
          #                                           ! (ledgerJournalTrans.PaymentStatus  == CustVendPaymStatus::Sent      ||
          #                                              ledgerJournalTrans.PaymentStatus  == CustVendPaymStatus::Confirmed ||
          #                                              (ledgerJournalTrans.PaymentStatus == CustVendPaymStatus::Rejected)));
          #    }
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LedgerJournalTransSymbol
          Table               #LedgerJournalTransSymbol
          JoinSource          #LedgerJournalTrans
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]))
          #    {
          #        // Only enable the symbol datasource if the country context is correct
          #        LedgerJournalTransSymbol_DS.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #// <GEECZ>
          #public boolean validateWrite()
          #{
          #    boolean isValid;
          #
          #    if (!LedgerJournalTransSymbol.LedgerJournalTrans)
          #    {
          #        LedgerJournalTrans_DS.write();
          #        LedgerJournalTransSymbol.LedgerJournalTrans = LedgerJournalTrans.RecId;
          #    }
          #
          #    isValid = super();
          #
          #    return isValid;
          #}
          #// </GEECZ>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LedgerJournalTransTaxExtensionIN
          Table               #LedgerJournalTransTaxExtensionIN
          JoinSource          #LedgerJournalTrans
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD TaxInformation_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRef(ledgerJournalTransTaxExtensionIN.TaxInformation_IN, this);
                #}
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    TaxInformation_IN_DS.linkActive();
                #    LedgerJournalTransTaxExtensionIN_DS.write();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::lookup(_formReferenceControl, LedgerJournalTrans.CompanyLocation_IN);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #initValue
          #// <GIN>
          #public void initValue()
          #{
          #    super();
          #    ledgerJournalTransTaxExtensionIN.TaxModelDocLineExtensionIN::init(ledgerJournalTrans);
          #}
          #// <GIN>
        ENDSOURCE
        SOURCE #isNeeded
          #// <GIN>
          #public boolean isNeeded()
          #{
          #    return SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (this.isNeeded())
          #    {
          #        this.linkType(FormLinkType::InnerJoin);
          #    }
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LvPaymentOrderInfo
          Table               #LvPaymentOrderInfo
          JoinSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PaymentOrderBudgetTrans_RU
          Table               #PaymentOrderBudgetTrans_RU
          AllowCheck          #No
          AllowDelete         #No
          AutoSearch          #No
          JoinSource          #LedgerJournalTrans
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD PeriodCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    Object obj = ledgerJournalEngine;
                #    ;
                #
                #    super();
                #
                #    obj.paymOrderTransPeriodCodeModified_RU(paymentOrderBudgetTrans_RU);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PeriodNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    Object obj = ledgerJournalEngine;
                #    ;
                #
                #    super();
                #
                #    obj.paymOrderTransPeriodCodeModified_RU(paymentOrderBudgetTrans_RU);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD year
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    Object obj = ledgerJournalEngine;
                #    ;
                #
                #    super();
                #
                #    obj.paymOrderTransPeriodCodeModified_RU(paymentOrderBudgetTrans_RU);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxPeriodDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    Object obj = ledgerJournalEngine;
                #    ;
                #
                #    super();
                #
                #    obj.paymOrderTransTaxPeriodDateModified_RU(paymentOrderBudgetTrans_RU);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #    Object  obj = ledgerJournalEngine;
          #    ;
          #
          #    if(obj.needWritePaymentOrderBudgetTrans_RU())
          #    {
          #        ret = super();
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    Object  obj = ledgerJournalEngine;
          #    ;
          #
          #    if(obj.needWritePaymentOrderBudgetTrans_RU())
          #    {
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxInformation_IN
          Table               #TaxInformation_IN
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #LedgerJournalTransTaxExtensionIN
          LinkType            #Active
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD SalesTaxRegistrationNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.SalesTaxRegistrationNumber).RegistrationNumber,
                #        TaxType_IN::SalesTax,
                #        LedgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TIN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.TIN).RegistrationNumber,
                #        TaxType_IN::VAT,
                #        LedgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TAN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxWithholdRegNumbers_IN::jumpRef(
                #        TaxWithholdRegNumbers_IN::find(taxInformation_IN.TAN).RegistrationNumber,
                #        LedgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ManECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.ManECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        LedgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TraderECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.TraderECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        LedgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD IECRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.IECRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Customs,
                #        LedgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD STCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.STCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::ServiceTax,
                #        LedgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ECCNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.ECCNumber).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        LedgerJournalTrans);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ServiceCodeTable_IN
          Table               #ServiceCodeTable_IN
          JoinSource          #LedgerJournalTrans
          JoinRelation        #ServiceCodeTable_IN
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDREFERENCEDATASOURCES
  
  JOINS
    CustVendPaymJournalFee LedgerJournalTrans
    LedgerJournalTrans_Asset LedgerJournalTrans
    CustPDCRegister LedgerJournalTrans
    LedgerJournalTransCC LedgerJournalTrans
    LedgerJournalTransExtensionTH LedgerJournalTrans
    CustEPRemitInfo_BR LedgerJournalTrans
    LedgerJournalTransPayment_BR LedgerJournalTrans
    LedgerJournalTransPayment_LV LedgerJournalTrans
    LedgerJournalTransSymbol LedgerJournalTrans
    LedgerJournalTransTaxExtensionIN LedgerJournalTrans
    LvPaymentOrderInfo LedgerJournalTrans
    PaymentOrderBudgetTrans_RU LedgerJournalTrans
    TaxInformation_IN LedgerJournalTransTaxExtensionIN
    ServiceCodeTable_IN LedgerJournalTrans
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@SYS3096
      Mode                #Edit
      DataSource          #LedgerJournalTrans
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPane
          ElementPosition     #536870911
          Style               #Strip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPane1
          ElementPosition     #1073741822
          HierarchyParent     #PaymentFee
          Style               #Strip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #ActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab1
          ElementPosition     #1431655764
          HierarchyParent     #ActionPane1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup
          ElementPosition     #1610612734
          HierarchyParent     #ActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #NewDeleteGroup
          ElementPosition     #1073741822
          HierarchyParent     #ActionPaneTab
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #NewDeleteGroup1
          ElementPosition     #1431655764
          HierarchyParent     #ActionPaneTab1
          DataSource          #CustVendPaymJournalFee
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #GridPaymFee
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #PaymentFee
          DataSource          #CustVendPaymJournalFee
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #overviewGrid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
          HierarchyParent     #OverView
          VisibleRows         #8
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Account
          ElementPosition     #805306365
          HierarchyParent     #General
          Caption             #@SYS2355
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #AddRemittanceInfo
          ElementPosition     #603979773
          HierarchyParent     #Payment
          Caption             #@GLS1164
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Amount
          AllowEdit           #No
          ElementPosition     #1431655764
          HierarchyParent     #PDC
          Caption             #@SYS311147
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Balances
          AllowEdit           #No
          Enabled             #No
          ElementPosition     #1073741822
          FrameType           #None
          DataSource          #LedgerJournalTrans
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankClientDocumentType_RU
          ElementPosition     #2013265915
          HierarchyParent     #Payment
          DataSource          #LedgerJournalTrans
          DataGroup           #BankClientDocumentType_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankLCExportGroup
          AutoDeclaration     #Yes
          ConfigurationKey    #BankDocument
          ElementPosition     #1879048185
          HierarchyParent     #Payment
          Caption             #@SYS316286
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BudgetClassification
          ElementPosition     #477218588
          HierarchyParent     #OrderPayment_RU
          DataSource          #PaymentOrderBudgetTrans_RU
          DataGroup           #BudgetClassification
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CommissionTrade_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1207959547
          HierarchyParent     #General
          DataSource          #LedgerJournalTrans
          DataGroup           #CommissionTrade_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CompanyInfo
          AutoDeclaration     #Yes
          ElementPosition     #397682156
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS81121
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CreditBalance
          Enabled             #No
          ElementPosition     #1717986916
          HierarchyParent     #Balances
          Caption             #@SYS24012
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Currency
          ElementPosition     #1073741822
          HierarchyParent     #Group2
          Caption             #@SYS12227
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CurrentJournal
          AllowEdit           #No
          ElementPosition     #715827882
          HierarchyParent     #History
          Caption             #@SYS24582
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Cust
          ElementPosition     #1431655764
          HierarchyParent     #History
          Caption             #@SYS302
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Customs_IN
          AutoDeclaration     #Yes
          ElementPosition     #1491308087
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5007
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DebitBalance
          Enabled             #No
          ElementPosition     #1288490187
          HierarchyParent     #Balances
          Caption             #@SYS24011
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Depositslip
          ElementPosition     #1288490187
          HierarchyParent     #Bank
          FrameType           #None
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Description
          AllowEdit           #No
          Enabled             #No
          ElementPosition     #1610612733
          HierarchyParent     #Group2
          Caption             #@SYS6303
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Document
          ElementPosition     #1908874352
          HierarchyParent     #OrderPayment_RU
          DataSource          #PaymentOrderBudgetTrans_RU
          DataGroup           #Document
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Excise_IN
          AutoDeclaration     #Yes
          ElementPosition     #1163220308
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5005
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ExportPayments
          ElementPosition     #1789569705
          HierarchyParent     #History
          DataSource          #LedgerJournalTrans
          DataGroup           #ExportPayments
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignPayments_LT
          ElementPosition     #2080374780
          HierarchyParent     #Payment
          DataSource          #LedgerJournalTrans
          DataGroup           #ForeignPayments_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Group
          ElementPosition     #715827882
          HierarchyParent     #GrpPayment1
          FrameType           #None
          Columns             #2
          Columnspace         #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Group2
          ElementPosition     #1610612730
          HierarchyParent     #General
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCC
          ElementPosition     #1288490187
          HierarchyParent     #Process
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupDocument
          ElementPosition     #1431655764
          HierarchyParent     #GroupHeader
          FrameType           #None
          DataSource          #LedgerJournalTrans
          DataGroup           #Document
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupDocument_TH
          ElementPosition     #1550960411
          HierarchyParent     #GroupHeader
          FrameType           #None
          DataSource          #LedgerJournalTransExtensionTH
          DataGroup           #TaxInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupHeader
          Top                 #Bottom edge
          ElementPosition     #1610612733
          HierarchyParent     #OverView
          FrameType           #None
          DataSource          #LedgerJournalTrans
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
          AlignChild          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpBank
          ElementPosition     #858993458
          HierarchyParent     #Bank
          DataSource          #LedgerJournalTrans
          DataGroup           #Bank
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpCurrency1
          ElementPosition     #715827882
          HierarchyParent     #GroupHeader
          FrameType           #None
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpDocument
          ElementPosition     #1342177275
          HierarchyParent     #Payment
          DataSource          #LedgerJournalTrans
          DataGroup           #Document
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpDocument_TH
          ElementPosition     #1476395002
          HierarchyParent     #Payment
          FrameType           #None
          DataSource          #LedgerJournalTransExtensionTH
          DataGroup           #TaxInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpDue
          ConfigurationKey    #PaymMan
          ElementPosition     #805306365
          HierarchyParent     #Payment
          Caption             #@SYS14021
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpNames
          ElementPosition     #954437176
          HierarchyParent     #GroupHeader
          FrameType           #None
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpNotificationToTheCentralBank
          ElementPosition     #1610612730
          HierarchyParent     #Payment
          DataSource          #LedgerJournalTrans
          DataGroup           #NotificationToTheCentralBank
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpPayment
          ElementPosition     #402653182
          HierarchyParent     #Payment
          Caption             #@SYS828
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpPayment1
          ElementPosition     #1193046470
          HierarchyParent     #GroupHeader
          FrameType           #None
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GrpPostingProfile
          ElementPosition     #1073741820
          HierarchyParent     #Payment
          Caption             #@SYS12919
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Identification
          ElementPosition     #536870910
          HierarchyParent     #General
          Caption             #@SYS5711
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InterCompany
          AllowEdit           #No
          ElementPosition     #1073741823
          HierarchyParent     #History
          Caption             #@SYS3805
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InterestAndFine_BR
          CountryRegionCodes  #BR
          ElementPosition     #2013265915
          HierarchyParent     #General
          DataSource          #LedgerJournalTransPayment_BR
          DataGroup           #InterestAndFineAmounts
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #OffsetAccountInfo
          ElementPosition     #1342177275
          HierarchyParent     #General
          Caption             #@SYS11162
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #OriginPayment
          ElementPosition     #954437176
          HierarchyParent     #OrderPayment_RU
          DataSource          #PaymentOrderBudgetTrans_RU
          DataGroup           #OriginPayment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PaymentOrder
          ElementPosition     #238609294
          HierarchyParent     #OrderPayment_RU
          DataSource          #PaymentOrderBudgetTrans_RU
          DataGroup           #PaymentOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PaymentOrder_LV
          CountryRegionCodes  #LV
          ElementPosition     #1476395002
          HierarchyParent     #Payment
          DataSource          #LedgerJournalTransPayment_LV
          DataGroup           #PaymentOrder_LV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PaymentType
          ElementPosition     #1431655764
          HierarchyParent     #OrderPayment_RU
          DataSource          #PaymentOrderBudgetTrans_RU
          DataGroup           #PaymentType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PaymPeriod
          ElementPosition     #1670265058
          HierarchyParent     #OrderPayment_RU
          Caption             #@SYS40
          DataSource          #PaymentOrderBudgetTrans_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PDCBank
          ElementPosition     #2013265918
          HierarchyParent     #PDC
          DataSource          #CustPDCRegister
          DataGroup           #Bank
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PDCGroup
          ElementPosition     #1073741823
          HierarchyParent     #PDC
          DataSource          #CustPDCRegister
          DataGroup           #PDC
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PeriodCode
          ElementPosition     #1073741822
          HierarchyParent     #PaymPeriod
          FrameType           #None
          DataSource          #PaymentOrderBudgetTrans_RU
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
          DataGroup           #PeriodCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PeriodDate
          ElementPosition     #1610612733
          HierarchyParent     #PaymPeriod
          DataSource          #PaymentOrderBudgetTrans_RU
          DataGroup           #PeriodDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PostingRelease
          ElementPosition     #1879048185
          HierarchyParent     #General
          DataSource          #LedgerJournalTrans
          DataGroup           #PostingRelease
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PostingReleaseOvw
          ElementPosition     #1670265058
          HierarchyParent     #GroupHeader
          FrameType           #None
          DataSource          #LedgerJournalTrans
          DataGroup           #PostingRelease
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PrintPaymentOrder_RU
          ElementPosition     #2013265918
          HierarchyParent     #Bank
          DataSource          #LedgerJournalTrans
          DataGroup           #PrintPaymentOrder_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Process
          ElementPosition     #1073741822
          HierarchyParent     #TabCreditCard
          DataSource          #LedgerJournalTransCC
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Replacement
          ElementPosition     #1610612734
          HierarchyParent     #PDC
          DataSource          #CustPDCRegister
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesTax
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5536
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ServiceTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #1819395866
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5006
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Status
          ElementPosition     #357913941
          HierarchyParent     #OrderPayment_RU
          DataSource          #PaymentOrderBudgetTrans_RU
          DataGroup           #Status
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Symbol
          ElementPosition     #1865626417
          HierarchyParent     #Bank
          Caption             #@GLS107997
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Tax
          ElementPosition     #1073741820
          HierarchyParent     #General
          DataSource          #LedgerJournalTrans
          DataGroup           #SalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TaxWithholdCertificate
          CountryRegionCodes  #TH
          ElementPosition     #2028178999
          HierarchyParent     #GroupHeader
          FrameType           #None
          DataSource          #LedgerJournalTransExtensionTH
          DataGroup           #Certificate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ThirdPartyBank
          ElementPosition     #1717986916
          HierarchyParent     #Bank
          DataSource          #LedgerJournalTrans
          DataGroup           #ThirdPartyBank
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TotalBalance
          Enabled             #No
          ElementPosition     #858993458
          HierarchyParent     #Balances
          Caption             #@SYS5804
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Transaction
          ElementPosition     #1610612733
          HierarchyParent     #TabCreditCard
          DataSource          #LedgerJournalTransCC
          DataGroup           #Transaction
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VAT
          AutoDeclaration     #Yes
          ElementPosition     #596523235
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5004
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithHoldingTax
          CountryRegionCodes  #TH,SA,GB,IE
          ElementPosition     #1908874352
          HierarchyParent     #GroupHeader
          FrameType           #None
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #2097151998
          HierarchyParent     #GroupHeader
          DataSource          #LedgerJournalTrans
          DataGroup           #WithHoldingTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax_TaxInformation_IN
          AutoDeclaration     #Yes
          ElementPosition     #835132529
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS7372
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #buttonCheckJournal
          AutoDeclaration     #Yes
          HelpText            #@SYS23471
          ElementPosition     #536870908
          HierarchyParent     #ButtonGroup
          Text                #@SYS53323
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #buttonCourse
          AutoDeclaration     #Yes
          HelpText            #@SYS24580
          ElementPosition     #805306362
          HierarchyParent     #ButtonGroup
          Text                #@SYS2453
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #buttonFunctions
          AutoDeclaration     #Yes
          HelpText            #@SYS28778
          ElementPosition     #1207959543
          HierarchyParent     #ButtonGroup
          Text                #@SYS10340
          MultiSelect         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #buttonPaymentProposal
          AutoDeclaration     #Yes
          HelpText            #@SYS78096
          ElementPosition     #1476394997
          HierarchyParent     #ButtonGroup
          Text                #@SYS66014
          MultiSelect         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #buttonPaymentReconciliation
          AutoDeclaration     #Yes
          HelpText            #@SYS67678
          ElementPosition     #1342177270
          HierarchyParent     #ButtonGroup
          Text                #@SYS22176
          MultiSelect         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    boolean             visible = false;
            #    boolean             enabled = false;
            #    LedgerJournalTrans  localLedgerJournalTrans;
            #    FormDataSource      formDS;
            #    FormButtonControl   ctrlBankChequeReuseButton = bankChequeReuse;
            #    ;
            #
            #    if (ctrlBankChequeReuseButton)
            #    {
            #        visible = BankParameters::find().AllowCheckReuse;
            #        ctrlBankChequeReuseButton.visible(visible);
            #
            #        if (visible)
            #        {
            #            formDS = ledgerJournalTrans.dataSource();
            #            if (formDS)
            #            {
            #                for (localLedgerJournalTrans = getFirstSelection(formDS);
            #                     localLedgerJournalTrans;
            #                     localLedgerJournalTrans = formDS.getNext())
            #                {
            #                    if (localLedgerJournalTrans.PaymentStatus == CustVendPaymStatus::Sent
            #                        && localLedgerJournalTrans.PaymReference)
            #                    {
            #                        enabled = true;
            #                        break;
            #                    }
            #                }
            #            }
            #        }
            #
            #        ctrlBankChequeReuseButton.enabled(enabled);
            #    }
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #buttonPostJournal
          AutoDeclaration     #Yes
          HelpText            #@SYS5943
          ElementPosition     #402653181
          HierarchyParent     #ButtonGroup
          Text                #@SYS6098
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #FinancialDimension
          HelpText            #@SYS300590
          ElementPosition     #671088635
          HierarchyParent     #ButtonGroup
          Text                #@SYS138491
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    journalFormTrans.enableDimensionButtonsActive(custVendPaymJournalFee);
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #Inquiries
          HelpText            #@SYS84076
          ElementPosition     #1610612724
          HierarchyParent     #ButtonGroup
          Text                #@SYS3850
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #Print
          HelpText            #@SYS84077
          ElementPosition     #1744830451
          HierarchyParent     #ButtonGroup
          Text                #@SYS920
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #TaxWithhold_IN
          AutoDeclaration     #Yes
          HelpText            #@GLS5864
          ElementPosition     #2122317822
          HierarchyParent     #ButtonGroup
          Text                #@SYS33817
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #TaxWithholdLineStatusMenuButton
          AutoDeclaration     #Yes
          HelpText            #@GLS2078
          ElementPosition     #2134900734
          HierarchyParent     #ButtonGroup
          Text                #@GLS2077
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Customs_IN_CustomsTariffCodeTable_IN
          ElementPosition     #1717986916
          HierarchyParent     #Customs_IN
          DataSource          #LedgerJournalTrans
          ReferenceField      #CustomsTariffCodeTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #LedgerJournalTrans_CompanyLocation_IN
          HelpText            #@GLS222760
          ElementPosition     #795364312
          HierarchyParent     #CompanyInfo
          DataSource          #LedgerJournalTrans
          ReferenceField      #CompanyLocation_IN
          Label               #@SYS123914
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #LedgerJournalTrans_ExciseTariffCodes_IN
          ElementPosition     #858993456
          HierarchyParent     #Excise_IN
          DataSource          #LedgerJournalTrans
          ReferenceField      #ExciseTariffCodes_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #LedgerJournalTrans_LedgerVoucherType_CN
          ElementPosition     #644245092
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          ReferenceField      #LedgerVoucherType_CN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #LedgerJournalTrans_SalesTaxFormTypes_IN
          ElementPosition     #1610612734
          HierarchyParent     #SalesTax
          DataSource          #LedgerJournalTrans
          ReferenceField      #SalesTaxFormTypes_IN
          Label               #@GLS5179
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #LedgerJournalTransSymbol_BankConstantSymbol
          ElementPosition     #1073741822
          HierarchyParent     #Symbol
          DataSource          #LedgerJournalTransSymbol
          ReferenceField      #BankConstantSymbol
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #LedgerJournalTransTaxExtensionIN_TaxInformation_IN
          ElementPosition     #1670265056
          HierarchyParent     #CompanyInfo
          DataSource          #LedgerJournalTransTaxExtensionIN
          ReferenceField      #TaxInformation_IN
          Label               #@SYS33652
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PDCGroup_WorkerCollectionAgent
          ElementPosition     #2058005160
          HierarchyParent     #PDCGroup
          DataSource          #CustPDCRegister
          ReferenceField      #WorkerCollectionAgent
          ReplacementFieldGroup #PersonnelNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #PDCGroup_WorkerSalesPerson
          ElementPosition     #2102744402
          HierarchyParent     #PDCGroup
          DataSource          #CustPDCRegister
          ReferenceField      #WorkerSalesPerson
          ReplacementFieldGroup #PersonnelNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTax_SalesTaxRegistrationNumber
          ElementPosition     #1073741822
          HierarchyParent     #SalesTax
          DataSource          #TaxInformation_IN
          ReferenceField      #SalesTaxRegistrationNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ECCNumber
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ECCNumber
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_IECRegistrationNumberTable
          ElementPosition     #858993458
          HierarchyParent     #Customs_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #IECRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ManECCRegistrationNumberTable
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ManECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_STCRegistrationNumberTable
          ElementPosition     #858993458
          HierarchyParent     #ServiceTax_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #STCRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_TraderECCRegistrationNumberTable
          AutoDeclaration     #Yes
          ElementPosition     #751619274
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #TraderECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #VAT_TIN
          ElementPosition     #286331152
          HierarchyParent     #VAT
          DataSource          #TaxInformation_IN
          ReferenceField      #TIN
          ReplacementFieldGroup #Identification
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #WithholdingTax_TAN
          ElementPosition     #1610612733
          HierarchyParent     #WithholdingTax_TaxInformation_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #TAN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #AssetTab
          ElementPosition     #1503238548
          HierarchyParent     #Tab
          Caption             #@SYS12578
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #Bank
          ElementPosition     #1288490184
          HierarchyParent     #Tab
          Caption             #@SYS22173
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #General
          ElementPosition     #644245092
          HierarchyParent     #Tab
          Caption             #@SYS2952
          DataSource          #LedgerJournalTrans
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #History
          AllowEdit           #No
          ElementPosition     #1717986912
          HierarchyParent     #Tab
          Caption             #@SYS10575
          DataSource          #LedgerJournalTrans
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #OrderPayment_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ConfigurationKey    #Bank
          ElementPosition     #2122317822
          HierarchyParent     #Tab
          Caption             #@GLS102632
          DataSource          #PaymentOrderBudgetTrans_RU
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #OverView
          ElementPosition     #429496728
          HierarchyParent     #Tab
          Caption             #@SYS9039
          DataSource          #LedgerJournalTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #Payment
          ElementPosition     #1825361094
          HierarchyParent     #Tab
          Caption             #@SYS828
          DataSource          #LedgerJournalTrans
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #PaymentFee
          ElementPosition     #1073741820
          HierarchyParent     #Tab
          Caption             #@SYS57605
          DataSource          #CustVendPaymJournalFee
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #PDC
          AutoDeclaration     #Yes
          ElementPosition     #1932735276
          HierarchyParent     #Tab
          Caption             #@SYS322452
          Columns             #Auto
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabCreditCard
          ElementPosition     #1610612730
          HierarchyParent     #Tab
          Caption             #@ACC1423
          DataSource          #LedgerJournalTransCC
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabTaxInformation_IN
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          ElementPosition     #2134900734
          HierarchyParent     #Tab
          Caption             #@SYS33652
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #BankChequeReuse
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          CountryRegionCodes  #CA,US
          HelpText            #@SYS93952
          SecurityKey         #BankMisc
          ElementPosition     #1073741820
          HierarchyParent     #buttonPaymentReconciliation
          Text                #@SYS93951
          MultiSelect         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  ledgerJournalTransRecord;
            #    ;
            #    ledgerJournalTransRecord.reuseCheck(ledgerJournalTrans);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonApprove
          AutoDeclaration     #Yes
          HelpText            #@SYS22218
          ElementPosition     #1288490187
          HierarchyParent     #buttonCourse
          Text                #@SYS16449
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ;
            #    ledgerJournalEngine.clearVoucher();
            #    ledgerJournalEngine.markApproved();
            #    ledgerJournalEngine.refreshWhenPosted();
            #    journalFormTrans.enableButtonsActive();
            #    element.bookRefresh();
            #    super();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonReject
          AutoDeclaration     #Yes
          HelpText            #@SYS22330
          ElementPosition     #1717986916
          HierarchyParent     #buttonCourse
          Text                #@SYS22331
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ;
            #    ledgerJournalEngine.markRejected();
            #    ledgerJournalEngine.refreshWhenPosted();
            #    journalFormTrans.enableButtonsActive();
            #    element.bookRefresh();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonReportAsReady
          AutoDeclaration     #Yes
          HelpText            #@SYS22219
          ElementPosition     #858993458
          HierarchyParent     #buttonCourse
          Text                #@SYS22220
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ;
            #    ledgerJournalEngine.clearVoucher();
            #    ledgerJournalEngine.markReportAsReady();
            #    ledgerJournalEngine.refreshWhenPosted();
            #    journalFormTrans.enableButtonsActive();
            #    element.bookRefresh();
            #    super();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonSettlement
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS50881
          ElementPosition     #390451572
          HierarchyParent     #buttonFunctions
          Text                #@SYS10163
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  localLedgerJournalTrans;
            #    ;
            #
            #    element.disableSettlement();
            #
            #    element.lock();
            #    localLedgerJournalTrans.data(ledgerJournalTrans);
            #
            #    // <GIN>
            #    if (TaxWithholdParameters_IN::checkTaxParameters())
            #    {
            #        TaxWithholdUncommitted_IN::deleteForInvoice(
            #            tableNum(LedgerJournalTable),
            #            localLedgerJournalTrans.ledgerJournalTable().RecId,
            #            localLedgerJournalTrans.Voucher,
            #            localLedgerJournalTrans.Invoice);
            #    }
            #    // </GIN>
            #
            #    super();
            #    ledgerJournalEngine.settleTrans(ledgerJournalTrans);
            #    ledgerJournalEngine.preWrite(ledgerJournalTrans);
            #
            #    // Update MarkedInvoice fields based on settleTrans() result
            #    ledgerJournalEngine.updateMarkedInvoiceFromSettlement(ledgerJournalTrans);
            #
            #    changecompany(ledgerJournalTrans.company())
            #    {
            #        ledgerJournalTrans.update();
            #        ledgerJournalTrans_ds.active();
            #        ledgerJournalTrans_ds.reread();
            #        ledgerJournalEngine.write(ledgerJournalTrans);
            #
            #        ledgerJournalEngine.updatePaymentFee(ledgerJournalTrans, custVendPaymJournalFee);
            #    }
            #
            #    ledgerJournalTrans_ds.executeQuery();
            #    //recalculate balances
            #    ledgerJournalEngine.newJournalActive(ledgerJournalTable, true);
            #    ledgerJournalTrans_ds.findRecord(localLedgerJournalTrans);
            #    element.firstField();
            #    element.unLock();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #DeleteCustOutPayment
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          HelpText            #@GLS102870
          ConfigurationKey    #Bank
          ElementPosition     #2145386494
          HierarchyParent     #buttonFunctions
          Text                #@GLS106733
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (Box::yesNo("@GLS103017",DialogButton::Yes) != DialogButton::Yes)
            #    {
            #        return;
            #    }
            #
            #    super();
            #
            #    BankPaymentOrderJour_RU::deletePayment_RU(ledgerJournalTrans);
            #
            #    ledgerJournalTrans_ds.reread();
            #    ledgerJournalTrans_ds.active();
            #    //element.setFunctionButton();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #MCRCustPaymButton
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@SYS116744
          ConfigurationKey    #MCRPayment
          ElementPosition     #878516037
          HierarchyParent     #buttonFunctions
          Text                #@MCR20754
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args    paymentArgs;
            #    FormRun paymentFormRun;
            #    MCRCustPaymTable mcrCustPaymTable;
            #    MCRCustPaym mcrCustPaymLocal;
            #    container paymAccounts;
            #
            #    paymentArgs = new Args();
            #
            #    paymentArgs.record(ledgerJournalTrans);
            #
            #    paymentFormRun = new MenuFunction(menuitemDisplayStr(MCRCustPaym),
            #                                        MenuItemType::Display).create(paymentArgs);
            #
            #    paymentFormRun.run();
            #    paymentFormRun.wait();
            #
            #
            #    mcrCustPaymTable = MCRCustPaymTable::findByRefRecIDRefTableID(ledgerJournalTrans.RecId,
            #                                                                  ledgerJournalTrans.TableId);
            #    if (mcrCustPaymTable)
            #    {
            #        ttsbegin;
            #        mcrCustPaymLocal = MCRCustPaym::construct(mcrCustPaymTable);
            #        paymAccounts = mcrCustPaymLocal.getPaymAccount();
            #        ledgerJournalTrans.OffsetAccountType = conPeek(paymAccounts,1);
            #        ledgerJournalTrans.OffsetLedgerDimension = conPeek(paymAccounts,2);
            #        if (ledgerJournalTrans.validateWrite())
            #        {
            #            ledgerJournalTrans.update();
            #        }
            #        else
            #        {
            #            throw error("@SYS104318");
            #        }
            #        ledgerJournalTrans_ds.research();
            #        ttscommit;
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PrintAckReceipt
          AutoDeclaration     #Yes
          HelpText            #@SYS322837
          ElementPosition     #1932735276
          HierarchyParent     #Print
          Text                #@SYS327038
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args args                   = new Args();
            #    CustVendPDCReceiptController controller;
            #    MenuFunction                menuFunc;
            #
            #    super();
            #
            #    controller = new CustVendPDCReceiptController();
            #
            #    controller.parmAccountName(ledgerJournalTrans.accountName());
            #    controller.parmAccountType(CustVendACType::Cust);
            #    controller.parmBankBranch(custPDCRegister.BankBranch);
            #    controller.parmBankName(custPDCRegister.BankName);
            #    controller.parmCheckAmount(ledgerJournalTrans.displayCustPaymAmount());
            #    controller.parmCheckNum(custPDCRegister.CheckNumber);
            #    controller.parmCurrency(ledgerJournalTrans.CurrencyCode);
            #    controller.parmDateReceived(custPDCRegister.DateReceived);
            #    controller.parmMaturityDate(custPDCRegister.MaturityDate);
            #    args.parmObject(controller);
            #
            #    menuFunc = new MenuFunction(menuitemOutputStr(CustVendPDCReport),MenuItemType::Output);
            #    menuFunc.run(args);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PrintCCReceipt
          AutoDeclaration     #Yes
          HelpText            #@SYS322837
          ElementPosition     #2037313257
          HierarchyParent     #Print
          Text                #@ACC1617
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args args                   = new Args();
            #    CreditCardTrans             ccTrans = CreditCardTrans::find(LedgerJournalTransCC.TransID);
            #
            #    super();
            #
            #    args = new Args();
            #    args.name(classStr(CreditCardReceiptController));
            #    args.record(ccTrans);
            #    args.caller(this);
            #    CreditCardReceiptController::main(args);
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ProcessAllCreditCard
          AutoDeclaration     #Yes
          HelpText            #@ACC1198
          ElementPosition     #1106279454
          HierarchyParent     #buttonFunctions
          Text                #@ACC1879
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    element.processAllCCCharges();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ProcessCreditCard
          AutoDeclaration     #Yes
          HelpText            #@ACC1198
          ElementPosition     #1041204192
          HierarchyParent     #buttonFunctions
          Text                #@ACC108
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    element.processCreditCard();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #TaxWithholdClosePaymlLine_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          HelpText            #@GLS2080
          ElementPosition     #1073741822
          HierarchyParent     #TaxWithholdLineStatusMenuButton
          Text                #@GLS2079
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ledgerJournalTrans.closeTaxWithholdEditStatus_BR();
            #    ledgerJournalTransPayment_BR.write();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #TaxWithholdReopenPaymlLine_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          HelpText            #@GLS2082
          ElementPosition     #1610612733
          HierarchyParent     #TaxWithholdLineStatusMenuButton
          Text                #@GLS2081
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ledgerJournalTrans.reopenTaxWithholdEditStatus_BR();
            #    ledgerJournalTransPayment_BR.write();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #fieldBankDepositVoucher
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #Depositslip
          DataSource          #LedgerJournalTrans
          DataField           #BankDepositVoucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #fieldBankDepositVoucherGrid
          AutoDeclaration     #Yes
          ElementPosition     #1574821336
          HierarchyParent     #overviewGrid
          BackgroundColor     #Window background
          DataSource          #LedgerJournalTrans
          DataField           #BankDepositVoucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #fieldTriangulation
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #Currency
          DataSource          #LedgerJournalTrans
          DataField           #Triangulation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LedgerJournalTrans_CustFactureAutoCreate_RU
          ElementPosition     #2130706430
          HierarchyParent     #GrpPayment
          DataSource          #LedgerJournalTrans
          DataField           #CustFactureAutoCreate_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LedgerJournalTrans_Prepayment
          ElementPosition     #1073741820
          HierarchyParent     #GrpPayment
          DataSource          #LedgerJournalTrans
          DataField           #Prepayment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LedgerJournalTrans_TaxWithholdCalculate
          ElementPosition     #1879048185
          HierarchyParent     #GrpPayment
          Label               #@SYS316746
          DataSource          #LedgerJournalTrans
          DataField           #TaxWithholdCalculate_TH
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LedgerJournalTrans_Transfer
          ElementPosition     #1717986916
          HierarchyParent     #Identification
          DataSource          #LedgerJournalTrans
          DataField           #Transfer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PDCGroup_StopPayment
          ElementPosition     #2132570564
          HierarchyParent     #PDCGroup
          DataSource          #CustPDCRegister
          DataField           #StopPayment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Process_Processed
          ElementPosition     #858993458
          HierarchyParent     #Process
          DataSource          #LedgerJournalTransCC
          DataField           #Processed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Replacement_IsReplacementCheck
          ElementPosition     #1073741823
          HierarchyParent     #Replacement
          DataSource          #CustPDCRegister
          DataField           #IsReplacementCheck
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    element.enableReplacementFields();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Customs_IN_CustomsTariffDirection_IN
          ElementPosition     #1288490187
          HierarchyParent     #Customs_IN
          DataSource          #LedgerJournalTrans
          DataField           #CustomsTariffDirection_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #CustVendPaymJournalFee_LedgerJournalACType
          ElementPosition     #1670265058
          HierarchyParent     #GridPaymFee
          DataSource          #CustVendPaymJournalFee
          DataField           #LedgerJournalACType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Excise_IN_ExciseTypes_IN
          ElementPosition     #429496728
          HierarchyParent     #Excise_IN
          DataSource          #LedgerJournalTrans
          DataField           #ExciseType_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseManufacture_IN
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #Excise_IN
          DataSource          #LedgerJournalTrans
          DataMethod          #exciseManufacture_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseNone_IN
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #Excise_IN
          DataSource          #LedgerJournalTrans
          DataMethod          #exciseNone_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseTraders_IN
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #Excise_IN
          DataSource          #LedgerJournalTrans
          DataMethod          #exciseTraders_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTrans_AccountType1
          ElementPosition     #1073741823
          HierarchyParent     #Account
          DataSource          #LedgerJournalTrans
          DataField           #AccountType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTrans_AssetTransType
          ElementPosition     #1073741823
          HierarchyParent     #AssetTab
          DataSource          #LedgerJournalTrans_Asset
          DataField           #TransType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTrans_GTAServiceCategory_IN
          ElementPosition     #1717986916
          HierarchyParent     #ServiceTax_IN
          DataSource          #LedgerJournalTrans
          DataField           #GTAServiceCategory_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTrans_NatureOfAssessee_IN
          ElementPosition     #1073741822
          HierarchyParent     #WithholdingTax_TaxInformation_IN
          DataSource          #LedgerJournalTrans
          DataField           #NatureOfAssessee_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTrans_OffsetAccountType
          AutoDeclaration     #Yes
          ElementPosition     #1717986912
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          DataField           #OffsetAccountType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTrans_OffsetAccountType1
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #OffsetAccountInfo
          DataSource          #LedgerJournalTrans
          DataField           #OffsetAccountType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTrans_PaymentStatus
          ElementPosition     #2004318067
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          DataField           #PaymentStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTrans_SettleVoucher
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #GrpPostingProfile
          DataSource          #LedgerJournalTrans
          DataField           #SettleVoucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTrans_SettleVoucher1
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #GrpPayment1
          DataSource          #LedgerJournalTrans
          DataField           #SettleVoucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LedgerJournalTransPayment_BR_TaxWithholdEditStatus_BR
          ElementPosition     #2075900856
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTransPayment_BR
          DataField           #TaxWithholdEditStatus_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PDCGroup_PDCStatus
          AllowEdit           #No
          ElementPosition     #1879048190
          HierarchyParent     #PDCGroup
          DataSource          #CustPDCRegister
          DataField           #PDCStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Process_CreditCardTrxType
          ElementPosition     #1717986916
          HierarchyParent     #Process
          DataSource          #LedgerJournalTransCC
          DataField           #CreditCardTrxType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #AddButton
          ElementPosition     #1073741822
          HierarchyParent     #NewDeleteGroup1
          Text                #@sys60080
          ButtonDisplay       #Text & Image left
          NormalImage         #11421
          ImageLocation       #EmbeddedResource
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #buttonCopyPeriodicJournal
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS24590
          ConfigurationKey    #LedgerBasic
          ElementPosition     #1073741816
          HierarchyParent     #ButtonGroup
          Text                #@SYS3868
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args    args;
            #    ;
            #    ledgerJournalEngine.clearVoucher();
            #    ledgerJournalTable = LedgerJournalTable::find(journalNum);
            #    args = new Args();
            #    args.record(ledgerJournalTable);
            #    LedgerJournalCopyPeriodic::main(args);
            #
            #    ledgerJournalEngine.newJournalActive(ledgerJournalTable, true);
            #    ledgerJournalTrans_ds.research();
            #    super();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteButton
          ElementPosition     #1610612733
          HierarchyParent     #NewDeleteGroup
          Text                #@sys14425
          ButtonDisplay       #Text & Image left
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewButton
          ElementPosition     #1073741822
          HierarchyParent     #NewDeleteGroup
          ButtonDisplay       #Text & Image left
          NormalImage         #11045
          ImageLocation       #EmbeddedResource
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #RemoveButton
          ElementPosition     #1610612733
          HierarchyParent     #NewDeleteGroup1
          Text                #@sys26394
          ButtonDisplay       #Text & Image left
          NormalImage         #11438
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #DepreciationStartDate
          AutoDeclaration     #Yes
          ElementPosition     #1879048190
          HierarchyParent     #AssetTab
          DataSource          #LedgerJournalTrans_Asset
          DataField           #DepreciationStartDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #DocumentDate
          ElementPosition     #1610612733
          HierarchyParent     #GrpDocument
          DataSource          #LedgerJournalTrans
          DataField           #DocumentDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #GroupDocument_TaxInvoiceReceiptDate_TH
          ElementPosition     #1073741822
          HierarchyParent     #GroupDocument_TH
          Label               #@SYS4082745
          DataSource          #LedgerJournalTransExtensionTH
          DataField           #TaxInvoiceReceiptDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #GrpDocument_TaxInvoiceReceiptDate_TH
          ElementPosition     #1073741822
          HierarchyParent     #GrpDocument_TH
          Label               #@SYS4082745
          DataSource          #LedgerJournalTransExtensionTH
          DataField           #TaxInvoiceReceiptDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_Due
          ElementPosition     #1431655764
          HierarchyParent     #GrpDue
          DataSource          #LedgerJournalTrans
          DataField           #Due
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_LoadingDate
          ElementPosition     #1431655764
          HierarchyParent     #Cust
          DataSource          #LedgerJournalTrans
          DataField           #LoadingDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_TransDate
          AutoDeclaration     #Yes
          ElementPosition     #572662304
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          DataField           #TransDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_TransDate1
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #Identification
          DataSource          #LedgerJournalTrans
          DataField           #TransDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #PDCGroup_DateReceived
          ElementPosition     #805306365
          HierarchyParent     #PDCGroup
          DataSource          #CustPDCRegister
          DataField           #DateReceived
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #PDCGroup_MaturityDate
          ElementPosition     #536870910
          HierarchyParent     #PDCGroup
          DataSource          #CustPDCRegister
          DataField           #MaturityDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #BankLCLineNum
          ConfigurationKey    #BankDocument
          ElementPosition     #1610612733
          HierarchyParent     #BankLCExportGroup
          DataSource          #LedgerJournalTrans
          DataMethod          #displayBankLCLineNum
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    ledgerJournalTrans_ds.jumpRefBankLC();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #AccountDimension
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #FinancialDimension
          MenuItemName        #LedgerJourTransDimLedgerJourTrnCstPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    ledgerJournalEngine.openAccountFinancialDimensionForm(ledgerJournalTrans, accountDimension.menuItemType(), accountDimension.menuItemName());
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #AdvanceInvoiceLink_CZ
          AutoDeclaration     #Yes
          ElementPosition     #2146784594
          HierarchyParent     #buttonFunctions
          MenuItemName        #CzCustAdvanceInvoiceLink
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BankCustPaymProposalSpec
          CountryRegionCodes  #NO
          ElementPosition     #1789569705
          HierarchyParent     #buttonPaymentProposal
          MenuItemName        #BankCustPaymProposalSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #btnPaymFeeInquery
          ElementPosition     #1840700268
          HierarchyParent     #Inquiries
          MenuItemName        #PaymFeeINquery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonBalanceControl
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #Inquiries
          MenuItemName        #LedgerBalanceControlLdgrJourTrnCustPaym
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCreatePayment
          AutoDeclaration     #Yes
          ElementPosition     #780903144
          HierarchyParent     #buttonFunctions
          MenuItemType        #Action
          MenuItemName        #CustSumForPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    boolean ret = true;
            #
            #    ledgerJournalEngine.clearVoucher();
            #
            #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoNO]))
            #    {
            #        ret = CustVendPaymAbroad_NO::checkForeignCustPaym(ledgerJournalTable.JournalNum);
            #    }
            #
            #    ret = ret && CustVendNACHAIATInfoTable_US::checkValuesIATpaymRecords(ledgerJournalTable.JournalNum);
            #
            #    if (ret)
            #    {
            #        super();
            #
            #        if(ledgerJournalTrans.parmLedgerDimension())
            #        {
            #            postingResults_Client = ledgerJournalEngine.getPostingResults_Client();
            #
            #            if (postingResults_Client.errorInJournal())
            #            {
            #                errorExist.visible(true);
            #            }
            #            ledgerJournalTrans_ds.research();
            #            ledgerJournalTrans_ds.active();
            #        }
            #    }
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonDeleteTransactions
          AutoDeclaration     #Yes
          ElementPosition     #1561806288
          HierarchyParent     #buttonFunctions
          MenuItemType        #Action
          MenuItemName        #LedgerJourDelTransLJTransCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ;
            #    ledgerJournalEngine.clearVoucher();
            #    super();
            #    ledgerJournalEngine.newJournalActive(ledgerJournalTable, true);
            #    ledgerJournalTrans_ds.research();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonDepositSlip
          AutoDeclaration     #Yes
          ElementPosition     #976128930
          HierarchyParent     #buttonFunctions
          DataSource          #LedgerJournalTrans
          MenuItemType        #Action
          MenuItemName        #BankDepositSlip
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #
            #    super();
            #    ledgerJournalTrans_ds.research();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonVoucherTrans
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #Inquiries
          SaveRecord          #No
          DataSource          #LedgerJournalTrans
          MenuItemName        #LedgerTransVoucher1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonWithholdTax_IN
          ElementPosition     #1431655764
          HierarchyParent     #TaxWithhold_IN
          Text                #@SYS33817
          DataSource          #LedgerJournalTrans
          MenuItemName        #TaxWithholdTmpWorkTrans_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <GIN>
            #void  clicked()
            #{
            #    if (!ledgerJournalTable.Posted)
            #    {
            #        TaxWithholdJournal_IN::calcAndShowWithholdTax(element.getShowWithholdTax_IN(), ledgerJournalTrans, element);
            #    }
            #    else
            #    {
            #        TaxWithholdJournal_IN::calcAndShowWithholdTax(element.getShowWithholdTax_IN(), null, element);
            #    }
            #}
            #// </GIN>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CashReport
          ElementPosition     #858993456
          HierarchyParent     #Print
          ShowShortCut        #No
          MenuItemType        #Output
          MenuItemName        #LedgerJournalCashReport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CheckJournal
          ElementPosition     #1073741822
          HierarchyParent     #buttonCheckJournal
          DataSource          #LedgerJournalTrans
          MenuItemType        #Action
          MenuItemName        #LedgerJourChkLJTransCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #
            #    super();
            #
            #    postingResults_Client = ledgerJournalEngine.getPostingResults_Client();
            #
            #    if (postingResults_Client.errorInJournal())
            #    {
            #        errorExist.visible(true);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CheckVoucher
          ElementPosition     #1610612733
          HierarchyParent     #buttonCheckJournal
          DataSource          #LedgerJournalTrans
          MenuItemType        #Action
          MenuItemName        #LedgerJourChk1LJTransCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #
            #    super();
            #    postingResults_Client = ledgerJournalEngine.getPostingResults_Client();
            #
            #    if (postingResults_Client.errorInJournal())
            #    {
            #        errorExist.visible(true);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardAdhocCreate
          AutoDeclaration     #Yes
          HelpText            #@ACC115
          ElementPosition     #1610612733
          HierarchyParent     #GroupCC
          ButtonDisplay       #Image only
          NormalImage         #11421
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          DataSource          #LedgerJournalTrans
          MenuItemName        #CreditCardAdhocCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustEgiroSegmentTrans
          ElementPosition     #1879048178
          HierarchyParent     #ButtonGroup
          MenuItemName        #CustEgiroSegmentTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustInpayment
          AutoDeclaration     #Yes
          ElementPosition     #1757032074
          HierarchyParent     #buttonFunctions
          MenuItemType        #Action
          MenuItemName        #CustInpayment
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ;
            #    ledgerJournalEngine.clearVoucher();
            #
            #    super();
            #
            #    postingResults_Client = ledgerJournalEngine.getPostingResults_Client();
            #
            #    if (postingResults_Client.errorInJournal())
            #    {
            #        errorExist.visible(true);
            #    }
            #
            #    ledgerJournalTrans_ds.research();
            #    ledgerJournalTrans_ds.active();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustPaymEditingButton
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #268435454
          HierarchyParent     #ButtonGroup
          DataSource          #LedgerJournalTrans
          MenuItemName        #CustPaymEditing
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    ;
            #
            #    super();
            #
            #    element.disableSettlement();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #custPaymentExecDate_BE
          AutoDeclaration     #Yes
          ElementPosition     #1952257860
          HierarchyParent     #buttonFunctions
          DataSource          #LedgerJournalTrans
          MenuItemType        #Action
          MenuItemName        #custPaymentExecDate_BE
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustPaymentJournal_NA
          ElementPosition     #1503238548
          HierarchyParent     #Print
          MenuItemType        #Output
          MenuItemName        #CustPaymentJournal_NA
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustPaymProposalCreate
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #buttonPaymentProposal
          MenuItemType        #Action
          MenuItemName        #CustPaymProposalCreate
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    boolean allowEditSave;
            #    boolean allowCreateSave;
            #    boolean allowDeleteSave;
            #    ;
            #
            #    // clear unused vouchers prior to invoking creation process
            #    ledgerJournalEngine.clearVoucher();
            #
            #    allowEditSave   = ledgerJournalTrans_ds.allowEdit();
            #    allowCreateSave = ledgerJournalTrans_ds.allowCreate();
            #    allowDeleteSave = ledgerJournalTrans_ds.allowDelete();
            #
            #    ledgerJournalTrans_ds.allowEdit(false);
            #    ledgerJournalTrans_ds.allowCreate(false);
            #    ledgerJournalTrans_ds.allowDelete(false);
            #
            #    super();
            #
            #    ledgerJournalTrans_ds.allowEdit(allowEditSave);
            #    ledgerJournalTrans_ds.allowCreate(allowCreateSave);
            #    ledgerJournalTrans_ds.allowDelete(allowDeleteSave);
            #
            #    journalFormTrans.researchJournalLines();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustPaymProposalEdit
          ElementPosition     #1431655764
          HierarchyParent     #buttonPaymentProposal
          MultiSelect         #Yes
          MenuItemName        #CustPaymProposalEdit
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ;
            #
            #    ledgerJournalEngine.lock();
            #
            #    CustVendPaymProposalEditForm::newLedgerJournalTrans(ledgerJournalTrans).run();
            #
            #    ledgerJournalEngine.newJournalActive(ledgerJournalTrans.ledgerJournalTable(),true);
            #    ledgerJournalEngine.unlock();
            #    ledgerJournalTrans_ds.last();
            #    ledgerJournalTrans_ds.write();
            #    ledgerJournalTrans_ds.active();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustShowSpecifikation
          ElementPosition     #920350134
          HierarchyParent     #Inquiries
          DataSource          #LedgerJournalTrans
          MenuItemName        #CustShowSpecifikation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustVendNACHAIATInfoTable_US
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #Group
          ButtonDisplay       #Image only
          NormalImage         #12084
          ImageLocation       #EmbeddedResource
          DataSource          #LedgerJournalTrans
          MenuItemName        #CustVendNACHAIATInfoTable_US
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustVendOutPaymReport_RU
          AutoDeclaration     #Yes
          ElementPosition     #2144687442
          HierarchyParent     #Print
          DataSource          #LedgerJournalTrans
          MenuItemType        #Output
          MenuItemName        #CustVendOutPaymReport_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustVendPaymProposal
          ElementPosition     #1717986912
          HierarchyParent     #Print
          DataSource          #LedgerJournalTrans
          MenuItemType        #Output
          MenuItemName        #CustVendPaymProposal
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <GTH>
            #void clicked()
            #{
            #    CustTrans               custTrans;
            #    CustTransExtensionTH    custTransExtensionTH;
            #    Args                    args = new Args();
            #
            #    args.caller(this);
            #    args.record(ledgerJournalTrans);
            #
            #    if (TaxThaiGovCertificationFeatureChecker::isUnrealizedVATEnabled())
            #    {
            #        custTrans               = CustTrans::findVoucherDate(ledgerJournalTrans.Voucher, ledgerJournalTrans.TransDate);
            #        custTransExtensionTH    = custTrans.custTransExtensionTH();
            #        if (custTransExtensionTH.ReceiptId || custTrans.DocumentNum)
            #        {
            #            if (custTransExtensionTH.ReceiptId && custTrans.DocumentNum)
            #            {
            #                args.parmEnumType(InvoiceTaxType::Both);
            #            }
            #            else if (custTransExtensionTH.ReceiptId)
            #            {
            #                args.parmEnumType(InvoiceTaxType::Realized);
            #            }
            #            else if (custTrans.DocumentNum)
            #            {
            #                args.parmEnumType(InvoiceTaxType::Unrealized);
            #            }
            #
            #            new MenuFunction(menuitemOutputStr(PaymReceiptTaxInv), MenuItemType::Output).run(args);
            #        }
            #        else
            #        {
            #            super();
            #        }
            #    }
            #    else
            #    {
            #        super();
            #    }
            #}
            #// <GTH>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustVendPaymReconciliationDelete
          ElementPosition     #1610612731
          HierarchyParent     #buttonPaymentReconciliation
          MenuItemType        #Action
          MenuItemName        #PaymReconDeleteCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  findRecord;
            #
            #    findRecord.data(ledgerJournalTrans);
            #    super();
            #    ledgerJournalTrans_ds.research();
            #    ledgerJournalTrans_ds.findRecord(findRecord);
            #}
            #
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustVendPaymReconciliationDeleted
          ElementPosition     #1968526673
          HierarchyParent     #buttonPaymentReconciliation
          MenuItemType        #Action
          MenuItemName        #PaymReconDeletedCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  findRecord;
            #
            #    findRecord.data(ledgerJournalTrans);
            #    super();
            #    ledgerJournalTrans_ds.research();
            #    ledgerJournalTrans_ds.findRecord(findRecord);
            #}
            #
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustVendPaymReconciliationSentDelete
          ElementPosition     #1789569702
          HierarchyParent     #buttonPaymentReconciliation
          MenuItemType        #Action
          MenuItemName        #PaymReconSentDeleteCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  findRecord;
            #
            #    findRecord.data(ledgerJournalTrans);
            #    super();
            #    ledgerJournalTrans_ds.research();
            #    ledgerJournalTrans_ds.findRecord(findRecord);
            #}
            #
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CzAdvancePaymentProposal_Cust
          ElementPosition     #894784852
          HierarchyParent     #buttonPaymentProposal
          MenuItemType        #Action
          MenuItemName        #CzAdvancePaymentProposal_Cust
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CzTaxDocumentCreate_Cust
          AutoDeclaration     #Yes
          ElementPosition     #2146435070
          HierarchyParent     #buttonFunctions
          Text                #@GLS108299
          DataSource          #LedgerJournalTrans
          MenuItemType        #Action
          MenuItemName        #CzTaxDocumentCreate_Cust
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #JounalDetails
          ElementPosition     #429496728
          HierarchyParent     #Print
          Text                #@SYS24010
          ShowShortCut        #No
          MenuItemType        #Output
          MenuItemName        #LedgerJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LedgerJournalPostTransfer
          ElementPosition     #1610612733
          HierarchyParent     #buttonPostJournal
          DataSource          #LedgerJournalTrans
          MenuItemType        #Action
          MenuItemName        #LedgerJourPostTrLJTransCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ledgerJournalEngine.clearVoucher();
            #
            #    try
            #    {
            #        super();
            #    }
            #    catch
            #    {
            #        // Swallow the exception because we want finally semantics
            #        curext(); // suppress compiler warning for empty compound statements
            #    }
            #
            #    // finally
            #    postingResults_Client = ledgerJournalEngine.getPostingResults_Client();
            #
            #    if (postingResults_Client.errorInJournal())
            #    {
            #        errorExist.visible(true);
            #    }
            #
            #    ledgerJournalEngine.newJournalActive(ledgerJournalTable, true);
            #    ledgerJournalEngine.refreshWhenPosted();
            #    journalFormTrans.enableButtonsActive();
            #    element.bookRefresh();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LedgerJournalPreview
          AutoDeclaration     #Yes
          ElementPosition     #2002453930
          HierarchyParent     #Print
          MenuItemType        #Output
          MenuItemName        #LedgerJournalPreview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LedgerJournalPrintOutInvoice_Cust
          AutoDeclaration     #Yes
          ElementPosition     #1288490184
          HierarchyParent     #Print
          MenuItemType        #Output
          MenuItemName        #LedgerJournalPrintOutInvoice_Cust
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LedgerJournalTransTxt
          AutoDeclaration     #Yes
          ElementPosition     #1366580502
          HierarchyParent     #buttonFunctions
          MenuItemName        #LedgerJourTrTxtLedgerJourTrCust
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #
            #    super();
            #    element.firstField();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LedgerJournalVoucherPreview
          AutoDeclaration     #Yes
          ElementPosition     #2072172584
          HierarchyParent     #Print
          MenuItemType        #Output
          MenuItemName        #LedgerJournalVoucherPreview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LedgerTransPerJournal
          ElementPosition     #1073741820
          HierarchyParent     #Print
          MenuItemType        #Output
          MenuItemName        #LedgerTransPerJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LvPaymentOrder
          ElementPosition     #286331152
          HierarchyParent     #Print
          MenuItemType        #Output
          MenuItemName        #LvPaymentOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MarkInvoiceLine
          AutoDeclaration     #Yes
          HelpText            #@SYS134239
          ElementPosition     #2013265905
          HierarchyParent     #ButtonGroup
          Text                #@SYS134078
          DataSource          #LedgerJournalTrans
          MenuItemName        #CustPaymEntryByLine
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args args;
            #    ;
            #
            #    args = new Args(formStr(LedgerJournalTransCustPaym));
            #    args.caller(element);
            #    args.parmObject(ledgerJournalEngine);
            #    args.record(ledgerJournalTrans);
            #
            #    new MenuFunction(menuitemDisplayStr(CustPaymEntryByLine), MenuItemType::Display).run(args);
            #
            #
            #
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Movements
          ElementPosition     #644245092
          HierarchyParent     #Print
          ShowShortCut        #No
          MenuItemType        #Output
          MenuItemName        #LedgerJournalAccountMovement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #OffsetAccountDimension
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #FinancialDimension
          MenuItemName        #LedgerJourTrOffDimLedgerrJourTrnCstPay
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    ledgerJournalEngine.openOffsetAccountFinancialDimensionForm(ledgerJournalTrans, offsetAccountDimension.menuItemType(), offsetAccountDimension.menuItemName());
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PaymentControl
          ElementPosition     #1533916890
          HierarchyParent     #Inquiries
          MenuItemName        #LedgerPaymCntrlLedgerJourTransCust
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PaymentFeeAccountDimension
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #FinancialDimension
          DataSource          #CustVendPaymJournalFee
          MenuItemName        #LedgerJourTrPayFeeDimLedgerJourTrnCstPay
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    ledgerJournalEngine.openPaymFeeAccountFinancialDimensionForm(custVendPaymJournalFee, paymentFeeAccountDimension.menuItemType(), paymentFeeAccountDimension.menuItemName());
            #
            #    custVendPaymJournalFee.write();
            #    custVendPaymJournalFee_ds.reread();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PaymentOrderCancel_LV
          ElementPosition     #357913940
          HierarchyParent     #Print
          MenuItemType        #Output
          MenuItemName        #PaymentOrderCancel_LV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PaymReconciliationConfirm
          AutoDeclaration     #Yes
          ElementPosition     #894784850
          HierarchyParent     #buttonPaymentReconciliation
          MenuItemType        #Action
          MenuItemName        #PaymReconConfirmCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  findRecord;
            #
            #    findRecord.data(ledgerJournalTrans);
            #    super();
            #    ledgerJournalTrans_ds.research();
            #    ledgerJournalTrans_ds.findRecord(findRecord);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PaymReconciliationNone
          AutoDeclaration     #Yes
          ElementPosition     #357913940
          HierarchyParent     #buttonPaymentReconciliation
          MenuItemType        #Action
          MenuItemName        #PaymReconNoneCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  findRecord;
            #
            #    if (!element.checkSEPAPaymentReject())
            #    {
            #        return;
            #    }
            #
            #    findRecord.data(ledgerJournalTrans);
            #    super();
            #    ledgerJournalTrans_ds.research();
            #    ledgerJournalTrans_ds.findRecord(findRecord);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PaymReconciliationRecieved
          AutoDeclaration     #Yes
          ElementPosition     #715827880
          HierarchyParent     #buttonPaymentReconciliation
          MenuItemType        #Action
          MenuItemName        #PaymReconReceivedCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  findRecord;
            #
            #    findRecord.data(ledgerJournalTrans);
            #    super();
            #    ledgerJournalTrans_ds.research();
            #    ledgerJournalTrans_ds.findRecord(findRecord);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PaymReconciliationReject
          ElementPosition     #1252698790
          HierarchyParent     #buttonPaymentReconciliation
          MenuItemType        #Action
          MenuItemName        #PaymReconRejectCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  findRecord;
            #
            #    if (!element.checkSEPAPaymentReject())
            #    {
            #        return;
            #    }
            #
            #    findRecord.data(ledgerJournalTrans);
            #    super();
            #    ledgerJournalTrans_ds.research();
            #    ledgerJournalTrans_ds.findRecord(findRecord);
            #
            #    // <GEERU>
            #    if (countryRegion_RU)
            #    {
            #        ledgerJournalEngine.refreshWhenPosted();
            #        journalFormTrans.enableButtonsActive();
            #        element.bookRefresh();
            #    }
            #
            #    if ((! countryRegion_RU)
            #        || (countryRegion_RU
            #        && ! ledgerJournalTrans.BankCurrencyTransferLog_RU
            #        && ! ledgerJournalTrans.existBankPaymentOrderJour_RU()))
            #    {
            #    // </GEERU>
            #        paymReconciliationNone.enabled(true);
            #        paymReconciliationConfirm.enabled(true);
            #        paymReconciliationRecieved.enabled(true);
            #        paymReconciliationSent.enabled(true);
            #    // <GEERU>
            #    }
            #    // </GEERU>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PaymReconciliationSent
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #buttonPaymentReconciliation
          MenuItemType        #Action
          MenuItemName        #PaymReconSentCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    LedgerJournalTrans  findRecord;
            #
            #    findRecord.data(ledgerJournalTrans);
            #    super();
            #    ledgerJournalTrans_ds.research();
            #    ledgerJournalTrans_ds.findRecord(findRecord);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsRebatePayment
          ElementPosition     #2130706430
          HierarchyParent     #Inquiries
          DataSource          #LedgerJournalTrans
          MenuItemName        #PdsRebatePayment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsRebateTableBtn
          AutoDeclaration     #Yes
          ElementPosition     #2113929214
          HierarchyParent     #Inquiries
          DataSource          #LedgerJournalTrans
          MenuItemName        #PdsRebateTableDetails
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PostJournal
          ElementPosition     #1073741822
          HierarchyParent     #buttonPostJournal
          DataSource          #LedgerJournalTrans
          MenuItemType        #Action
          MenuItemName        #LedgerJourPostLJTransCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ledgerJournalEngine.clearVoucher();
            #    // If the custPDCregister record is associated with ledgerJournalTrans,
            #    // it needs to be saved before posting
            #    if(postDatedCheckEnabled)
            #    {
            #        custPDCRegister_ds.write();
            #    }
            #
            #    try
            #    {
            #        super();
            #    }
            #    catch
            #    {
            #        // Swallow the exception because we want finally semantics
            #        curext(); // suppress compiler warning for empty compound statements
            #    }
            #
            #    // finally
            #    postingResults_Client = ledgerJournalEngine.getPostingResults_Client();
            #
            #    if (postingResults_Client.errorInJournal())
            #    {
            #        errorExist.visible(true);
            #    }
            #    else
            #    {
            #        CustVendPDCManager::postDatedCheckPost(journalNum);
            #    }
            #
            #    ledgerJournalEngine.refreshWhenPosted();
            #    journalFormTrans.enableButtonsActive();
            #    element.bookRefresh();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TAMDeductionCreate
          AutoDeclaration     #Yes
          ElementPosition     #2141192190
          HierarchyParent     #ButtonGroup
          MenuItemName        #TAMDeductionCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TaxRegisterBalance_IN
          CountryRegionCodes  #IN
          ElementPosition     #409044504
          HierarchyParent     #Inquiries
          MenuItemName        #TaxRegisterBalance_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TaxTransSource
          AutoDeclaration     #Yes
          ElementPosition     #939524089
          HierarchyParent     #ButtonGroup
          MenuItemName        #TaxTransSourceLedgerJournalTrnCustPaym
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    ;
            #    if (!ledgerJournalTable.Posted)
            #    {
            #        Tax::showTaxes(menuitemDisplayStr(TaxTmpWorkLedgerJournalTrnCustPaym), element.getShowTax(), ledgerJournalTrans, element);
            #    }
            #    else
            #    {
            #        super();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Amount_amountCur
          ElementPosition     #1610612733
          HierarchyParent     #Amount
          DataSource          #LedgerJournalTrans
          DataMethod          #amountCurPdc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #AmountCurCredit
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #Currency
          DataSource          #LedgerJournalTrans
          DataField           #AmountCurCredit
        ENDPROPERTIES
        
        METHODS
          SOURCE #gotFocus
            #void gotFocus()
            #{
            #
            #    super();
            #    element.setDebCredProposal(true);
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #AmountCurDebit
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #Currency
          DataSource          #LedgerJournalTrans
          DataField           #AmountCurDebit
        ENDPROPERTIES
        
        METHODS
          SOURCE #gotFocus
            #void gotFocus()
            #{
            #
            #    super();
            #    element.setDebCredProposal(true);
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #crossrate
          HelpText            #@SYS53165
          ElementPosition     #1610612733
          HierarchyParent     #Description
          Label               #@SYS53164
          DataSource          #LedgerJournalTrans
          DataMethod          #crossrate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #CustPaymJournalFee_FeeValue
          ElementPosition     #715827882
          HierarchyParent     #GridPaymFee
          DataSource          #CustVendPaymJournalFee
          DataField           #FeeValue
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #fieldExchRate
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS324259
          ElementPosition     #1521134247
          HierarchyParent     #Currency
          DataSource          #LedgerJournalTrans
          DataMethod          #editExchRate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #fieldExchRateSecond
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS324259
          ElementPosition     #1879048185
          HierarchyParent     #Currency
          DataSource          #LedgerJournalTrans
          DataMethod          #editExchRateSecond
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #JournalBalance
          Enabled             #No
          ElementPosition     #1073741822
          HierarchyParent     #TotalBalance
          Label               #@SYS24010
          DataSource          #LedgerJournalTrans
          DataMethod          #JournalBalance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #JournalCredit
          Enabled             #No
          ElementPosition     #1073741822
          HierarchyParent     #CreditBalance
          Label               #@SYS24010
          DataSource          #LedgerJournalTrans
          DataMethod          #JournalCredit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #JournalDebit
          Enabled             #No
          ElementPosition     #1073741822
          HierarchyParent     #DebitBalance
          Label               #@SYS24010
          DataSource          #LedgerJournalTrans
          DataMethod          #JournalDebit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_AmountCurCredit
          AutoDeclaration     #Yes
          ElementPosition     #1431655760
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          DataField           #AmountCurCredit
        ENDPROPERTIES
        
        METHODS
          SOURCE #gotFocus
            #void gotFocus()
            #{
            #
            #    super();
            #    element.setDebCredProposal(true);
            #
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    MCRCustPaymTable custPaymTable;
            #
            #    ret = super();
            #
            #    if (ret
            #        && mcrAllowPayment)
            #    {
            #        ttsbegin;
            #        custPaymTable = MCRCustPaymTable::findByRefRecIDRefTableID(ledgerJournalTrans.RecId,
            #                                                        ledgerJournalTrans.TableId, true);
            #        if (custPaymTable)
            #        {
            #            custPaymTable.Amount = abs(ledgerJournalTrans.amount());
            #            custPaymTable.update();
            #        }
            #        ttscommit;
            #    }
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_AmountCurDebit
          AutoDeclaration     #Yes
          ElementPosition     #1288490184
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          DataField           #AmountCurDebit
        ENDPROPERTIES
        
        METHODS
          SOURCE #gotFocus
            #void gotFocus()
            #{
            #
            #    super();
            #    element.setDebCredProposal(true);
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_AssessableValue_IN
          AutoDeclaration     #Yes
          ElementPosition     #1700091219
          HierarchyParent     #Currency
          DataSource          #LedgerJournalTrans
          DataField           #AssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_MaximumRetailPrice_IN
          AutoDeclaration     #Yes
          ElementPosition     #1789569704
          HierarchyParent     #Currency
          DataSource          #LedgerJournalTrans
          DataField           #MaximumRetailPrice_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Tax_TaxBase_W
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1789569704
          HierarchyParent     #Tax
          DataSource          #LedgerJournalTrans
          DataField           #TaxBase_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #VoucherCredit
          Enabled             #No
          ElementPosition     #1610612733
          HierarchyParent     #CreditBalance
          Label               #@SYS11131
          DataSource          #LedgerJournalTrans
          DataMethod          #VoucherCredit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #VoucherDebit
          Enabled             #No
          ElementPosition     #1610612733
          HierarchyParent     #DebitBalance
          Label               #@SYS11131
          DataSource          #LedgerJournalTrans
          DataMethod          #VoucherDebit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #VoucherTotal
          Enabled             #No
          ElementPosition     #1610612733
          HierarchyParent     #TotalBalance
          Label               #@SYS11131
          DataSource          #LedgerJournalTrans
          DataMethod          #VoucherTotal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEGMENTEDENTRY
        PROPERTIES
          Name                #CustPaymJournalFee_CustAccount
          AutoDeclaration     #Yes
          ElementPosition     #1908874352
          HierarchyParent     #GridPaymFee
          DataSource          #CustVendPaymJournalFee
          ReferenceField      #LedgerDimension
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    dimPaymentFeeAccountController.jumpRef();
            #}
          ENDSOURCE
          SOURCE #loadAutoCompleteData
            #public void loadAutoCompleteData(LoadAutoCompleteDataEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimPaymentFeeAccountController.loadAutoCompleteData(_e);
            #}
          ENDSOURCE
          SOURCE #loadSegments
            #public void loadSegments()
            #{
            #    super();
            #
            #    dimPaymentFeeAccountController.parmControl(this);
            #    dimPaymentFeeAccountController.parmJournalName(ledgerJournalTable.JournalName);
            #    dimPaymentFeeAccountController.parmCurrency(custVendPaymJournalFee.FeeCurrency);
            #    dimPaymentFeeAccountController.parmDate(ledgerJournalTrans.TransDate);
            #
            #    dimPaymentFeeAccountController.loadSegments();
            #    currentPaymentFeeMainAccountId = dimPaymentFeeAccountController.getValue(DimensionAttribute::getMainAccountDimensionAttribute());
            #}
          ENDSOURCE
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Ledger)
            #    {
            #        super();
            #    }
            #    else if (custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Cust)
            #    {
            #        CustTable::lookupCustomer(this);
            #    }
            #}
          ENDSOURCE
          SOURCE #segmentValueChanged
            #public void segmentValueChanged(SegmentValueChangedEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimPaymentFeeAccountController.segmentValueChanged(_e);
            #    currentPaymentFeeMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(dimPaymentFeeAccountController, currentPaymentFeeMainAccountId, ledgerJournalTrans);
            #}
            #
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean isValid;
            #
            #    isValid = super();
            #    isValid = dimPaymentFeeAccountController.validate() && isValid;
            #
            #    return isValid;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEGMENTEDENTRY
        PROPERTIES
          Name                #LedgerJournalTrans_AccountNum
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          ReferenceField      #LedgerDimension
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    dimAccountController.jumpRef();
            #}
            #
          ENDSOURCE
          SOURCE #loadAutoCompleteData
            #public void loadAutoCompleteData(LoadAutoCompleteDataEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimAccountController.loadAutoCompleteData(_e);
            #}
            #
          ENDSOURCE
          SOURCE #loadSegments
            #public void loadSegments()
            #{
            #    super();
            #
            #    dimAccountController.parmControl(this);
            #    dimAccountController.parmJournalName(ledgerJournalTable.JournalName);
            #    dimAccountController.parmCurrency(ledgerJournalTrans.CurrencyCode);
            #    dimAccountController.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());
            #    dimAccountController.parmDate(ledgerJournalTrans.TransDate);
            #    dimAccountController.parmTaxCode(ledgerJournalTrans.TaxCode);
            #
            #    dimAccountController.loadSegments();
            #
            #    currentMainAccountId = dimAccountController.getValue(DimensionAttribute::getMainAccountDimensionAttribute());
            #}
            #
          ENDSOURCE
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (!ledgerJournalEngine.accountNumLookup(ledgerJournalTrans_AccountNum, ledgerJournalTrans))
            #    {
            #        super();
            #    }
            #}
          ENDSOURCE
          SOURCE #segmentValueChanged
            #public void segmentValueChanged(SegmentValueChangedEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimAccountController.segmentValueChanged(_e);
            #    currentMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(dimAccountController, currentMainAccountId, ledgerJournalTrans);
            #}
            #
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean isValid;
            #
            #    isValid = super();
            #    isValid = dimAccountController.validate() && isValid;
            #
            #    return isValid;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEGMENTEDENTRY
        PROPERTIES
          Name                #LedgerJournalTrans_AccountNum1
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #Account
          DataSource          #LedgerJournalTrans
          ReferenceField      #LedgerDimension
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    dimAccountController.jumpRef();
            #}
            #
          ENDSOURCE
          SOURCE #loadAutoCompleteData
            #public void loadAutoCompleteData(LoadAutoCompleteDataEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimAccountController.loadAutoCompleteData(_e);
            #}
            #
          ENDSOURCE
          SOURCE #loadSegments
            #public void loadSegments()
            #{
            #    super();
            #
            #    dimAccountController.parmControl(this);
            #    dimAccountController.parmJournalName(ledgerJournalTable.JournalName);
            #    dimAccountController.parmCurrency(ledgerJournalTrans.CurrencyCode);
            #    dimAccountController.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());
            #    dimAccountController.parmDate(ledgerJournalTrans.TransDate);
            #    dimAccountController.parmTaxCode(ledgerJournalTrans.TaxCode);
            #
            #    dimAccountController.loadSegments();
            #
            #    currentMainAccountId = dimAccountController.getValue(DimensionAttribute::getMainAccountDimensionAttribute());
            #}
            #
          ENDSOURCE
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (!ledgerJournalEngine.accountNumLookup(ledgerJournalTrans_AccountNum1, ledgerJournalTrans))
            #    {
            #        super();
            #    }
            #}
          ENDSOURCE
          SOURCE #segmentValueChanged
            #public void segmentValueChanged(SegmentValueChangedEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimAccountController.segmentValueChanged(_e);
            #    currentMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(dimAccountController, currentMainAccountId, ledgerJournalTrans);
            #}
            #
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean isValid;
            #
            #    isValid = super();
            #    isValid = dimAccountController.validate() && isValid;
            #
            #    return isValid;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEGMENTEDENTRY
        PROPERTIES
          Name                #LedgerJournalTrans_OffsetAccount
          AutoDeclaration     #Yes
          ElementPosition     #1861152488
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          ReferenceField      #OffsetLedgerDimension
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    dimOffsetAccountController.jumpRef();
            #}
            #
          ENDSOURCE
          SOURCE #loadAutoCompleteData
            #public void loadAutoCompleteData(LoadAutoCompleteDataEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimOffsetAccountController.loadAutoCompleteData(_e);
            #}
            #
          ENDSOURCE
          SOURCE #loadSegments
            #public void loadSegments()
            #{
            #    super();
            #
            #    dimOffsetAccountController.parmControl(this);
            #    dimOffsetAccountController.parmJournalName(ledgerJournalTable.JournalName);
            #    dimOffsetAccountController.parmCurrency(ledgerJournalTrans.CurrencyCode);
            #    dimOffsetAccountController.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());
            #    dimOffsetAccountController.parmDate(ledgerJournalTrans.TransDate);
            #    dimOffsetAccountController.parmTaxCode(ledgerJournalTrans.TaxCode);
            #
            #    dimOffsetAccountController.loadSegments();
            #
            #    currentOffsetMainAccountId = dimOffsetAccountController.getValue(DimensionAttribute::getMainAccountDimensionAttribute());
            #
            #    // Lock the main account segment if "Fixed offset account" is selected in Journal Names
            #    if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)
            #    {
            #        dimOffsetAccountController.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);
            #    }
            #}
          ENDSOURCE
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (!ledgerJournalEngine.offsetAccountNumLookUp(ledgerJournalTrans_OffsetAccount, ledgerJournalTrans))
            #    {
            #        super();
            #    }
            #}
          ENDSOURCE
          SOURCE #segmentValueChanged
            #public void segmentValueChanged(SegmentValueChangedEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimOffsetAccountController.segmentValueChanged(_e);
            #    currentOffsetMainAccountId = ledgerJournalEngine.onOffsetAccountSegmentChanged(dimOffsetAccountController, currentOffsetMainAccountId, ledgerJournalTrans);
            #}
            #
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean isValid;
            #
            #    isValid = super();
            #    isValid = dimOffsetAccountController.validate() && isValid;
            #
            #    return isValid;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEGMENTEDENTRY
        PROPERTIES
          Name                #LedgerJournalTrans_OffsetAccount1
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #OffsetAccountInfo
          DataSource          #LedgerJournalTrans
          ReferenceField      #OffsetLedgerDimension
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    dimOffsetAccountController.jumpRef();
            #}
            #
          ENDSOURCE
          SOURCE #loadAutoCompleteData
            #public void loadAutoCompleteData(LoadAutoCompleteDataEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimOffsetAccountController.loadAutoCompleteData(_e);
            #}
            #
          ENDSOURCE
          SOURCE #loadSegments
            #public void loadSegments()
            #{
            #    super();
            #
            #    dimOffsetAccountController.parmControl(this);
            #    dimOffsetAccountController.parmJournalName(ledgerJournalTable.JournalName);
            #    dimOffsetAccountController.parmCurrency(ledgerJournalTrans.CurrencyCode);
            #    dimOffsetAccountController.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());
            #    dimOffsetAccountController.parmDate(ledgerJournalTrans.TransDate);
            #    dimOffsetAccountController.parmTaxCode(ledgerJournalTrans.TaxCode);
            #
            #    dimOffsetAccountController.loadSegments();
            #
            #    currentMainAccountId = dimOffsetAccountController.getValue(DimensionAttribute::getMainAccountDimensionAttribute());
            #
            #    // Lock the main account segment if "Fixed offset account" is selected in Journal Names
            #    if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)
            #    {
            #        dimOffsetAccountController.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);
            #    }
            #}
          ENDSOURCE
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (!ledgerJournalEngine.offsetAccountNumLookUp(ledgerJournalTrans_OffsetAccount1, ledgerJournalTrans))
            #    {
            #        super();
            #    }
            #}
          ENDSOURCE
          SOURCE #segmentValueChanged
            #public void segmentValueChanged(SegmentValueChangedEventArgs _e)
            #{
            #    super(_e);
            #
            #    dimOffsetAccountController.segmentValueChanged(_e);
            #    currentOffsetMainAccountId = ledgerJournalEngine.onOffsetAccountSegmentChanged(dimOffsetAccountController, currentOffsetMainAccountId, ledgerJournalTrans);
            #}
            #
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean isValid;
            #
            #    isValid = super();
            #    isValid = dimOffsetAccountController.validate() && isValid;
            #
            #    return isValid;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #CzSeparator_TaxDocument
          ElementPosition     #2146085544
          HierarchyParent     #buttonFunctions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator
          ElementPosition     #1073741823
          HierarchyParent     #buttonPaymentProposal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator1
          ElementPosition     #2144687443
          HierarchyParent     #buttonFunctions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator2
          ElementPosition     #585677358
          HierarchyParent     #buttonFunctions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator3
          ElementPosition     #1171354716
          HierarchyParent     #buttonFunctions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator4
          AllowEdit           #No
          CountryRegionCodes  #NO
          ElementPosition     #1431655760
          HierarchyParent     #buttonPaymentReconciliation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator4_RU
          CountryRegionCodes  #RU
          ConfigurationKey    #Bank
          ElementPosition     #2141891240
          HierarchyParent     #Print
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #SeparatorRebate
          ConfigurationKey    #PdsRebate
          ElementPosition     #2097151998
          HierarchyParent     #Inquiries
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #accountAgreementDocumentTitle_RU
          CountryRegionCodes  #RU
          ElementPosition     #2058005160
          HierarchyParent     #Account
          DataSource          #LedgerJournalTrans
          DataMethod          #accountAgreementDocumentTitle_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #AccountName
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #GrpNames
          DataSource          #LedgerJournalTrans
          DataMethod          #AccountName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Amount_currencyCode
          ElementPosition     #1073741822
          HierarchyParent     #Amount
          DataSource          #LedgerJournalTrans
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ApprovedBy1
          AllowEdit           #No
          HelpText            #@SYS25659
          ConfigurationKey    #LedgerBasic
          ElementPosition     #920350134
          HierarchyParent     #CurrentJournal
          DataSource          #LedgerJournalTrans
          DataMethod          #ApprovedBy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BankDepositNum
          ElementPosition     #1610612733
          HierarchyParent     #Depositslip
          DataSource          #LedgerJournalTrans
          DataField           #BankDepositNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BankLCNumber
          ConfigurationKey    #BankDocument
          ElementPosition     #1073741822
          HierarchyParent     #BankLCExportGroup
          DataSource          #LedgerJournalTrans
          DataMethod          #displayBankLCNumber
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    ledgerJournalTrans_ds.jumpRefBankLC();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BankTransType
          ElementPosition     #1073741822
          HierarchyParent     #GrpBank
          DataSource          #LedgerJournalTrans
          DataField           #BankTransType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CompanyAddress
          ElementPosition     #1193046468
          HierarchyParent     #CompanyInfo
          Label               #@SYS36203
          DataSource          #TaxInformation_IN
          DataMethod          #logisticsAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CurrencyCode
          ElementPosition     #1073741820
          HierarchyParent     #Currency
          DataSource          #LedgerJournalTrans
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustEPRemitInfo_BR_BankFolder
          ElementPosition     #1840700268
          HierarchyParent     #AddRemittanceInfo
          DataSource          #CustEPRemitInfo_BR
          DataField           #BankFolder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustEPRemitInfo_BR_DocumentType
          ElementPosition     #920350134
          HierarchyParent     #AddRemittanceInfo
          DataSource          #CustEPRemitInfo_BR
          DataField           #DocumentType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustEPRemitInfo_BR_Instruction_1
          ElementPosition     #1227133512
          HierarchyParent     #AddRemittanceInfo
          DataSource          #CustEPRemitInfo_BR
          DataField           #Instruction_1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustEPRemitInfo_BR_Instruction_2
          ElementPosition     #1533916890
          HierarchyParent     #AddRemittanceInfo
          DataSource          #CustEPRemitInfo_BR
          DataField           #Instruction_2
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Customs_IN_M_displayIECTaxRegistration_IN
          AllowEdit           #No
          HelpText            #@GLS5159
          ElementPosition     #858993458
          HierarchyParent     #Customs_IN
          Label               #@GLS5100
          DataSource          #TaxInformation_IN
          DataMethod          #logisticsAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Customs_IN_M_displayIECTaxRegistration_IN1
          AllowEdit           #No
          HelpText            #@GLS5159
          ElementPosition     #858993458
          HierarchyParent     #Customs_IN
          Label               #@GLS5100
          DataSource          #LedgerJournalTrans
          DataMethod          #displayAddress_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustPaymJournalFee_FeeCurrency
          ElementPosition     #954437176
          HierarchyParent     #GridPaymFee
          DataSource          #CustVendPaymJournalFee
          DataField           #FeeCurrency
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustPaymJournalFee_FeeId
          ElementPosition     #477218588
          HierarchyParent     #GridPaymFee
          DataSource          #CustVendPaymJournalFee
          DataField           #FeeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustPaymJournalFee_TaxGroup
          ElementPosition     #1193046470
          HierarchyParent     #GridPaymFee
          DataSource          #CustVendPaymJournalFee
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustPaymJournalFee_TaxItemGroup
          ElementPosition     #1431655764
          HierarchyParent     #GridPaymFee
          DataSource          #CustVendPaymJournalFee
          DataField           #TaxItemGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DocumentNum
          ElementPosition     #1073741822
          HierarchyParent     #GrpDocument
          DataSource          #LedgerJournalTrans
          DataField           #DocumentNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ErrorLog
          ElementPosition     #1840700268
          HierarchyParent     #CurrentJournal
          MultiLine           #Yes
          Label               #@SYS22915
          DataSource          #LedgerJournalTrans
          DataMethod          #ErrorLog
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #exchRateTxt
          ElementPosition     #1073741822
          HierarchyParent     #Description
          DisplayLength       #15
          DataSource          #LedgerJournalTrans
          DataMethod          #exchRateTxt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GroupDocument_RealVendName_TH
          HelpText            #@SYS4082725
          ElementPosition     #1610612734
          HierarchyParent     #GroupDocument_TH
          Label               #@SYS4082724
          DataSource          #LedgerJournalTransExtensionTH
          DataField           #RealVendName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GrpDocument_RealVendName_TH
          HelpText            #@SYS4082725
          ElementPosition     #1610612733
          HierarchyParent     #GrpDocument_TH
          Label               #@SYS4082724
          DataSource          #LedgerJournalTransExtensionTH
          DataField           #RealVendName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_AccountAgreementId_RU
          ElementPosition     #1968526675
          HierarchyParent     #Account
          DataSource          #LedgerJournalTrans
          DataField           #AccountAgreementId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_AgreementCompany_RU
          ElementPosition     #1879048190
          HierarchyParent     #Account
          DataSource          #LedgerJournalTrans
          DataField           #AgreementCompany_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_AssetBookId
          ElementPosition     #1610612734
          HierarchyParent     #AssetTab
          DataSource          #LedgerJournalTrans_Asset
          DataField           #BookId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_Company
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #Account
          DataSource          #LedgerJournalTrans
          DataField           #Company
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_CompanyAccount
          AutoDeclaration     #Yes
          HelpText            #@SYS114383
          ElementPosition     #715827880
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          DataField           #Company
          Mandatory           #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_CurrencyCode1
          ElementPosition     #1431655764
          HierarchyParent     #GrpCurrency1
          DataSource          #LedgerJournalTrans
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_EPCompanyDocument_BR
          AllowEdit           #No
          ElementPosition     #613566756
          HierarchyParent     #AddRemittanceInfo
          DataSource          #LedgerJournalTransPayment_BR
          DataField           #EPCompanyDocument_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_EPPaymentType_BR
          AllowEdit           #No
          ElementPosition     #894784850
          HierarchyParent     #GrpPayment
          DataSource          #LedgerJournalTransPayment_BR
          DataField           #EPPaymentType_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_EPPaymentWay_BR
          AllowEdit           #No
          ElementPosition     #984263335
          HierarchyParent     #GrpPayment
          DataSource          #LedgerJournalTransPayment_BR
          DataField           #EPPaymentWay_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_ForeignCompany
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #InterCompany
          DataSource          #LedgerJournalTrans
          DataField           #ForeignCompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_ForeignVoucher
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #InterCompany
          DataSource          #LedgerJournalTrans
          DataField           #ForeignVoucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_MarkedInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1002159032
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          DataField           #MarkedInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_OffsetAccountAgreementId_RU
          ElementPosition     #1968526675
          HierarchyParent     #OffsetAccountInfo
          DataSource          #LedgerJournalTrans
          DataField           #OffsetAccountAgreementId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_OffsetAgreementCompany_RU
          ElementPosition     #1879048190
          HierarchyParent     #OffsetAccountInfo
          DataSource          #LedgerJournalTrans
          DataField           #OffsetAgreementCompany_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_OffsetCompany
          ElementPosition     #715827882
          HierarchyParent     #OffsetAccountInfo
          DataSource          #LedgerJournalTrans
          DataField           #OffsetCompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_OffsetPostingProfile_RU
          ElementPosition     #1342177278
          HierarchyParent     #GrpPostingProfile
          DataSource          #LedgerJournalTrans
          DataField           #OffsetPostingProfile_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_OffsetTxt
          ElementPosition     #1789569705
          HierarchyParent     #OffsetAccountInfo
          DataSource          #LedgerJournalTrans
          DataField           #OffsetTxt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_PaymentNotes
          ElementPosition     #1610612730
          HierarchyParent     #GrpPayment
          MultiLine           #Yes
          DataSource          #LedgerJournalTrans
          DataField           #PaymentNotes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_PaymentReference
          ElementPosition     #1431655764
          HierarchyParent     #GrpPayment1
          DataSource          #LedgerJournalTrans
          DataField           #PaymReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_PaymId
          ElementPosition     #1342177275
          HierarchyParent     #GrpPayment
          DataSource          #LedgerJournalTrans
          DataField           #PaymId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_PaymMode
          ElementPosition     #536870910
          HierarchyParent     #GrpPayment
          DataSource          #LedgerJournalTrans
          DataField           #PaymMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_PaymMode1
          ElementPosition     #1073741822
          HierarchyParent     #Group
          DataSource          #LedgerJournalTrans
          DataField           #PaymMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_PaymPurpose_LT
          ElementPosition     #2004877307
          HierarchyParent     #GrpPayment
          DataSource          #LedgerJournalTrans
          DataField           #PaymPurpose_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_PaymSpec
          ElementPosition     #805306365
          HierarchyParent     #GrpPayment
          LookupButton        #Always
          DataSource          #LedgerJournalTrans
          DataField           #PaymSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_PaymSpec1
          ElementPosition     #1073741823
          HierarchyParent     #GrpPayment1
          LookupButton        #Always
          DataSource          #LedgerJournalTrans
          DataField           #PaymSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_PostingProfile
          ElementPosition     #1073741822
          HierarchyParent     #GrpPostingProfile
          DataSource          #LedgerJournalTrans
          DataField           #PostingProfile
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_ServiceCodeTable_IN_ServiceCode
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          ElementPosition     #1288490187
          HierarchyParent     #ServiceTax_IN
          DataSource          #LedgerJournalTrans
          DataMethod          #editServiceCode_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #// <GIN>
            #public void lookup()
            #{
            #    ledgerJournalTrans.lookupServiceCode_IN(this);
            #}
            #// </GIN>
          ENDSOURCE
          SOURCE #validate
            #// <GIN>
            #public boolean validate()
            #{
            #    boolean isValid = super();
            #
            #    if (isValid)
            #    {
            #        isValid = ledgerJournalTrans.checkServiceCode_IN(ledgerJournalTrans_ServiceCodeTable_IN_ServiceCode.text());
            #    }
            #
            #    return isValid;
            #}
            #// </GIN>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_Txt
          ElementPosition     #1145324608
          HierarchyParent     #overviewGrid
          DataSource          #LedgerJournalTrans
          DataField           #Txt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_Txt1
          ElementPosition     #1789569705
          HierarchyParent     #Account
          DataSource          #LedgerJournalTrans
          DataField           #Txt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_Voucher
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #GroupHeader
          DataSource          #LedgerJournalTrans
          DataField           #Voucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_Voucher_CN
          ElementPosition     #596523235
          HierarchyParent     #GroupHeader
          DataSource          #LedgerJournalTrans
          DataField           #Voucher_CN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_Voucher_CN1
          ElementPosition     #1342177278
          HierarchyParent     #Identification
          DataSource          #LedgerJournalTrans
          DataField           #Voucher_CN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTrans_Voucher1
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #Identification
          DataSource          #LedgerJournalTrans
          DataField           #Voucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LedgerJournalTransSymbol_SpecificSymbol
          ElementPosition     #1610612733
          HierarchyParent     #Symbol
          DataSource          #LedgerJournalTransSymbol
          DataField           #SpecificSymbol
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #offsetAccountAgreementDocumentTitle_RU
          CountryRegionCodes  #RU
          ElementPosition     #2058005160
          HierarchyParent     #OffsetAccountInfo
          DataSource          #LedgerJournalTrans
          DataMethod          #offsetAccountAgreementDocumentTitle_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OffsetAccountName
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #GrpNames
          DataSource          #LedgerJournalTrans
          DataMethod          #OffsetAccountName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PaymentReference
          ElementPosition     #1610612733
          HierarchyParent     #GrpBank
          DataSource          #LedgerJournalTrans
          DataField           #PaymReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PDCGroup_CheckNumber
          ElementPosition     #1342177275
          HierarchyParent     #PDCGroup
          DataSource          #CustPDCRegister
          DataField           #CheckNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #PDCGroup_ReasonForStop
          ElementPosition     #2117657483
          HierarchyParent     #PDCGroup
          DataSource          #CustPDCRegister
          DataField           #ReasonForStop
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Process_CreditCardId
          ElementPosition     #1073741822
          HierarchyParent     #GroupCC
          DataSource          #LedgerJournalTransCC
          DataField           #CreditCardId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #RejectedBy
          AllowEdit           #No
          HelpText            #@SYS25658
          ConfigurationKey    #LedgerBasic
          ElementPosition     #1227133512
          HierarchyParent     #CurrentJournal
          Label               #@SYS22205
          DataSource          #LedgerJournalTrans
          DataMethod          #RejectedBy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Replacement_Comments
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #Replacement
          DataSource          #CustPDCRegister
          DataField           #Comments
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Replacement_OriginalCheck
          AutoDeclaration     #Yes
          ElementPosition     #1879048190
          HierarchyParent     #Replacement
          DataSource          #CustPDCRegister
          DataField           #OriginalCheck
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ReportedAsReadyBy
          AllowEdit           #No
          HelpText            #@SYS25657
          ConfigurationKey    #LedgerBasic
          ElementPosition     #613566756
          HierarchyParent     #CurrentJournal
          Label               #@SYS22056
          DataSource          #LedgerJournalTrans
          DataMethod          #ReportedAsReadyBy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ServiceCodeTable_IN_ServiceAccountingCode
          ElementPosition     #1503238551
          HierarchyParent     #ServiceTax_IN
          DataSource          #ServiceCodeTable_IN
          DataField           #ServiceAccountingCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TaxCode
          Visible             #No
          ElementPosition     #715827882
          HierarchyParent     #Tax
          DataSource          #LedgerJournalTrans
          DataField           #TaxCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TaxGroup
          ElementPosition     #1073741823
          HierarchyParent     #Tax
          DataSource          #LedgerJournalTrans
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TaxItemGroup
          ElementPosition     #1431655764
          HierarchyParent     #Tax
          DataSource          #LedgerJournalTrans
          DataField           #TaxItemGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #WithholdingTax_IN_TaxWithholdGroup
          Visible             #No
          ElementPosition     #858993458
          HierarchyParent     #WithholdingTax_IN
          DataSource          #LedgerJournalTrans
          DataField           #TaxWithholdGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #WithHoldingTax_TaxWithholdGroup
          ElementPosition     #1431655764
          HierarchyParent     #WithHoldingTax
          DataSource          #LedgerJournalTrans
          DataField           #TaxWithholdGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #PostedDateTime
          AllowEdit           #No
          HelpText            #@SYS22450
          ElementPosition     #1533916890
          HierarchyParent     #CurrentJournal
          DataSource          #LedgerJournalTrans
          DataMethod          #PostedDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #ErrorExist
          AutoDeclaration     #Yes
          Visible             #No
          AllowEdit           #No
          Width               #14
          Height              #14
          Enabled             #No
          Skip                #Yes
          AlignControl        #No
          ElementPosition     #429496728
          HierarchyParent     #overviewGrid
          Imagemode           #Size to fit
          ShowLabel           #No
          DataSource          #LedgerJournalTrans
          DataMethod          #ErrorExist
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #ErrorPaym
          AutoDeclaration     #Yes
          AllowEdit           #No
          CountryRegionCodes  #NO
          Width               #14
          Height              #14
          Enabled             #No
          Skip                #Yes
          AlignControl        #No
          ElementPosition     #286331152
          HierarchyParent     #overviewGrid
          Imagemode           #Size to fit
          ShowLabel           #No
          DataSource          #LedgerJournalTrans
          DataMethod          #errorPaym
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #CustOpenInvoicesLookup
    PROPERTIES
      Form                #CustOpenInvoicesLookup
      AccessLevel         #Read
      SystemManaged       #No
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #BANKCHEQUEREUSE
      PROPERTIES
        Control             #BANKCHEQUEREUSE
        EffectiveAccess     #Update
      ENDPROPERTIES
      
    ENDCONTROL
    
ENDFORM

TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #BANKCHEQUEREUSE
      PROPERTIES
        Control             #BANKCHEQUEREUSE
        EffectiveAccess     #Create
      ENDPROPERTIES
      
    ENDCONTROL
    
ENDFORM

TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #BANKCHEQUEREUSE
      PROPERTIES
        Control             #BANKCHEQUEREUSE
        EffectiveAccess     #Delete
      ENDPROPERTIES
      
    ENDCONTROL
    
ENDFORM

TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: END
