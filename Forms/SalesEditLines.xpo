Exportfile for AOT version 1.0 or later
Formatversion: 1

***Element: FRM

; 
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #SalesEditLines
  PROPERTIES
    Name                #SalesEditLines
    FormTemplate        #DetailsPage
    InteractionClass    #SalesEditLinesInteraction
    Origin              #{8DC487AD-9B66-49A7-86B5-6AFA48E1EF48}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #class       FormRun
      #extends     ObjectRun
      #{
      #    #resAppl
      #
      #    #localMacro.maxControl 10 #endMacro
      #    #EECountryRegionCodes
      #    #ISOCountryRegionCodes
      #    #define.tabLines(3)
      #
      #    SalesFormLetter         salesFormLetter;
      #    SalesEditLinesForm      salesEditLinesForm;
      #    SalesTotals             salesTotals;
      #    SalesTable              salesTable;
      #
      #    Counter                 queryDatasourceGroups;
      #
      #    NoYes                   printCODLabelChoice;
      #    NoYes                   printShippingLabelChoice;
      #
      #    InventDimCtrl_Frm_Mov   inventDimFormSetup;
      #
      #    boolean                 shippingEnabled;
      #    boolean                 custAccountInQuery;
      #    boolean                 invoiceAccountInQuery;
      #    boolean                 reArrangeNow;
      #    boolean                 editLinesChanged;
      #
      #    SalesId                 initSumSalesId;
      #
      #    DocumentStatus          documentStatus;
      #
      #    boolean                 boxFormOnceIsActive;
      #
      #    BankLCExportLineNumController bankLCExportLineNumController;
      #
      #    HcmWorkerLookup     hcmWorkerLookup;
      #    TransportationPartyLookUp transportationPartyLookUp;
      #
      #    PdsFormCtrl_SalesEditLines  pdsFormCtrl;
      #    boolean                 isVersioningCorrectionOrCancel;
      #    boolean                 caller_SalesTable;
      #    SalesParameters         salesParameters;
      #    boolean                 taxIntegrationSystem_CN;
      #    AdvanceInvoiceSettlement_W advanceInvoiceSettlement;
      #    boolean                 countryRegion_LTLV;
      #    DueDate                 priorDueDate;
      #    boolean                 countryRegion_RU;
      #    LogisticsLocationRecId  postalAddressLocationLading;
      #
      #    RevisionNum_RU          lastRevisionNum;
      #    FactureDate_RU          lastRevisionDate;
      #    boolean                 isEasternEuropeAllandRU;
      #    boolean                 countryRegion_BR;
      #    boolean                 countryRegion_IN;
      #    QueryBuildRange         qbrInventSiteGateEntryLine;
      #
      #    boolean                 isWritingSalesParmLineInCloseOK;
      #    boolean                 isLoadPackingSlip;
      #    Map                     adjustedlineAmountCache;
      #}
    ENDSOURCE
    SOURCE #addQueryRange
      #void  addQueryRange(QueryBuildDataSource    queryBuildDataSource)
      #{
      #    FormGroupControl    formGroup;
      #    FormStringControl   formField;
      #
      #    int                 fieldCount      = 1;
      #    int                 currentRange    = 1;
      #    int                 rangeCount      = 0;
      #    QueryBuildRange     queryBuildRange;
      #
      #    SysDictTable        sysDictTable;
      #    SysDictField        sysDictField;
      #
      #    fieldCount      = 1;
      #    currentRange    = 1;
      #
      #    sysDictTable = new DictTable(queryBuildDataSource.table());
      #
      #    formGroup = tabPageLateSelection.addControl(FormControlType::Group, strFmt('group%1', sysDictTable.name()));
      #    formGroup.caption(sysDictTable.label());
      #    formGroup.columns(1);
      #    formGroup.visible(true);
      #
      #    rangeCount = queryBuildDataSource.rangeCount();
      #
      #    while (fieldCount <= #maxControl && currentRange <= rangeCount)
      #    {
      #        queryBuildRange = queryBuildDataSource.range(currentRange);
      #
      #        if (queryBuildRange.value())
      #        {
      #            sysDictField    = new SysDictField(queryBuildRange.table(), queryBuildRange.field());
      #            formField       = formGroup.addControl(FormControlType::String, strFmt('field%1', currentRange));
      #
      #            formField.extendedDataType(sysDictField.typeId());
      #            formField.label             (sysDictField.label());
      #            formField.text              (queryBuildRange.value());
      #            formField.visible           (true);
      #            formField.allowEdit         (false);
      #
      #            fieldCount ++;
      #        }
      #
      #        currentRange ++;
      #    }
      #
      #    pleaseMakeSelection.visible(false);
      #}
    ENDSOURCE
    SOURCE #allowEditIssueOwnEntryCertificate_W
      #/// <summary>
      #///    This method allows or restricts editing of the <c>Issue own certificate</c> field depending on the value
      #///    and visibility of the <c>Entry certificate required</c> field.
      #/// </summary>
      #void allowEditIssueOwnEntryCertificate_W()
      #{
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, IssueOwnEntryCertificate_W)).allowEdit
      #        (   (salesParmTable_ds.object(fieldNum(SalesParmTable, EntryCertificateRequired_W)).visible() && salesParmTable.EntryCertificateRequired_W)
      #         || ! salesParmTable_ds.object(fieldNum(SalesParmTable, EntryCertificateRequired_W)).visible());
      #}
    ENDSOURCE
    SOURCE #allowEditPackingSlips_W
      #/// <summary>
      #/// This method is used to change the editability of salesParmTable_PackingSlipIdForUpdate_W control.
      #/// </summary>
      #void allowEditPackingSlips_W()
      #{
      #    salesParmTable_PackingSlipIdForUpdate_W.allowEdit(specQty.selection() == SalesUpdate::PackingSlip);
      #    if (documentStatus == DocumentStatus::PackingSlip)
      #    {
      #        salesParmTable_PackingSlipIdForUpdate_W.allowEdit(salesParmTable.DocRegister_LT);
      #    }
      #}
    ENDSOURCE
    SOURCE #batch
      #void batch(boolean batchable)
      #{
      #    buttonBatch.visible(batchable);
      #}
      #
    ENDSOURCE
    SOURCE #canClose
      #boolean  canClose()
      #{
      #    SalesLine   salesLine;
      #    boolean ret = super();
      #
      #    if (ret)
      #    {
      #        if(boxFormOnceIsActive)
      #        {
      #            return false;
      #        }
      #        if (!this.closedOk())
      #        {
      #            if (editLinesChanged)
      #            {
      #                if (Box::yesNo("@SYS26912",DialogButton::Yes)!=DialogButton::Yes)
      #                {
      #                    return false;
      #                }
      #            }
      #        }
      #        else
      #        {
      #            if (countryRegion_LTLV && docNumberingCode_LT.isVisible())
      #            {
      #                if (!docNumberingCode_LT.text())
      #                {
      #                    return checkFailed(strFmt("@SYS26332", fieldPName(LtInvoiceAutoNumberingTable, NumberingCode)));
      #                }
      #                else if (!salesParmUpdate.Storno)
      #                {
      #                    // Check to see if any line is a credit note
      #                    select firstonly RecId from salesLine
      #                        where salesLine.SalesId == salesParmTable.SalesId &&
      #                                salesLine.RefReturnInvoiceTrans_W;
      #
      #                    if (salesLine.RecId && (Box::okCancel("@GLS222370", DialogButton::Cancel) == DialogButton::Cancel))
      #                    {
      #                        return false;
      #                    }
      #                }
      #            }
      #
      #            // <GBR>
      #            if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoBR]))
      #            {
      #                salesParmUpdate_ds.research();
      #            }
      #            // </GBR>
      #
      #            if (!salesFormLetter.checkCloseDialog())
      #            {
      #                salesParmUpdate_ds.executeQuery();
      #                return false;
      #            }
      #        }
      #    }
      #
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #checkGiroSettings
      #void checkGiroSettings()
      #{
      #}
    ENDSOURCE
    SOURCE #checkParmTable
      #void  checkParmTable()
      #{
      #    if (shippingEnabled)
      #    {
      #        buttonSalesShippingLine.enabled(salesParmTable.RecId ? true : false);
      #    }
      #    if (countryRegion_RU)
      #    {
      #        element.inventOwnerIdCheckFailed_RU();
      #    }
      #}
    ENDSOURCE
    SOURCE #chooseTable
      #void  chooseTable(boolean _checkForReArrange = false)
      #{
      #    editLinesChanged = true;
      #
      #    salesParmTable_ds.executeQuery();
      #    element.checkParmTable();
      #    if (_checkForReArrange &&
      #        salesparmUpdate.SumBy != AccountOrder::None &&
      #        salesParmTable.RecId)
      #        element.reArrangeNow();
      #}
    ENDSOURCE
    SOURCE #chooseTrans
      #void  chooseTrans()
      #{
      #    salesParmLine_ds.executeQuery();
      #}
    ENDSOURCE
    SOURCE #closeOk
      #void  closeOk()
      #{
      #
      #    if (salesParmUpdate)
      #        salesParmUpdate_ds.write();
      #
      #    if (salesParmTable.RecId)
      #        salesParmTable_ds.write();
      #
      #    if (salesParmSubTable)
      #        salesParmSubTable_ds.write();
      #
      #    if (salesParmLine)
      #    {
      #        isWritingSalesParmLineInCloseOK = true;
      #        salesParmLine_ds.write();
      #        isWritingSalesParmLineInCloseOK = false;
      #    }
      #
      #    if (salesEditLinesForm.giro())
      #        element.checkGiroSettings();
      #
      #    salesFormLetter.initParameters(salesParmUpdate.data(),
      #                                   print_Combo.selection(),
      #                                   printFormletter.value(),
      #                                   printCODLabelChoice,
      #                                   printShippingLabelChoice,
      #                                   usePrintManagement.value(),
      #                                   true
      #                                   , #PdsMRCEnabled ? pdsMRCPostingError.value()
      #                                        : NoYes::No,
      #                                   #PdsMRCEnabled ? pdsMRCPrintOnPack.value()
      #                                        : NoYes::No
      #                                   , fiscalDocType_PL.selection()
      #                                   // <GIN>
      #                                   ,printexciseformletter.value()
      #                                   // </GIN>
      #                                   );
      #    if (TaxThaiGovCertificationFeatureChecker::isUnrealizedVATEnabled())
      #    {
      #        if (printDocuSet.value())
      #        {
      #            salesFormLetter.parmDocuSetCode(documentSet.valueStr());
      #        }
      #        else
      #        {
      #            salesFormLetter.parmDocuSetCode('');
      #        }
      #    }
      #
      #    if (EInvoiceParameters_MX::isElectronicInvoiceEnabled())
      #    {
      #        salesFormLetter.parmSendByMail_MX(sendByMail_MX.value());
      #    }
      #
      #    salesFormLetter.printEntryCertificate_W(printEntryCertificate_W.value());
      #
      #    salesFormLetter.editLinesChanged(editLinesChanged);
      #    salesFormLetter.reArrangeNow(reArrangeNow);
      #
      #    if (countryRegion_RU)
      #    {
      #
      #        salesFormLetter.printFacture_RU(printFacture_RU.value());
      #        salesFormLetter.parmCustInvoicePrintoutType_RU(custInvoicePrintoutType_RU.selection());
      #        salesFormLetter.printAcceptanceReport_RU(printAcceptanceReport_RU.value());
      #        salesFormLetter.printInventBaileeReport_RU(printInventBaileeReport_RU.value());
      #        salesFormLetter.printBillOfLading_RU(printBillOfLading_RU.value());
      #        salesFormLetter.printTransportInvoice_RU(printTransportInvoice_RU.value());
      #    }
      #
      #    salesFormLetter.parmAdvanceInvoiceSettlement_W(advanceInvoiceSettlement);
      #    if (countryRegion_LTLV)
      #    {
      #        salesFormLetter.getSalesFormLetterContract().parmLtDocNumberingCode(docNumberingCode_LT.text());
      #    }
      #    // <GIN>
      #    if(TaxParameters::isExciseEnable_IN())
      #    {
      #        salesFormLetter.printExciseFormLetter_IN(printExciseFormLetter.value());
      #    }
      #    // </GIN>
      #    super();
      #}
    ENDSOURCE
    SOURCE #configBankLCControls
      #/// <summary>
      #/// Configs the Letter of Credit related controls.
      #/// </summary>
      #public void configBankLCControls()
      #{
      #    boolean     isAllowEdit;
      #    boolean     isVisilbe;
      #
      #    isVisilbe   = salesEditLinesForm.bankLCExportLine();
      #
      #    if (isVisilbe)
      #    {
      #        isAllowEdit = salesEditLinesForm.editBankLCExportLine();
      #    }
      #
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, BankLCExportLine)).visible(isVisilbe);
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, BankLCExportLine)).allowEdit(isAllowEdit);
      #
      #    if (isAllowEdit)
      #    {
      #        salesEditLinesForm.setupBankLCExportLineController();
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #designShippingBillForm_IN
      #public void designShippingBillForm_IN()
      #{
      #    salesParmTable_Ordering.helpText("@GLS5716");
      #    salesParmTable_SalesId.helpText("@GLS5708");
      #    salesParmTable_SalesName.helpText("@GLS5719");
      #    salesParmTable_Transdate.helpText("@GLS5709");
      #    // Lines tab help
      #    salesParmLine_OrigSalesId.helpText("@GLS5706");
      #    salesParmLine_ItemId.helpText("@SYS27686");
      #    salesParmLine_DeliverNow.helpText("@GLS5768");
      #    salesParmLine_LineAmount.helpText("@GLS5662");
      #    salesParmLine_AssessableValue_IN.helpText("@GLS5663");
      #    //Details button on Lines tab of SalesEditLines is visible/enabled for ShippingBill only
      #    customsShippingBillDetails_IN.visible(true);
      #    customsShippingBillDetails_IN.enabled(true);
      #    //Hides the upper 3 tabs
      #    tabPageOther.visible(false);
      #    tabPageLateSelection.visible(false);
      #    //Hides the lower 2 tabs
      #    tablineDetails.visible(false);
      #    tabSalesParmSubTable.visible(false);
      #    //As part of 5.o upgradeHides 5.o new Tab
      #    tabSalesParmSubLine.visible(false);
      #    //As part of 5.o upgrade
      #
      #    //Hides the print group tabs
      #    printGroup.visible(false);
      #    //Hides fields under parametrs group
      #    specQty.visible(false);
      #    updateNow.visible(false);
      #    lateSelection.visible(false);
      #    //Makes the customs specific fields on SalesParmUpdate (Parameters tab) visible. They are by default invisible
      #    salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, CustomsShippingBill_IN)).visible(true);
      #    salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, CustomsShippingBillNumberTable_IN)).visible(true);
      #    //Makes the customs specific fields on SalesParmLine (Lines tab) visible. They are by default invisible
      #    //Hides & renames buttons
      #    buttonReArrange.visible(false);
      #    printerSettings.visible(false);
      #    //As part of 5.o upgrade
      #    buttonSelectJournal.visible(false);
      #    //As part of 5.o upgrade
      #    taxTransSource.text("@SYS28668");
      #    //Makes the customs specific buttons added visible. They are by default invisible
      #    customsShippingBillNumber_IN.visible(true);
      #    customsExportAssessableValue_IN.visible(true);
      #    //Hides lower Overview tab contents
      #    salesParmTable_CurrencyCode.visible(false);
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, CustomsExportInvoiceId_IN)).visible(true);
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, CustomsShippingBillNumberTable_IN)).visible(true);
      #    //Hides lower Lines tab contents
      #    salesParmTable_DocumentDate.visible(false);
      #    bankManagement.visible(false);
      #    salesParmLine_closed.visible(false);
      #    salesParmLine_Scrap.visible(false);
      #    qtyToPickInSalesUnit.visible(false);
      #    buttonGroupSetup.visible(false);
      #    //As part of 5.o upgrade
      #    salesParmLine_packingSlipId.visible(false);
      #    salesParmLine_DeliveryDate.visible(false);
      #    salesParmTable_InventSiteId.visible(false);
      #    salesParmTable_PackingSlipId.visible(false);
      #    salesParmTable_ReturnPackingSlipId.visible(false);
      #    //As part of 5.o upgrade
      #
      #    //Hide the inventory button in the lower tab - Lines
      #    buttonLineInventory.visible(false);
      #    //Hides the lower tab "Sales orders"
      #    tabSalesParmSubTable.visible(false);
      #
      #    element.enableEximFieldsActive_IN();
      #}
    ENDSOURCE
    SOURCE #doRefresh
      #/// <summary>
      #/// Refresh SalesParmLine recordset
      #/// </summary>
      #/// <remarks>
      #/// Refresh SalesParmLine record to ensure that any changes made in other
      #/// processes are reflected.
      #/// </remarks>
      #void doRefresh()
      #{
      #    SalesParmLine           pmfSalesParmLine;
      #
      #    pmfSalesParmLine = salesParmLine.data();
      #    salesParmLine_ds.research();
      #    salesParmLine_ds.findRecord(pmfSalesParmLine);
      #
      #}
    ENDSOURCE
    SOURCE #enabledDisabledPrintEntryCertificate_W
      #/// <summary>
      #///    This method controls the acessibility and values of the <c>PrintEntryCertificate_W</c> checkbox.
      #/// </summary>
      #public void enabledDisabledPrintEntryCertificate_W()
      #{
      #    SalesParmTable      salesParmTableLocal;
      #
      #    if (printEntryCertificate_W.visible())
      #    {
      #        select firstonly RecId from salesParmTableLocal
      #            where salesParmTableLocal.ParmId == salesParmUpdate.ParmId
      #               && salesParmTableLocal.IssueOwnEntryCertificate_W;
      #
      #        printEntryCertificate_W.allowEdit(updateNow.value() && salesParmTableLocal.RecId);
      #        printEntryCertificate_W.skip(! printEntryCertificate_W.allowEdit());
      #
      #        if (! updateNow.value() || ! salesParmTableLocal.RecId || ! printEntryCertificate_W.allowEdit())
      #        {
      #            printEntryCertificate_W.value(NoYes::No);
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #enableEximFieldsActive_IN
      #public void enableEximFieldsActive_IN()
      #{
      #    EximParameters_IN eximParameters;
      #    boolean           isDEPBAllowedEdit;
      #    boolean           isDBKAllowedEdit;
      #
      #    eximParameters    = EximParameters_IN::find();
      #    isDEPBAllowedEdit = eximParameters.ActivateDEPB && eximSalesParmLine_IN.ApplyDEPB;
      #    isDBKAllowedEdit  = eximParameters.ActivateDutyDrawback && eximSalesParmLine_IN && eximSalesParmLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None;
      #
      #    if (TaxParameters::find().EximIncentiveSchemes_IN
      #        && documentStatus == DocumentStatus::ShippingBill_IN)
      #    {
      #        tabLineIncentiveScheme.visible(true);
      #        salesParmTable_EximExportDateTime_IN.visible(true);
      #        depb.visible(eximParameters.ActivateDEPB);
      #        depb_MarketValue.allowEdit(isDEPBAllowedEdit);
      #        depb_MarketValuePct.allowEdit(isDEPBAllowedEdit);
      #        depb_AllowedMarketValue.allowEdit(isDEPBAllowedEdit);
      #        dutyDrawback.visible(eximParameters.ActivateDutyDrawback);
      #        dbkCustoms_CustomsTariffCodeTable.allowEdit(isDBKAllowedEdit);
      #        dutyDrawback_DBKRateType.allowEdit(isDBKAllowedEdit);
      #        dutyDrawback_DBKPercent.allowEdit(isDBKAllowedEdit);
      #    }
      #}
    ENDSOURCE
    SOURCE #enableFiscalDocument_BR
      #public void enableFiscalDocument_BR()
      #{
      #    boolean isNFE = FiscalDocModel_BR::find(salesParmTable.FiscalDocumentModel_BR).IsForNFeFederal;
      #
      #    salesParmTable_DS.object(fieldNum(SalesParmTable, FiscalDocumentAccessKey_BR)).enabled(isNFE);
      #    salesParmTable_DS.object(fieldNum(SalesParmTable, FiscalDocumentSeries_BR)).enabled(!isNFE);
      #    salesParmTable_DS.object(fieldNum(SalesParmTable, FiscalDocumentNumber_BR)).enabled(!isNFE);
      #
      #}
    ENDSOURCE
    SOURCE #formRun
      #public FormRun formRun()
      #{//Requiered by the SysOperation framework.
      #    return this;
      #}
    ENDSOURCE
    SOURCE #init
      #void  init()
      #{
      #    ParmId  parmId;
      #    boolean isTaxesMarked  = TaxParameters::checkTaxParameters_IN();
      #    boolean isCustomMarked = TaxParameters::find().Customs_IN;
      #
      #    adjustedlineAmountCache = new Map(typeName2Type(extendedTypeStr(SalesParmLineRefRecId)), Types::Real);
      #
      #    countryRegion_RU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]);
      #    isEasternEuropeAllandRU = SysCountryRegionCode::isLegalEntityInCountryRegion(#easternEuropeAllandRU);
      #    countryRegion_IN = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
      #    if (#PdsEnabled)
      #    {
      #        pdsFormCtrl = PdsFormCtrl_SalesEditLines::newFromForm(this);
      #        pdsFormCtrl.initPre();
      #    }
      #
      #    super();
      #
      #    hcmWorkerLookup = HcmWorkerLookup::newActiveWorkers();
      #    transportationPartyLookUp = TransportationPartyLookUp::construct();
      #
      #    if (! element.args().caller())
      #        throw error("@SYS22539");
      #
      #    taxIntegrationSystem_CN = CustParameters::isTaxIntegrationSystem_CN();
      #
      #    salesFormLetter         = element.args().caller();
      #    documentStatus          = salesFormLetter.documentStatus();
      #    parmId                  = salesFormLetter.parmId();
      #
      #    salesEditLinesForm      = SalesEditLinesForm::construct(documentStatus, salesFormLetter.createFromLines(), salesFormLetter.parmVersioningUpdateType());
      #    salesEditLinesForm.parmIsCorrectionOrCancel(salesFormLetter.isVersioningCorrectionOrCancel());
      #
      #    if (countryRegion_IN)
      #    {
      #        salesParmLine_AssessableValue_IN.visible(isTaxesMarked);
      #        price_IN.visible(isTaxesMarked);
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, CustomsExportOrderType_IN)).visible(isCustomMarked);
      #
      #        if (isCustomMarked && documentStatus == DocumentStatus::ShippingBill_IN)
      #        {
      #            element.designShippingBillForm_IN();
      #            salesParmTable_ds.refresh();
      #        }
      #        if(documentStatus == DocumentStatus::Invoice && !salesFormLetter.proforma())
      #        {
      #            ButtonPrintExcise_IN.visible(true);
      #        }
      #    }
      #    if(InventParameters::isEnableGateManagement_IN() && documentStatus == DocumentStatus::PackingSlip)
      #    {
      #        GateEntryDetails_IN.visible(true);
      #        InventSiteGateEntryLine.visible(true);
      #    }
      #    if (salesEditLinesForm.giro())
      #    {
      #        giro.visible(true);
      #    }
      #    else
      #    {
      #        giro.visible(false);
      #    }
      #
      #    salesParmUpdate_ReduceOnHand.visible(salesEditLinesForm.reduceOnHand());
      #
      #    tabPageBillOfLading.visible(salesEditLinesForm.billOfLading());
      #    if (countryRegion_RU)
      #    {
      #        tabBillOfLading_RU.visible(/*documentStatus != DocumentStatus::PackingSlip && */salesEditLinesForm.billOfLading());
      #        printBillOfLading_RU.visible(tabBillOfLading_RU.visible());
      #        printTransportInvoice_RU.visible(printBillOfLading_RU.visible());
      #    }
      #
      #    salesParameters = SalesParameters::find();
      #    tabPageTransportationDocument.visible(salesParameters.TransportationDocumentOnPackingSlip);
      #    isLoadPackingSlip = documentStatus == DocumentStatus::PackingSlip && (salesFormLetter.parmWHSLoadId() !='') ;
      #
      #    salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, SumSalesId)).visible(false);
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, SalesId)).mandatory(true);
      #    salesParmLine_ds.object(fieldNum(SalesParmLine, OrigSalesId)).mandatory(true);
      #    salesParmSubTable_ds.object(fieldNum(SalesParmSubTable, OrigSalesId)).mandatory(true);
      #    salesParmUpdate_ds.query().dataSourceTable(tableNum(SalesParmUpdate)).addRange(fieldNum(SalesParmUpdate, ParmId)).value(queryValue(parmId));
      #    salesParmTable_ds.query().dataSourceTable(tableNum(SalesParmTable)).addRange(fieldNum(SalesParmTable, ParmId)).value(queryValue(parmId));
      #
      #    salesEditLinesForm.setSalesParmUpdate(salesParmUpdate);
      #
      #    if (salesFormLetter.lockSalesUpdateField())
      #    {
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate,SpecQty)).enabled(false);
      #    }
      #    else
      #    {
      #        specQty.items(salesEditLinesForm.specQtyItems());
      #    }
      #
      #    if (EInvoiceParameters_MX::isElectronicInvoiceEnabled())
      #    {
      #        eInvoice_MX.visible(salesEditLinesForm.sendByMail_MX());
      #    }
      #
      #    if (pdsFormCtrl)
      #    {
      #        pdsFormCtrl.parmFormLetter(salesFormLetter);
      #        pdsFormCtrl.parmSalesEditLinesForm(salesEditLinesForm);
      #        pdsFormCtrl.setDatasources(
      #                        salesParmLine,
      #                        salesParmUpdate,
      #                        salesParmTable,
      #                        null,
      #                        null);
      #        pdsFormCtrl.initPost();
      #    }
      #
      #    this.batch(salesFormLetter.canGoBatch());
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCN]))
      #    {
      #        vatInfoCN.visible(taxIntegrationSystem_CN);
      #    }
      #
      #    if (BankLCExportFeatureChecker::checkBankLCExportEnabled())
      #    {
      #        bankLCExportLineNumController =  BankLCExportLineNumController::construct();
      #        salesEditLinesForm.parmBankLCExportLineNumController(bankLCExportLineNumController);
      #    }
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, BankLCExportLine)).visible(salesEditLinesForm.bankLCExportLine());
      #
      #    element.updateDesign(InventDimFormDesignUpdate::Init);
      #
      #    advanceInvoiceSettlement = salesFormLetter.parmAdvanceInvoiceSettlement_W();
      #    countryRegion_LTLV = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLT, #isoLV]);
      #
      #    if (countryRegion_LTLV)
      #    {
      #        docNumberingCode_LT.text(salesFormLetter.getSalesFormLetterContract().parmLtDocNumberingCode());
      #    }
      #
      #    if (TaxThaiGovCertificationFeatureChecker::isUnrealizedVATEnabled())
      #    {
      #        this.updateDesignForUnrealizedVAT();
      #    }
      #    countryRegion_BR = BrazilParameters::isEnabled();
      #    if (countryRegion_BR)
      #    {
      #        element.setControlsVisibility_BR();
      #    }
      #
      #    if (RetailSMB::IsRetailSMBEnabled())
      #    {
      #        RetailSMB::SetVisible(element);
      #    }
      #}
    ENDSOURCE
    SOURCE #initDesign_BR
      #private void initDesign_BR()
      #{
      #    fiscalReference_BR.visible(salesEditLinesForm.showFiscalReference_BR());
      #
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, FiscalDocumentType_BR)).visible(salesEditLinesForm.showFiscalDocumentType_BR());
      #}
    ENDSOURCE
    SOURCE #initDesign_CZ
      #private void initDesign_CZ()
      #{
      #    groupPostponeVAT.visible(salesEditLinesForm.showPostponeVAT());
      #}
    ENDSOURCE
    SOURCE #initDesign_LT
      #/// <summary>
      #/// This method is used to change the visibility/editability of LT,LV specific fields
      #/// </summary>
      #void initDesign_LT()
      #{
      #    docNumberingCode_LT.visible(salesEditLinesForm.showDocNumberingCode_LT(salesFormLetter.parmId()));
      #
      #    this.allowEditPackingSlips_W();
      #
      #    salesParmTable_DS.object(fieldNum(SalesParmTable, PrintBlankDate_LT)).visible(salesEditLinesForm.showPrintBlankDate_LT());
      #}
    ENDSOURCE
    SOURCE #initDesign_PL
      #void initDesign_PL()
      #{
      #    boolean showVatDate = salesEditLinesForm.showVatDueDate_W();
      #
      #    fiscalDocType_PL.visible(salesEditLinesForm.showFiscalDocType_PL());
      #    salesParmTable_TaxPeriodPaymentCode_PL.visible(showVatDate);
      #    salesParmTable_SalesInvSaleDate_PL.visible(showVatDate);
      #
      #    plInventPackageParmTable.visible(documentStatus == DocumentStatus::Invoice    ||
      #                                     documentStatus == DocumentStatus::Facture_RU ||
      #                                     documentStatus == DocumentStatus::PackingSlip);
      #    plInventPackageParmLine.visible (documentStatus == DocumentStatus::Invoice    ||
      #                                     documentStatus == DocumentStatus::Facture_RU ||
      #                                     documentStatus == DocumentStatus::PackingSlip);
      #
      #    inventLocationId_PL.visible(salesEditLinesForm.showInventLocationId_PL());
      #    if (inventLocationId_PL.isVisible())
      #    {
      #        inventLocationId_PL.modified();
      #    }
      #}
    ENDSOURCE
    SOURCE #initDesign_RU
      ##define.checkboxesCols(2)
      #private void initDesign_RU()
      #{
      #
      #    headingActionPane_RU.visible(countryRegion_RU);
      #    headingActionPane.visible( !countryRegion_RU);
      #    if (! countryRegion_RU)
      #        return;
      #
      #    extra_RU.visible(salesEditLinesForm.showExtra_RU());
      #
      #    salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, PrintInMST_RU)).visible(salesEditLinesForm.showPrintMST_RU());
      #
      #    printFacture_RU.visible(salesEditLinesForm.showPrintFacture_RU());
      #    printFacture_RU.value(salesFormLetter.printFacture_RU() && (! salesParmTable.Correct_RU || updateNow.value()));
      #    printFacture_RU.enabled(! salesParmTable.Correct_RU || updateNow.value());
      #
      #
      #    custInvoicePrintoutType_RU.visible(salesEditLinesForm.showInvoicePrintout_RU());
      #    custInvoicePrintoutType_RU.selection(salesFormLetter.parmCustInvoicePrintoutType_RU());
      #
      #    element.setOfficialsLocationVisible_RU();
      #
      #    printAcceptanceReport_RU.visible(salesEditLinesForm.showPrintAcceptanceReport_RU());
      #
      #    printAcceptanceReport_RU.value(salesFormLetter.printAcceptanceReport_RU());
      #    printBillOfLading_RU.value(salesFormLetter.printBillOfLading_RU());
      #    printTransportInvoice_RU.value(salesFormLetter.printTransportInvoice_RU());
      #
      #    printInventBaileeReport_RU.visible(salesEditLinesForm.showPrintInventBaileeReport_RU());
      #    printInventBaileeReport_RU.value(salesFormLetter.printInventBaileeReport_RU());
      #
      #    salesParmTable_DS.object(fieldNum(SalesParmTable, bolCarrierCode_RU)).allowEdit(salesParmTable.bolCarrierType_RU != CarrierType_W::InvoiceAccount);
      #
      #    vatOnPayment_RU.visible(salesEditLinesForm.showVATOnPayment_RU());
      #    correctedLine_RU.visible(salesParmTable.Correct_RU);
      #
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, Correct_RU)).visible(salesEditLinesForm.showCorrect_RU());
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedInvoiceId_RU)).visible(salesEditLinesForm.showCorrectedInvoiceId_RU());
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedInvoiceDate_RU)).visible(salesEditLinesForm.showCorrectedInvoiceId_RU());
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectionType_RU)).visible(salesEditLinesForm.showCorrectedInvoiceId_RU());
      #
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedFactureExternalId_RU)).visible(salesEditLinesForm.showCorrectedFactureExternalId_RU());
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedFactureDate_RU)).visible(salesEditLinesForm.showCorrectedFactureExternalId_RU());
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedPeriod_RU)).visible(false);
      #    lastRevisionNum_RU.visible(salesEditLinesForm.showCorrectedFactureExternalId_RU());
      #    lastRevisionDate_RU.visible(salesEditLinesForm.showCorrectedFactureExternalId_RU());
      #
      #    salesParmTable_PostingProfile_RU.visible(salesFormLetter.splitPostingProfile_RU());
      #    salesParmTable_InventProfileType_RU.visible(salesFormLetter.splitInventProfileType_RU());
      #    salesParmTable_InventOwnerId_RU.visible(salesFormLetter.splitInventOwnerId_RU());
      #
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, InventProfileType_RU)).visible(salesEditLinesForm.showInventProfileType_RU());
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, PostingProfile_RU)).visible(salesEditLinesForm.showPostingProfile_RU());
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, InvoicePostingType_RU)).visible(salesEditLinesForm.showInvoicePostingType_RU());
      #
      #    salesParmTable_ds.object(fieldNum(SalesParmTable, InventOwnerId_RU)).visible(salesEditLinesForm.showInventOwnerId_RU());
      #
      #    salesParmLine_ds.object(fieldNum(SalesParmLine, AlcoholLicenseSeriesNum_RU)).visible(salesEditLinesForm.showAlcoholLicenseSeriesNum_RU());
      #
      #    inventOwnerIdCheckFailedMessage_RU.text(strFmt("@GLS115951", fieldId2pname(tableNum(InventDim), fieldNum(InventDim, InventOwnerId_RU)),
      #                                                                 fieldId2pname(tableNum(InventDim), fieldNum(InventDim, InventProfileId_RU))));
      #
      #    element.inventOwnerIdCheckFailed_RU();
      #
      #    if (!salesFormLetter.proforma())
      #    {
      #        print_Combo.selection(Printout::After);
      #        print_Combo.allowEdit(false);
      #    }
      #    printCheckboxGroup.columns(#checkboxesCols);
      #
      #    if (salesFormLetter.parmVersioningUpdateType() == VersioningUpdateType::Cancel)
      #    {
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, Storno)).visible(false);
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, CheckCreditMax)).visible(false);
      #
      #        salesParmLine_ds.allowEdit(false);
      #
      #        groupSumSalesGroup.visible(false);
      #        printGroup.visible(false);
      #        printerSettings.visible(false);
      #
      #    }
      #    tabParameters.heightMode(2);
      #}
    ENDSOURCE
    SOURCE #initDesign_W
      #void initDesign_W()
      #{
      #    if (! SysCountryRegionCode::isLegalEntityInCountryRegion([ #isoCZ, #isoEE, #isoHU, #isoLT, #isoLV, #isoPL, #isoRU ]))
      #        return;
      #
      #    tabAdvanceInvoices_W.visible(salesEditLinesForm.showAdvanceInvoiceSettlement_W());
      #    salesParmTable_VatDueDate_W.visible(salesEditLinesForm.showVatDueDate_W());
      #    salesParmTable_VatDueDate_W.mandatory(salesEditLinesForm.showVatDueDate_W() &&
      #                                         SysCountryRegionCode::isLegalEntityInCountryRegion([#isoHU]));
      #
      #    salesParmTable_TransDate_W.label(salesEditLinesForm.transDateCaption());
      #    salesParmTable_Num_W.visible(salesEditLinesForm.showNum_W());
      #    salesParmTable_Num_W.label(salesEditLinesForm.numCaption_W());
      #
      #    element.initDesign_CZ();
      #
      #    element.initDesign_PL();
      #
      #    element.initDesign_RU();
      #
      #    if (countryRegion_LTLV)
      #    {
      #        element.initDesign_LT();
      #    }
      #
      #    officials_RU.visible(salesEditLinesForm.showOfficials_RU());
      #}
    ENDSOURCE
    SOURCE #initQuery
      #void  initQuery()
      #{
      #    Query                   query;
      #    QueryBuildDataSource    queryBuildDataSource;
      #    Counter                 curDataSource;
      #
      #    if (! salesFormLetter.parmQueryUsed())
      #        return;
      #
      #    query = salesFormLetter.parmQueryUsed();
      #
      #    if (! query.dataSourceCount())
      #        return;
      #
      #    element.lock();
      #    element.removeQueryRange();
      #
      #    for (curDataSource=1; curDataSource <= query.dataSourceCount(); curDataSource++)
      #    {
      #        queryBuildDataSource = query.dataSourceNo(curDataSource);
      #        element.addQueryRange(queryBuildDataSource);
      #    }
      #
      #    tabPageLateSelection.visible(true);
      #    element.arrange();
      #    element.unLock();
      #}
    ENDSOURCE
    SOURCE #inventDimSetupObject
      #Object inventDimSetupObject()
      #{
      #    return inventDimFormSetup;
      #}
      #
    ENDSOURCE
    SOURCE #inventOwnerIdCheckFailed_RU
      #void inventOwnerIdCheckFailed_RU()
      #{
      #    inventOwnerIdCheckFailed_RU.visible(salesParmUpdate.inventOwnerIdCheckFailed_RU());
      #}
    ENDSOURCE
    SOURCE #lastRevisionDate_RU
      #//BP deviation documented
      #display FactureDate_RU lastRevisionDate_RU()
      #{
      #    return lastRevisionDate;
      #}
    ENDSOURCE
    SOURCE #lastRevisionNum_RU
      #//BP deviation documented
      #display RevisionNum_RU lastRevisionNum_RU()
      #{
      #    return lastRevisionNum;
      #}
    ENDSOURCE
    SOURCE #officialsRebuilding
      #public void officialsRebuilding()
      #{
      #    SalesParmTable tmpParmTable;
      #
      #    ttsbegin;
      #
      #    this.lock();
      #
      #    salesFormLetter.parmCustInvoicePrintoutType_RU(custInvoicePrintoutType_RU.selection());
      #
      #    tmpParmTable = salesParmTable_ds.cursor();
      #    salesFormLetter.initOfficials_RU(tmpParmTable);
      #
      #
      #    ttscommit;
      #
      #    this.setOfficialsLocationVisible_RU();
      #    this.chooseTable();
      #
      #    this.unLock();
      #}
    ENDSOURCE
    SOURCE #parmPostalAddressLocationLading_RU
      #public LogisticsLocationRecId parmPostalAddressLocationLading_RU(LogisticsLocationRecId _postalAddressLocation = 0)
      #{
      #    if(!_postalAddressLocation)
      #    {
      #        _postalAddressLocation = salesParmTable.LadingPostalAddress_RU;
      #    }
      #
      #    postalAddressLocationLading = _postalAddressLocation;
      #    return postalAddressLocationLading;
      #}
    ENDSOURCE
    SOURCE #reArrange
      #boolean  reArrange()
      #{
      #    boolean  ok = true;
      #
      #    salesParmUpdate_ds.write();
      #
      #    salesFormLetter.initParameters(salesParmUpdate.data(),
      #                                   print_Combo.selection(),
      #                                   printFormletter.value(),
      #                                   printCODLabelChoice,
      #                                   printShippingLabelChoice,
      #                                   usePrintManagement.value(),
      #                                   true
      #                                   // <GIN>
      #                                   ,printexciseformletter.value()
      #                                   // </GIN>
      #                                   );
      #
      #    if (EInvoiceParameters_MX::isElectronicInvoiceEnabled())
      #    {
      #        salesFormLetter.parmSendByMail_MX(sendByMail_MX.value());
      #    }
      #
      #    salesFormLetter.printEntryCertificate_W(printEntryCertificate_W.value());
      #
      #    salesFormLetter.editLinesChanged(editLinesChanged);
      #    salesFormLetter.reArrangeNow(reArrangeNow);
      #
      #    salesFormLetter.validateAll(false);
      #
      #    ok = salesFormLetter.reArrange(true);
      #    reArrangeNow = !ok;
      #
      #    salesFormLetter.validateAll(true);
      #    salesParmTable_ds.executeQuery();
      #
      #    buttonReArrange.enabled(reArrangeNow);
      #
      #    if (countryRegion_RU)
      #    {
      #        element.inventOwnerIdCheckFailed_RU();
      #    }
      #    element.setFieldAccess();
      #
      #    return ok;
      #}
    ENDSOURCE
    SOURCE #reArrangeNow
      #void  reArrangeNow()
      #{
      #    reArrangeNow = true;
      #    buttonReArrange.enabled(reArrangeNow);
      #}
    ENDSOURCE
    SOURCE #removeQueryRange
      #void removeQueryRange()
      #{
      #    FormGroupControl    formGroup;
      #
      #    int                 currentControl  = 1;
      #    int                 controlCount    = 0;
      #
      #    controlCount = tabPageLateSelection.controlCount();
      #
      #    while (currentControl <= #maxControl && currentControl <= controlCount)
      #    {
      #        formGroup = tabPageLateSelection.controlNum(currentControl);
      #        formGroup.visible(false);
      #
      #        currentControl++;
      #    }
      #
      #    pleaseMakeSelection.visible(true);
      #}
    ENDSOURCE
    SOURCE #reSelect
      #void reSelect()
      #{
      #    salesFormLetter.parmAdvanceInvoiceSettlement_W(advanceInvoiceSettlement);
      #
      #    if (inventLocationId_PL.isVisible())
      #    {
      #        salesFormLetter.reSelect(salesParmUpdate.data(), inventLocationId_PL.text());
      #    }
      #    else
      #    {
      #        salesFormLetter.reSelect(salesParmUpdate.data());
      #    }
      #    // <//GEEPL>
      #
      #    element.chooseTable();
      #}
    ENDSOURCE
    SOURCE #run
      #void  run()
      #{
      #    SalesUpdate recommendedQty;
      #    SysDictEnum salesUpdateEnum    = new SysDictEnum(enumNum(SalesUpdate));
      #    BoxFormOnce box;
      #    boolean     mcrConfig = isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter));
      #
      #    super();
      #    salesEditLinesForm.setupSumByControl(sumBy, salesParmUpdate.SpecQty, salesParmUpdate.SumBy);
      #
      #    if (salesParmUpdate.ParmId)
      #    {
      #        element.lock();
      #
      #        if (salesParmUpdate.LateSelection)
      #        {
      #            if (salesParmUpdate.LateSelectionQuery)
      #                salesFormLetter.chooseLinesQuery(new QueryRun(salesParmUpdate.LateSelectionQuery));
      #
      #            element.initQuery();
      #        }
      #
      #        isVersioningCorrectionOrCancel = salesFormLetter.isVersioningCorrectionOrCancel();
      #
      #        print_Combo.selection         (salesFormLetter.printout());
      #        printFormletter.value         (salesFormLetter.printFormLetter());
      #        printCODLabelChoice         = (salesFormLetter.printCODLabel());
      #        printShippingLabelChoice    = (salesFormLetter.printShippingLabel());
      #        usePrintManagement.value      (salesFormLetter.usePrintManagement());
      #
      #        if (EInvoiceParameters_MX::isElectronicInvoiceEnabled())
      #        {
      #            sendByMail_MX.value(salesFormLetter.parmSendByMail_MX());
      #        }
      #
      #        this.setFieldAccess();
      #
      #        reArrangeNow                = (salesFormLetter.reArrangeNow());
      #        editLinesChanged            = (salesFormLetter.editLinesChanged());
      #
      #        fiscalDocType_PL.selection(salesFormLetter.salesTable().FiscalDocType_PL);
      #
      #        element.sumByChanged(true);
      #
      #        element.design().caption            (salesEditLinesForm.editingCaption(salesFormLetter.parmCallerTable()));
      #
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, RespiteDate)).visible(salesEditLinesForm.respiteDate());
      #        salesParmTable_TransDate.label      (salesEditLinesForm.transDateCaption());
      #        printFormletter.label               (salesEditLinesForm.formLetterCaption());
      #        buttonPrintFormletter.text          (salesEditLinesForm.formLetterButtonCaption());
      #        buttonPrintFormletterCopy.text      (salesEditLinesForm.formLetterButtonCaptionCopy());
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, Storno)).visible(salesEditLinesForm.correct());
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, Storno)).enabled(salesEditLinesForm.correctEnabled_RU());
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, StornoPhysical_RU)).visible(salesEditLinesForm.correctPhysical_RU());
      #        warehouseManagement.visible         (salesEditLinesForm.wmsOrder());
      #
      #        salesParmTable_ds.object(fieldNum(SalesParmTable, FixedDueDate)).visible (salesEditLinesForm.fixedDueDate());
      #
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, Reserve)).visible   (salesEditLinesForm.reserve());
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, Reserve)).allowEdit (salesEditLinesForm.editReserve());
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, Reserve)).skip      (!salesEditLinesForm.editReserve());
      #        salesParmLine_ds.object(fieldNum(SalesParmLine, Closed)).visible        (salesEditLinesForm.close());
      #
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, CreditRemaining)).visible(salesEditLinesForm.creditRemaining());
      #        salesParmLine_ds.object(fieldNum(SalesParmLine, RemainAfter)).allowEdit (salesEditLinesForm.editRemainAfter());
      #        salesParmLine_ds.object(fieldNum(SalesParmLine, RemainAfter)).skip      (!salesEditLinesForm.editRemainAfter());
      #        salesParmLine_PdsCWQtyCorrection.visible(isVersioningCorrectionOrCancel);
      #        salesParmLine_SalesQtyCorrection.visible(isVersioningCorrectionOrCancel);
      #        salesParmLine_InventQtyCorrection.visible(isVersioningCorrectionOrCancel);
      #
      #        buttonPaymentSched.visible          (salesEditLinesForm.paymentSched());
      #        buttonPaymentSched.enabled          (salesFormLetter.salesTable().PaymentSched != '');
      #        buttonSelectJournal.visible         (salesEditLinesForm.selectJournalButton());
      #        buttonSelectJournal.enabled         (salesParmUpdate.SpecQty == SalesUpdate::PackingSlip);
      #
      #        updateNow.enabled                   (salesFormLetter.enableUpdateNowField());
      #        print_Combo.enabled                 (!salesFormLetter.proforma());
      #
      #        salesParmTable_inventSiteId.visible (salesParmUpdate.SplitSite == NoYes::Yes);
      #
      #        choose.visible                      (salesEditLinesForm.choose());
      #        sumBy.visible                       (salesEditLinesForm.sumBy());
      #        creditMax.visible                   (salesEditLinesForm.creditMax());
      #        buttonSalesTotals.visible           (salesEditLinesForm.salesTotals());
      #
      #        salesParmTable_ds.allowEdit         (!isLoadPackingSlip);
      #        salesParmTable_ds.allowCreate       (salesEditLinesForm.allowCreate_ParmTable() && !salesParmUpdate.LateSelection && !isLoadPackingSlip);
      #        salesParmline_ds.allowEdit          (!isLoadPackingSlip);
      #        salesParmLine_ds.allowCreate        (salesEditLinesForm.allowCreate_ParmLine()  && !salesParmUpdate.LateSelection && !isLoadPackingSlip);
      #        salesParmLine_ds.allowDelete        (!isLoadPackingSlip);
      #        salesParmTable_ds.allowDelete       (!isLoadPackingSlip);
      #
      #        // <GBR>
      #        if (BrazilParameters::isEnabled() && salesEditLinesForm.whsLoadAllowIncreaseQuantities_BR(salesFormLetter.parmWHSLoadId()) == false)
      #        {
      #            salesParmTable_ds.allowCreate      (false);
      #            salesParmLine_ds.allowCreate       (false);
      #
      #            updateNow.allowEdit                (false);
      #            specQty.allowEdit                  (false);
      #            SalesParmLine_DeliverNow.allowEdit (false);
      #
      #            SalesPArmline_InventNow.allowEdit(false);
      #        }
      #        // </GBR>
      #
      #        salesParmTable_ds.object(fieldNum(SalesParmTable, ProjId)).visible              (salesEditLinesForm.projId());
      #
      #        salesParmTable_ds.object(fieldNum(SalesParmTable, CustBankAccountId)).visible   (salesEditLinesForm.custBankAccountId());
      #        salesParmTable_ds.object(fieldNum(SalesParmTable, CustBankAccountId)).allowEdit (salesEditLinesForm.custBankAccountIdAllowEdit());
      #        salesParmTable_ds.object(fieldNum(SalesParmTable, CustBankAccountId)).skip      (!salesEditLinesForm.custBankAccountIdAllowEdit());
      #
      #        salesParmTable_ds.object(fieldNum(SalesParmTable, PrintOverdueFineTxt_FR)).visible(salesEditLinesForm.printOverdueFineTxt_FR());
      #
      #        salesParmTable_ds.object(fieldNum(SalesParmTable, EntryCertificateRequired_W)).visible(salesEditLinesForm.showEntryCertificateRequired_W());
      #        salesParmTable_ds.object(fieldNum(SalesParmTable, IssueOwnEntryCertificate_W)).visible(salesEditLinesForm.showIssueOwnEntryCertificate_W());
      #        printEntryCertificate_W.visible(salesEditLinesForm.showPrintEntryCertificate_W());
      #
      #        if (printEntryCertificate_W.visible())
      #        {
      #            printEntryCertificate_W.value(salesFormLetter.proforma() ? NoYes::No : salesFormLetter.printEntryCertificate_W());
      #            element.enabledDisabledPrintEntryCertificate_W();
      #        }
      #
      #        qtyToPickInSalesUnit.visible        (salesEditLinesForm.qtyToPickInSalesUnit());
      #
      #        // Show/hide print misc charges combo box, set SalesFormLetter variable from parameter, initialize combobox.
      #        salesParmUpdate_MCRPrintMiscCharges.visible(salesEditLinesForm.mcrShowMiscChargePrintOption());
      #
      #        salesFormLetter.mcrMiscChargePrintOption(MCROrderParameters::find().mcrMiscChargePrintOption);
      #        salesParmUpdate_MCRPrintMiscCharges.selection(salesFormLetter.mcrMiscChargePrintOption());
      #        // Make the field gift card invisible or visible depending on the
      #        // item being a gift card
      #        mcrGiftCardGroup.visible(mcrConfig
      #            && salesEditLinesForm.mcrGiftCard(salesParmLine)
      #            && salesparmLine.salesLine().mcrSalesLine().GiftCardType == MCRGiftCardType::Physical);
      #            element.initDesign_W();
      #
      #        if (countryRegion_BR)
      #        {
      #            salesParmTable_FiscalEstablishment_BR.visible(salesParmUpdate.SplitSite == NoYes::Yes);
      #            element.initDesign_BR();
      #        }
      #        if(mcrConfig
      #            && !caller_SalesTable)
      #        {
      #            salesFormLetter.parmMCRPaymMode(MCROrderParameters::find().mcrPaymModeSelect);
      #        }
      #        else
      #        {
      #            salesFormLetter.parmMCRPaymMode('');
      #        }
      #        mcrPaymentMethod.text(salesFormLetter.parmMCRPaymMode());
      #
      #        groupUpdate.visible                 (salesEditLinesForm.parametersGroup());
      #        groupShipments.visible(SalesParameters::find().useShippingStat(documentStatus));
      #        buttonSalesShippingLine.visible(SalesParameters::find().useShippingStat(documentStatus));
      #        shippingEnabled = buttonSalesShippingLine.visible();
      #
      #        if (salesFormLetter.showQueryForm() && !salesFormLetter.parmCreateFromHistory())
      #            buttonSalesShippingLine.enabled(false);
      #
      #        tabPageOther.visible(salesEditLinesForm.otherTab());
      #        tabOverview.visible(salesEditLinesForm.overviewTab());
      #        groupDates.allowEdit(salesEditLinesForm.editDates());
      #        tabSalesParmSubLine.visible(salesEditLinesForm.subLine());
      #        tabSalesParmSubTable.visible(salesEditLinesForm.subSalesTab());
      #
      #        orderLine_Name.visible(salesEditLinesForm.name());
      #        orderLine_SalesCategory.visible(salesEditLinesForm.salesCategory());
      #        orderLine.visible(orderLine_Name.visible() || orderLine_SalesCategory.visible());
      #        salesParmLine_Name.visible(salesEditLinesForm.name());
      #        salesParmLine_SalesCategory.visible(salesEditLinesForm.name());
      #
      #        inventTrackingRegisterTrans.visible(salesEditLinesForm.inventTrackingRegistrationEnabled());
      #
      #        pdsAdjustedNetAmount.visible(salesEditLinesForm.showPDSCalculatedLineAmount());
      #
      #        if (isVersioningCorrectionOrCancel)
      #        {
      #            tabSalesParmLines.activatePage();
      #        }
      #
      #        element.unLock();
      #
      #        if (SalesParameters::find().PromptQty && !salesFormLetter.lockSalesUpdateField())
      #        {
      #            recommendedQty = salesFormLetter.recommendedSpecQty();
      #            if(recommendedQty!=specQty.selection())
      #            {
      #                boxFormOnceIsActive = true;
      #
      #                box = BoxFormOnce::construct();
      #                box.parmDialogBoxType(DialogBoxType::YesNoBox);
      #                box.parmDialogButton(DialogButton::Yes);
      #                box.parmTitle("@SYS59372");
      #                box.parmText(strFmt("@SYS102340", salesUpdateEnum.index2Name(specQty.selection()), salesUpdateEnum.index2Name(recommendedQty)));
      #                box.parmOwner(new SysDictClass(classIdGet(salesEditLinesForm)).name());
      #                if(box.prompt() == DialogButton::Yes)
      #                {
      #                    specQty.selection(recommendedQty);
      #                    specQty.selectionChange();
      #                }
      #
      #                boxFormOnceIsActive = false;
      #            }
      #        }
      #    }
      #
      #    element.setFieldAccess();
      #    element.specQtyChanged();
      #
      #    editLinesChanged = false;
      #}
    ENDSOURCE
    SOURCE #runBase
      #SalesFormLetter runBase()
      #{//Method must be named runBase() for the integration to the Batch dialog to work.
      #    return salesFormLetter;
      #}
    ENDSOURCE
    SOURCE #setControlsVisibility_BR
      #public void setControlsVisibility_BR()
      #{
      #    boolean     isDeliverySlip;
      #    boolean     isPickingList;
      #
      #    if (documentStatus == DocumentStatus::DeliverySlip_BR
      #            || documentStatus == DocumentStatus::DeliverySlipProject_BR)
      #    {
      #        isDeliverySlip  = true;
      #    }
      #
      #    buttonDeliverySalesTax_BR.visible       (isDeliverySlip);
      #    buttonDeliverySalesTotals_BR.visible    (isDeliverySlip);
      #    buttonSalesTotals.visible               (!isDeliverySlip);
      #
      #    isPickingList   = (documentStatus == DocumentStatus::PickingList);
      #
      #    salesReturn_BR.visible      (!isPickingList);
      #}
    ENDSOURCE
    SOURCE #setDateOfVATRegister
      #public void setDateOfVATRegister(VatDueDate_W  _dateOfVATRegister)
      #{
      #    if (salesParmTable.VatDueDate_W != _dateOfVATRegister)
      #    {
      #        salesParmTable.VatDueDate_W = _dateOfVATRegister;
      #        salesParmTable.update();
      #        salesParmTable_ds.executeQuery();
      #    }
      #}
    ENDSOURCE
    SOURCE #setFieldAccess
      #void setFieldAccess()
      #{
      #    usePrintManagement.enabled(printFormLetter.value());
      #
      #    if (!usePrintManagement.enabled())
      #    {
      #        usePrintManagement.value(enum2int(NoYes::No));
      #    }
      #
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoMX]))
      #    {
      #        this.updateDesign_MX();
      #    }
      #}
    ENDSOURCE
    SOURCE #setFieldAccess_QtyNow
      #void setFieldAccess_QtyNow()
      #{
      #    boolean editDeliverNow  = salesEditLinesForm.editDeliverNow() && !isLoadPackingSlip;
      #    boolean inventoried     = salesParmLine.salesLine().isStocked();
      #
      #    // Note that the PdsFromCtrl_SalesEditLines class updateDesign method extends the field enabling
      #    // functionality. Changes here might need to be ported to it as well.
      #    salesParmLine_ds.object(fieldNum(SalesParmLine, InventNow)).allowEdit(editDeliverNow && inventoried);
      #    salesParmLine_ds.object(fieldNum(SalesParmLine, InventNow)).skip(!editDeliverNow && inventoried);
      #    salesParmLine_ds.object(fieldNum(SalesParmLine, DeliverNow)).allowEdit(editDeliverNow);
      #    salesParmLine_ds.object(fieldNum(SalesParmLine, DeliverNow)).skip(!editDeliverNow);
      #}
    ENDSOURCE
    SOURCE #setOfficialsLocationVisible_RU
      #void setOfficialsLocationVisible_RU()
      #{
      #    officialsTrans_RU_DS.object(fieldNum(OfficialsTrans_RU, InvLocation)).visible(salesFormLetter.parmCustInvoicePrintoutType_RU() == CustInvoicePrintoutType_RU::M_15);
      #}
    ENDSOURCE
    SOURCE #specQtyChanged
      #void  specQtyChanged()
      #{
      #    boolean showPackingSlipDetails;
      #
      #    element.lock();
      #
      #    showPackingSlipDetails = salesEditLinesForm.showPackingSlipDetails();
      #    salesParmTable_PackingSlipId.visible(showPackingSlipDetails);
      #    salesParmLine_PackingSlipId.visible (showPackingSlipDetails);
      #    salesParmLine_DeliveryDate.visible  (showPackingSlipDetails);
      #
      #    buttonSelectJournal.enabled         (salesParmUpdate.SpecQty == SalesUpdate::PackingSlip && salesEditLinesForm.selectJournalButton());
      #    tabSalesParmSubLine.visible         (salesParmUpdate.SpecQty == SalesUpdate::PackingSlip && salesEditLinesForm.subLine());
      #
      #    if (pdsFormCtrl)
      #    {
      #        pdsFormCtrl.specQtyChanged(
      #                        !(salesParmUpdate.SpecQty == SalesUpdate::PackingSlip
      #                            && salesEditLinesForm.subLine()));
      #    }
      #    else
      #    {
      #        element.setFieldAccess_QtyNow();
      #    }
      #
      #    if (salesParmUpdate.SumBy == AccountOrder::Journal && salesParmUpdate.SpecQty != SalesUpdate::PackingSlip)
      #    {
      #        salesParmUpdate.SumBy = AccountOrder::None;
      #        sumBy.selection(salesEditLinesForm.sumByIndex2Selection(AccountOrder::None));
      #        salesFormLetter.reArrange(false);
      #    }
      #
      #    salesEditLinesForm.setupSumByControl(sumBy, salesParmUpdate.SpecQty, salesParmUpdate.SumBy);
      #    element.unLock();
      #}
      #
    ENDSOURCE
    SOURCE #sumByChanged
      #void  sumByChanged(boolean _init)
      #{
      #    element.lock();
      #
      #    if (salesParmUpdate.SumBy == AccountOrder::Order)
      #    {
      #        salesParmUpdate.SumSalesId = initSumSalesId;
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, SumSalesId)).visible(true);
      #    }
      #    else
      #    {
      #        salesParmUpdate.SumSalesId = '';
      #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, SumSalesId)).visible(false);
      #    }
      #
      #    if (_init && salesParmUpdate.SumBy == AccountOrder::None)
      #        reArrangeNow = false;
      #    else
      #        reArrangeNow = true;
      #
      #    buttonReArrange.enabled(reArrangeNow);
      #
      #    element.unLock();
      #}
      #
    ENDSOURCE
    SOURCE #task
      #public int task(int _taskId)
      #{
      #    #task
      #    int ret;
      #
      #    if (_taskId == #taskEsc)
      #    {
      #        _taskId = #taskCtrlQ;
      #    }
      #
      #    ret = super(_taskId);
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #updateDesign
      #void updateDesign(InventDimFormDesignUpdate mode)
      #{
      #    InventMovement movement;
      #
      #    if (isWritingSalesParmLineInCloseOK)
      #    {//Form is closing so no need to update inventDim bound controls
      #        return;
      #    }
      #
      #    movement = InventMovement::construct(salesParmLine);
      #
      #    switch (mode)
      #    {
      #        case InventDimFormDesignUpdate::Init :
      #            if (!inventDimFormSetup)
      #            {
      #                inventDimFormSetup = InventDimCtrl_Frm_Mov_Parm::newFromFormMovement(element, movement, salesFormLetter.isVersioningCorrectionOrCancel());
      #            }
      #
      #        case InventDimFormDesignUpdate::Active,
      #            InventDimFormDesignUpdate::FieldChange :
      #            inventDimFormSetup.formActiveSetup(movement.inventDimGroupSetup(),movement);
      #            inventDimFormSetup.formSetControls(mode == InventDimFormDesignUpdate::Active);
      #            break;
      #
      #        default : throw error(strFmt("@SYS54195",funcName()));
      #    }
      #}
    ENDSOURCE
    SOURCE #updateDesign_MX
      #public void updateDesign_MX()
      #{
      #    if (EInvoiceParameters_MX::isElectronicInvoiceEnabled())
      #    {
      #        sendByMail_MX.enabled(true);
      #    }
      #    else
      #    {
      #        sendByMail_MX.value(NoYes::No);
      #        sendByMail_MX.visible(false);
      #    }
      #
      #    if (EInvoiceCFDIParameters_MX::isElectronicInvoiceEnabled())
      #    {
      #        printFormLetter.value(false);
      #        printFormLetter.enabled(false);
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #updateDesignForUnrealizedVAT
      #/// <summary>
      #///     Sets fields visible and changes the labels when Average VAT feature is active.
      #/// </summary>
      #private void updateDesignForUnrealizedVAT()
      #{
      #    isRealizedVAT_TH.visible(true);
      #
      #    switch (element.args().caller().name())
      #    {
      #        case classStr(SalesFormLetter_PackingSlip):
      #        case classStr(SalesFormLetter_Invoice):
      #            printDocumentSet_TH.visible(true);
      #            if (printDocuSet.value())
      #            {
      #                documentSet.allowEdit(true);
      #            }
      #            break;
      #    }
      #}
    ENDSOURCE
    SOURCE #updatePrintOut
      #void updatePrintOut(container _printerSettings)
      #{
      #    if (print_Combo.selection() == Printout::Current &&
      #            !salesParmUpdate.Proforma &&
      #            FormLetter::isClientOutput(_printerSettings))
      #    {
      #        print_Combo.selection(Printout::After);
      #    }
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmUpdate
          Table               #SalesParmUpdate
          AllowCreate         #No
          AllowDelete         #No
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD DocumentStatus
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.reSelect();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SpecQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    element.specQtyChanged();
                #    element.reSelect();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Proforma
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.reSelect();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD GiroType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesFormLetter.defaultGiroType(giroType.selection()==PaymentStubInclAll::All);
                #    salesFormLetter.salesParmUpdate(salesParmUpdate.data());
                #    salesFormLetter.deleteGiroAndInitQuery();
                #
                #    element.chooseTable();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CreditRemaining
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    element.reSelect();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SumSalesId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    SalesParmTable::lookupParmId(_formControl, salesParmTable.ParmId);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD lateSelection
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesParmTable_ds.allowCreate(salesEditLinesForm.allowCreate_ParmTable() && !salesParmUpdate.LateSelection);
                #    salesParmLine_ds.allowCreate (salesEditLinesForm.allowCreate_ParmLine()  && !salesParmUpdate.LateSelection);
                #
                #    salesFormLetter.salesParmUpdate(salesParmUpdate);
                #
                #    if (salesFormLetter.lateSelectionRemoveLines())
                #    {
                #        salesParmTable_ds.executeQuery();
                #
                #        element.lock();
                #
                #        tabPageLateSelection.visible(salesParmUpdate.LateSelection);
                #
                #        element.redraw();
                #        element.arrange();
                #
                #        element.unLock();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ReduceOnHand
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (documentStatus == DocumentStatus::PickingList)
                #    {
                #        salesParmUpdate.Reserve = salesParmUpdate.ReduceOnHand;
                #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, Reserve)).allowEdit(!salesParmUpdate.ReduceOnHand);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD Compiler
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    HcmWorker ret;
                #
                #    ret = super(_formReferenceControl);
                #
                #    if (ret != null && !hcmWorkerLookup.validateWorker(ret.RecId))
                #    {
                #        ret = null;
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = super(_formReferenceControl);
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD CustomsExportOrderType_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesFormLetter.initLinesQuery_IN(salesParmUpdate.CustomsExportOrderType_IN);
                #    salesParmTable_ds.research();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustomsShippingBill_IN
            PROPERTIES
              Visible             #No
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if(salesParmUpdate.CustomsShippingBill_IN == NoYes::No)
                #    {
                #        salesParmTable_ds.object(fieldNum(SalesParmTable, CustomsShippingBillNumberTable_IN)).allowEdit(true);
                #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, CustomsShippingBillNumberTable_IN)).allowEdit(false);
                #        salesParmUpdate_CustomsShippingBillNumberTable_IN.allowEdit(false);
                #    }
                #    else
                #    {
                #        salesParmUpdate_ds.object(fieldNum(SalesParmUpdate, CustomsShippingBillNumberTable_IN)).allowEdit(true);
                #        salesParmUpdate_CustomsShippingBillNumberTable_IN.allowEdit(true);
                #        salesParmTable_ds.object(fieldNum(SalesParmTable, CustomsShippingBillNumberTable_IN)).allowEdit(false);
                #    }
                #    salesParmTable_ds.research(true);
                #    salesParmLine_ds.research(true);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD CustomsShippingBillNumberTable_IN
            PROPERTIES
              AllowEdit           #No
              Visible             #No
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    if (salesParmUpdate.CustomsShippingBillNumberTable_IN)
                #    {
                #        salesParmTable.Transdate = CustomsShippingBillNumberTable_IN::find(salesParmUpdate.CustomsShippingBillNumberTable_IN).ShippingBillDate;
                #        salesParmTable.EximExportDateTime_IN = DateTimeUtil::newDateTime(salesParmTable.Transdate, 0, DateTimeUtil::getUserPreferredTimeZone());
                #    }
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #/// <summary>
          #/// Write the extension table record now that the parent record has a record ID.
          #/// </summary>
          #// <GIN>
          #public void write()
          #{
          #    super();
          #    if (countryRegion_IN && SalesParmUpdate_IN.SalesParmUpdate == 0)
          #    {
          #        SalesParmUpdate_IN.SysExtensionSerializerExtensionMap::insertAfterBaseTable(SalesParmUpdate);
          #    }
          #}
          #// </GIN>
          #
        ENDSOURCE
        SOURCE #transporationLoaderName
          #edit DirPartyName transporationLoaderName(
          #    boolean          _set,
          #    SalesParmUpdate  _salesParmUpdate,
          #    DirPartyName _name
          #)
          #{
          #
          #    DirPartyName name;
          #
          #    if (salesParmUpdate.TransportationDeliveryLoader)
          #    {
          #        name = TransportationDeliveryParty::find(salesParmUpdate.TransportationDeliveryLoader).name();
          #    }
          #
          #    return name;
          #}
        ENDSOURCE
        SOURCE #transporationOwnerName
          #edit DirPartyName transporationOwnerName(
          #    boolean          _set,
          #    SalesParmUpdate  _salesParmUpdate,
          #    DirPartyName _name
          #)
          #{
          #
          #    DirPartyName name;
          #
          #    if (salesParmUpdate.TransportationDeliveryOwner)
          #    {
          #        name = TransportationDeliveryParty::find(salesParmUpdate.TransportationDeliveryOwner).name();
          #    }
          #
          #    return name;
          #
          #}
        ENDSOURCE
        SOURCE #transporationContractName
          #edit DirPartyName transporationContractName(
          #    boolean          _set,
          #    SalesParmUpdate  _salesParmUpdate,
          #    DirPartyName _name
          #)
          #{
          #
          #    DirPartyName name;
          #
          #    if (salesParmUpdate.TransportationDeliveryContractor)
          #    name = TransportationDeliveryParty::find(salesParmUpdate.TransportationDeliveryContractor).name();
          #
          #    return name;
          #
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    sumBy.selection(salesEditLinesForm.sumByIndex2Selection(salesParmUpdate.SumBy));
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmTable
          Table               #SalesParmTable
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD SalesId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #boolean validate()
                #{
                #    boolean     ret;
                #    SalesTable  localSalesTable;
                #
                #    ret = super();
                #
                #    localSalesTable = salesParmTable.salesTable();
                #
                #    if (!(SalesFormletterParmData::allowJournal(salesFormLetter.documentStatus(), localSalesTable)))
                #        ret = checkFailed(strFmt("@SYS62423", localSalesTable.SalesType, localSalesTable.SalesId));
                #
                #    return ret;
                #}
                #
              ENDSOURCE
              SOURCE #modified
                #void  modified()
                #{
                #    super();
                #
                #    #ISOCountryRegionCodes
                #
                #    salesParmTable.Ordering = documentStatus;
                #    salesTable = salesParmTable.salesTable();
                #    if (countryRegion_IN
                #        && TaxParameters::find().Customs_IN)
                #    {
                #        salesParmTable.CustomsExportInvoiceId_IN = '';
                #    }
                #
                #    element.configBankLCControls();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (TaxParameters::find().Customs_IN && documentStatus == DocumentStatus::ShippingBill_IN)
                #    {
                #        CustomsExportOrderTable_IN::lookupSalesId(_formControl);
                #    }
                #    else // STD AX lookup
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Ordering
            PROPERTIES
              AllowEdit           #No
              Skip                #Yes
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesName
            PROPERTIES
              AllowEdit           #No
              Skip                #Yes
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyCode
            PROPERTIES
              AllowEdit           #No
              Skip                #Yes
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Transdate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesParmTable.modifiedTransDate_W();
                #
                #    if (salesParmTable.CustomsShippingBillNumberTable_IN
                #        || salesParmUpdate.CustomsShippingBillNumberTable_IN)
                #    {
                #        salesParmTable.EximExportDateTime_IN = DateTimeUtil::newDateTime(salesParmTable.Transdate, 0, DateTimeUtil::getUserPreferredTimeZone());
                #    }
                #
                #    salesparmtable_ds.refresh();
                #
                #    if (countryRegion_RU)
                #    {
                #        SalesParmLine_ds.research(true);
                #    }
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD FixedDueDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    PaymCalendarAdjustedDate            paymCalendarAdjustedDate;
                #
                #    super();
                #
                #    // perform the payment calendar work only for the required countries
                #    if (SysCountryRegionCode::isLegalEntityInConsolidatedCountryRegion() && salesParmTable.FixedDueDate)
                #    {
                #        paymCalendarAdjustedDate = PaymCalendarSourceSalesOrderParm::getAdjustedDate(salesParmTable);
                #
                #        salesParmTable.FixedDueDate = PaymCalendarProcessor::getAdjustedDueDate(salesParmTable.FixedDueDate, priorDueDate, paymCalendarAdjustedDate);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DocumentDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #
                #    super();
                #
                #    salesParmTable.modifiedDocumentDate_W();
                #
                #    salesparmtable_ds.refresh();
                #
                #    if (countryRegion_RU)
                #    {
                #        SalesParmLine_ds.research(true);
                #    }
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD BankLCExportLine
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return bankLCExportLineNumController.resolveReference(_formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return bankLCExportLineNumController.lookupReference(_formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    bankLCExportLineNumController.jumpRef();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD Correct_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesParmTable_ds.allowEditCorrectedFactureExternalId_RU(! salesParmTable.Correct_RU);
                #    salesParmTable_ds.allowEditCorrectedInvoiceId_RU(! salesParmTable.Correct_RU);
                #    salesParmTable_ds.initCorrectedInvoiceValues_RU();
                #    salesParmTable_ds.setCorrFacture_RU();
                #    salesParmTable_ds.refresh();
                #
                #    correctedLine_RU.visible(salesParmTable.Correct_RU);
                #    if (salesParmTable.Correct_RU && ! updateNow.value())
                #    {
                #        printFacture_RU.value(false);
                #    }
                #
                #    printFacture_RU.enabled(! salesParmTable.Correct_RU || updateNow.value());
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CorrectedInvoiceId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesParmTable_ds.initCorrectedInvoiceLines_RU();
                #    salesParmTable_ds.setCorrFacture_RU();
                #}
                #
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CustVendInvoiceJour custVendInvoiceJour;
                #    ;
                #
                #    custVendInvoiceJour = CustVendInvoiceJour::lookupCorrectedInvoiceId_RU(_formControl,
                #                                                                           ModuleCustVend::Cust,
                #                                                                           salesParmTable.InvoiceAccount);
                #    if (custVendInvoiceJour)
                #    {
                #        salesParmTable.CorrectedInvoiceDate_RU = custVendInvoiceJour.InvoiceDate;
                #    }
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CorrectedInvoiceDate_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesParmTable_ds.initCorrectedInvoiceLines_RU();
                #    salesParmTable_ds.setCorrFacture_RU();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD CustomsShippingBillNumberTable_IN
            PROPERTIES
              Visible             #No
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (salesParmTable.CustomsShippingBillNumberTable_IN)
                #    {
                #        salesParmTable.Transdate = CustomsShippingBillNumberTable_IN::find(salesParmTable.CustomsShippingBillNumberTable_IN).ShippingBillDate;
                #        salesParmTable.EximExportDateTime_IN = DateTimeUtil::newDateTime(salesParmTable.Transdate, 0, DateTimeUtil::getUserPreferredTimeZone());
                #    }
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD CustomsExportInvoiceId_IN
            PROPERTIES
              Visible             #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CorrectionType_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesParmTable_ds.setCorrFacture_RU();
                #
                #    if (salesParmTable.CorrectionType_RU == FactureCorrectionType_RU::Unknown)
                #    {
                #        SalesParmLineCorrLink_RU::clearLinksBySalesParmTable(salesParmTable);
                #    }
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Num_W
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean isValid;
                #
                #    isValid = super();
                #
                #    if (isValid)
                #    {
                #        if (salesParmTable.Num_W)
                #        {
                #            isValid = salesFormLetter.checkDuplicateNum_W(salesParmTable.Num_W, salesParmTable.SalesId, salesParmTable.Transdate);
                #        }
                #    }
                #
                #    return isValid;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesDate_W
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesParmTable.modifiedSalesDate_W();
                #
                #    salesparmtable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PackingSlipIdForUpdate_W
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesFormLetter.reSelect(salesParmUpdate);//, salesParmTable, true);
                #    buttonSelectJournal.enabled(!salesParmTable.PackingSlipIdForUpdate_W && salesParmUpdate.SpecQty == SalesUpdate::PackingSlip && salesEditLinesForm.selectJournalButton());
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BOLCarrierType_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesParmTable.bolCarrierCode_RU = '';
                #    salesParmTable_DS.object(fieldNum(SalesParmTable, bolCarrierCode_RU)).allowEdit(salesParmTable.bolCarrierType_RU != CarrierType_W::InvoiceAccount);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BOLCarrierCode_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    SysTableLookup sysTableLookup;
                #
                #    switch (salesParmTable.bolCarrierType_RU)
                #    {
                #        case CarrierType_W::Customer       :
                #                sysTableLookup = SysTableLookup::newParameters(tableNum(CustTable), _formControl);
                #                sysTableLookup.addLookupfield (fieldNum      (CustTable, AccountNum));
                #                sysTableLookup.addLookupMethod(tableMethodStr(CustTable, name));
                #                sysTableLookup.addLookupfield (fieldNum      (CustTable, OurAccountNum));
                #                sysTableLookup.addLookupMethod(tableMethodStr(CustTable, phone));
                #                sysTableLookup.performFormLookup();
                #            break;
                #        case CarrierType_W::InvoiceAccount :
                #        case CarrierType_W::Vendor         :
                #            super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret = true;
                #
                #    switch (salesParmTable.bolCarrierType_RU)
                #    {
                #        case CarrierType_W::Customer       :
                #
                #            if (salesParmTable.bolCarrierCode_RU && ! CustTable::exist(salesParmTable.bolCarrierCode_RU))
                #            {
                #                ret = checkFailed(strFmt("@GLS106038",
                #                                         salesParmTable.bolCarrierCode_RU,
                #                                         fieldPName(SalesParmTable, bolCarrierCode_RU),
                #                                         tablePName(CustTable)));
                #
                #            }
                #            break;
                #        case CarrierType_W::InvoiceAccount :
                #        case CarrierType_W::Vendor         :
                #            ret = super();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD EntryCertificateRequired_W
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesParmTable_ds.write();
                #    element.allowEditIssueOwnEntryCertificate_W();
                #    element.enabledDisabledPrintEntryCertificate_W();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD FiscalDocumentModel_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.enableFiscalDocument_BR();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD IssueOwnEntryCertificate_W
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesParmTable_ds.write();
                #    element.enabledDisabledPrintEntryCertificate_W();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxPeriodPaymentCode_PL
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    if(salesParmTable.TaxPeriodPaymentCode_PL && PlTaxDueTable::find(salesParmTable.TaxPeriodPaymentCode_PL).VatDateIsPaymentDate)
                #    {
                #        salesParmTable.VatDueDate_W = salesParmTable.FixedDueDate;
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TransportationPayerType_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesParmTable_ds.allowEditTransportationPayer_RU();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #allowEditTransportationPayer_RU
          #/// <summary>
          #///     Sets editable for TransportationPayer_RU field.
          #/// </summary>
          #public void allowEditTransportationPayer_RU()
          #{
          #     salesParmTable_ds.object(fieldNum(SalesParmTable, TransportationPayer_RU)).enabled(salesParmTable.TransportationPayerType_RU == TransportationPayerType_RU::ThirdParty);
          #}
          #
        ENDSOURCE
        SOURCE #setCorrFacture_RU
          #void setCorrFacture_RU()
          #{
          #    FactureJour_RU  corrFacture;
          #    CustInvoiceJour origInvoiceJour;
          #
          #    if (! salesEditLinesForm.showCorrectedFactureExternalId_RU())
          #    {
          #        return;
          #    }
          #
          #    if (salesParmTable.CorrectedInvoiceId_RU && salesParmTable.CorrectedInvoiceDate_RU)
          #    {
          #        origInvoiceJour = CustInvoiceJour::findFromCustTrans(salesParmTable.CorrectedInvoiceId_RU,
          #                                                             salesParmTable.CorrectedInvoiceDate_RU,
          #                                                             salesParmTable.InvoiceAccount);
          #
          #        if (origInvoiceJour)
          #        {
          #            corrFacture = CustVendInvoiceJour::findLastCorrFacture_RU([origInvoiceJour], salesParmTable.CorrectionType_RU);
          #
          #            if (corrFacture)
          #            {
          #                salesParmTable.CorrectedFactureExternalId_RU = corrFacture.FactureExternalId;
          #                salesParmTable.CorrectedFactureDate_RU       = corrFacture.FactureDate;
          #                salesParmTable_ds.initCorrFactureDisplay_RU();
          #
          #                if (salesParmTable.CorrectedFactureExternalId_RU && salesParmTable.CorrectedFactureDate_RU)
          #                {
          #                    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedFactureExternalId_RU)).allowEdit(false);
          #                    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedFactureDate_RU)).allowEdit(false);
          #
          #                    return;
          #                }
          #            }
          #        }
          #    }
          #
          #    this.allowEditCorrectedFactureExternalId_RU();
          #    salesParmTable_ds.refresh();
          #}
          #
        ENDSOURCE
        SOURCE #initVATOnPayment_RU
          #void initVATOnPayment_RU()
          #{
          #    CustInvoiceJour custInvoiceJour = CustInvoiceJour::findFromCustTrans(salesParmTable.CorrectedInvoiceId_RU,
          #                                                                         salesParmTable.CorrectedInvoiceDate_RU,
          #                                                                         salesParmTable.InvoiceAccount);
          #
          #    if (custInvoiceJour)
          #    {
          #        salesParmTable.vatOnPayment_RU = custInvoiceJour.custInvoiceJour_RU().vatOnPayment_RU;
          #        salesParmTable_ds.refresh();
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #initCorrFactureDisplay_RU
          #public void initCorrFactureDisplay_RU()
          #{
          #    FactureJour_RU jour;
          #    FactureJour_RU jourRev;
          #
          #    if (! salesParmTable.CorrectedFactureExternalId_RU ||
          #        ! salesParmTable.CorrectedFactureDate_RU)
          #    {
          #        lastRevisionNum     = 0;
          #        lastRevisionDate    = dateNull();
          #        return;
          #    }
          #
          #    jour = FactureJour_RU::findCorrectedFacture(FactureModule_RU::Cust,
          #                                                salesParmTable.InvoiceAccount,
          #                                                salesParmTable.CorrectedFactureExternalId_RU,
          #                                                salesParmTable.CorrectedFactureDate_RU);
          #
          #    [salesParmTable.CorrectedFactureExternalId_RU,
          #     salesParmTable.CorrectedFactureDate_RU] = jour ?
          #                                               FactureJour_RU::findLastFacture(jour, salesParmTable.CorrectionType_RU) :
          #                                               ['', dateNull()];
          #
          #    if (salesParmTable.CorrectionType_RU == FactureCorrectionType_RU::Correction         &&
          #        jour                                                                             &&
          #       (jour.FactureExternalId           != salesParmTable.CorrectedFactureExternalId_RU ||
          #        jour.FactureDate                 != salesParmTable.CorrectedFactureDate_RU))
          #    {
          #        warning(strFmt("@SYS4081878", salesParmTable.CorrectedFactureExternalId_RU, salesParmTable.CorrectedFactureDate_RU));
          #        jour = FactureJour_RU::findCorrectedFacture(FactureModule_RU::Cust,
          #                                                    salesParmTable.InvoiceAccount,
          #                                                    salesParmTable.CorrectedFactureExternalId_RU,
          #                                                    salesParmTable.CorrectedFactureDate_RU);
          #    }
          #
          #    if (jour)
          #    {
          #        select firstonly jourRev
          #            where (jourRev.RefRevisedFacture == jour.RecId  ||
          #                   jourRev.RecId             == jour.RecId) &&
          #                   jourRev.Revised           == NoYes::No;
          #
          #        lastRevisionNum     = jourRev.RevisionNum;
          #        lastRevisionDate    = jourRev.CorrectionType == FactureCorrectionType_RU::Revision ?
          #                              jourRev.FactureDate                                          :
          #                              dateNull();
          #    }
          #    else
          #    {
          #        lastRevisionNum     = 0;
          #        lastRevisionDate    = dateNull();
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #initCorrectedInvoiceLines_RU
          #public void initCorrectedInvoiceLines_RU()
          #{
          #    SalesParmLine::initCorrectedInvoiceLines_RU(salesParmTable);
          #    salesParmLine_ds.research();
          #
          #    salesParmTable_ds.initVATOnPayment_RU();
          #}
          #
        ENDSOURCE
        SOURCE #fiscalEstablishment_BR
          #public display FiscalEstablishmentId_BR fiscalEstablishment_BR(SalesParmTable _salesParmTable)
          #{
          #    return _salesParmTable.fiscalEstablishment_BR();
          #}
        ENDSOURCE
        SOURCE #allowEditFiscalInfo_BR
          #void allowEditFiscalInfo_BR(boolean _hasIssuedFiscalDocument)
          #{
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, FiscalDocumentNumber_BR)).allowEdit(!_hasIssuedFiscalDocument);
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, FiscalDocumentModel_BR )).allowEdit(!_hasIssuedFiscalDocument);
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, FiscalDocumentSeries_BR)).allowEdit(!_hasIssuedFiscalDocument);
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, FiscalDocumentSpecie_BR)).allowEdit(!_hasIssuedFiscalDocument);
          #}
          #
        ENDSOURCE
        SOURCE #initValue
          #public void initValue()
          #{
          #    #define.tmpTableRefId('tmp')
          #
          #    super();
          #    salesParmTable.TableRefId = #tmpTableRefId;
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    salesParmTable_ds.cacheAddMethod(tableMethodStr(SalesParmTable, checkIfLines_RU));
          #    salesParmTable_ds.cacheAddMethod(tableMethodStr(SalesParmTable, packingSlipId));
          #    salesParmTable_ds.cacheAddMethod(tableMethodStr(SalesParmTable, fiscalEstablishment_BR));
          #}
        ENDSOURCE
        SOURCE #write
          #void  write()
          #{
          #    SalesParmSubId  emptyId;
          #
          #    if (countryRegion_IN)
          #    {
          #        if ((TaxParameters::find().Customs_IN && salesFormLetter.documentStatus() == DocumentStatus::ShippingBill_IN)    &&
          #        (salesParmTable.CustomsExportInvoiceId_IN && !salesParmTable.RecId  &&  salesTable))
          #        {
          #            salesTable = salesParmTable.salesTable();
          #            super();
          #
          #            salesFormLetter.allowEmptyTable(true);
          #            salesFormLetter.salesTable(salesTable);
          #            element.chooseTrans();
          #            element.checkParmtable();
          #            salesFormLetter.allowEmptyTable(salesFormLetter.initAllowEmptyTable());
          #            salesParmTable_ds.cacheCalculateMethod(tableMethodStr(SalesParmTable, checkIfLines_RU));
          #        }
          #        else
          #        {
          #            super();
          #        }
          #    }
          #    else
          #    {
          #        if (!salesParmTable.RecId  &&  salesTable)
          #        {
          #            salesTable = salesParmTable.salesTable();
          #            salesFormLetter.showQueryForm(false);
          #            salesFormLetter.allowEmptyTable(true);
          #            salesFormLetter.salesTable(salesTable);
          #
          #            salesFormLetter.salesParmUpdate(salesParmUpdate.data());
          #            salesFormLetter.chooseLines(true);
          #            if (!salesParmTable.RecId)
          #                salesParmTable_ds.delete(); //SalesFormletter inserts the records.
          #
          #            if (salesParmUpdate.SpecQty == SalesUpdate::PackingSlip &&
          #                (salesFormLetter.documentStatus() == DocumentStatus::Invoice ||
          #                 salesFormLetter.documentStatus() == DocumentStatus::Facture_RU))
          #            {
          #                element.chooseTable();
          #            }
          #            else
          #            {
          #                element.chooseTable();
          #                element.checkParmtable();
          #            }
          #
          #            salesFormLetter.allowEmptyTable(salesFormLetter.initAllowEmptyTable());
          #            if (isEasternEuropeAllandRU)
          #            {
          #                salesParmTable_ds.reread();
          #                officialsTrans_RU_ds.executeQuery();
          #            }
          #
          #            SalesShippingStat::createSalesShippingStat(SalesParmSubTable::find(salesParmTable.ParmId, salesParmTable.TableRefId, salesParmTable.SalesId, emptyId) ,salesParmUpdate);
          #            salesParmTable_ds.cacheCalculateMethod(tableMethodStr(SalesParmTable, checkIfLines));
          #        }
          #        else
          #        {
          #            super();
          #            if (CustParameters::isTaxIntegrationSystem_CN())
          #            {
          #                salesParmTableExtensionCN.SalesParmTable = salesParmTable.RecId;
          #                salesParmTableExtensionCN_ds.write();
          #            }
          #
          #        }
          #    }
          #
          #    editLinesChanged = true;
          #}
          #
        ENDSOURCE
        SOURCE #delete
          #void  delete()
          #{
          #    super();
          #
          #    element.reArrangeNow();
          #    element.checkParmTable();
          #}
        ENDSOURCE
        SOURCE #create
          #void create(boolean append = false)
          #{
          #    append = true;
          #
          #    super(append);
          #
          #    if (countryRegion_IN
          #        && TaxParameters::checkTaxParameters_IN())
          #    {
          #        salesParmTable_ds.object(fieldNum(SalesParmTable, CustomsExportInvoiceId_IN)).allowEdit(true);
          #        salesParmTable_ds.object(fieldNum(SalesParmTable, SalesId)).allowEdit(true);
          #    }
          #    element.reArrangeNow();
          #}
        ENDSOURCE
        SOURCE #active
          #int  active()
          #{
          #    int ret;
          #    SalesTable  localSalesTable;
          #    boolean     returnItem;
          #    SalesParmLine salesParmLineLoc;
          #    boolean       customsExportInvoice;
          #
          #    caller_SalesTable = false;
          #
          #    ret = super();
          #
          #    localSalesTable = salesParmTable.salesTable();
          #
          #    if(localSalesTable)
          #    {
          #        caller_SalesTable = true;
          #    }
          #    salesEditLinesForm.setSalesTable(localSalesTable);
          #
          #    // Show/hide print misc charges combo box, set SalesFormLetter variable from parameter,
          #    // initialize combobox.
          #    if (salesEditLinesForm.mcrShowMiscChargePrintOption())
          #    {
          #        salesParmUpdate_MCRPrintMiscCharges.visible(true);
          #        salesParmUpdate_MCRPrintMiscCharges.allowEdit(true);
          #        salesParmUpdate_MCRPrintMiscCharges.selection(salesFormLetter.mcrMiscChargePrintOption());
          #    }
          #    else
          #    {
          #        salesParmUpdate_MCRPrintMiscCharges.visible(false);
          #    }
          #
          #    if (salesEditLinesForm.printCODLabel())
          #    {
          #        printCODLabel.allowEdit(true);
          #        printCODLabel.skip(false);
          #        printCODLabel.value(printCODLabelChoice);
          #    }
          #    else
          #    {
          #        printCODLabel.allowEdit(false);
          #        printCODLabel.skip(true);
          #        printCODLabel.value(false);
          #    }
          #
          #    if (salesEditLinesForm.printShippingLabel())
          #    {
          #        printShippingLabel.allowEdit(true);
          #        printShippingLabel.skip(false);
          #        printShippingLabel.value(printShippingLabelChoice);
          #    }
          #    else
          #    {
          #        printShippingLabel.allowEdit(false);
          #        printShippingLabel.skip(true);
          #        printShippingLabel.value(false);
          #        printShippingLabelChoice = false;
          #    }
          #    if (countryRegion_IN
          #        && TaxParameters::checkTaxParameters_IN())
          #    {
          #        customsExportInvoice = salesParmTable.CustomsExportInvoiceId_IN ? true : false;
          #        salesParmTable_ds.object(fieldNum(SalesParmTable, CustomsExportInvoiceId_IN)).allowEdit(customsExportInvoice);
          #
          #        salesParmLineLoc = SalesParmLine::findTableRefId_IN(salesParmTable.ParmId, salesParmTable.TableRefId);
          #
          #        customsShippingBillDetails_IN.enabled(salesParmLineLoc.RecId);
          #
          #        salesParmTable_ds.object(fieldNum(SalesParmTable, CustomsShippingBillNumberTable_IN)).allowEdit(!salesParmUpdate.CustomsShippingBill_IN);
          #
          #        salesParmLine_ds.object(fieldNum(SalesParmLine, MaximumRetailPrice_IN)).allowEdit(localSalesTable.CustomsExportOrder_IN == NoYes::No);
          #    }
          #
          #    buttonPaymentSched.enabled(localSalesTable.PaymentSched != '');
          #
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, FixedDueDate)).allowEdit(localSalesTable.PaymentSched == '');
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, FixedDueDate)).skip(!(localSalesTable.PaymentSched == ''));
          #
          #    returnItem = localSalesTable.returnItem();
          #
          #    salesParmTable_ReturnPackingSlipId.allowEdit(returnItem);
          #    salesParmUpdate_ReduceOnHand.enabled(!returnItem);
          #    tablineDetails.allowEdit(!returnItem);
          #    billOfLading.enabled(!returnItem);
          #
          #    this.allowEditCorrectedFactureExternalId_RU();
          #    this.allowEditCorrectedInvoiceId_RU();
          #    this.setCorrFacture_RU();
          #    this.initCorrFactureDisplay_RU();
          #    this.allowEditTransportationPayer_RU();
          #    element.configBankLCControls();
          #
          #    if (countryRegion_BR)
          #    {
          #        this.allowEditFiscalInfo_BR(localSalesTable.hasIssueFiscalDocument_BR());
          #        salesParmTable_ds.object(fieldNum(SalesParmTable, Transdate)).allowEdit(BrazilParameters::find().ChronologicalInvoiceNumbering == false);
          #        element.enableFiscalDocument_BR();
          #    }
          #
          #    if (countryRegion_LTLV)
          #    {
          #        element.initDesign_LT();
          #    }
          #
          #    plInventPackageParmTable.enabled(! salesParmTable.ProjId);
          #    plInventPackageParmLine.enabled (! salesParmTable.ProjId);
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #allowEditCorrectedInvoiceId_RU
          #void allowEditCorrectedInvoiceId_RU(boolean _clearValues = false)
          #{
          #    if (_clearValues)
          #    {
          #        salesParmTable.CorrectedInvoiceId_RU   = '';
          #        salesParmTable.CorrectedInvoiceDate_RU = dateNull();
          #        salesParmTable.vatOnPayment_RU         = NoYes::No;
          #    }
          #
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedInvoiceId_RU)).enabled(salesParmTable.Correct_RU);
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedInvoiceDate_RU)).enabled(salesParmTable.Correct_RU);
          #}
          #
        ENDSOURCE
        SOURCE #allowEditCorrectedFactureExternalId_RU
          #void allowEditCorrectedFactureExternalId_RU(boolean _clearValues = false)
          #{
          #    if (_clearValues)
          #    {
          #        salesParmTable.CorrectedFactureExternalId_RU = '';
          #        salesParmTable.CorrectedFactureDate_RU       = dateNull();
          #        salesParmTable.CorrectedPeriod_RU            = dateNull();
          #    }
          #
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedFactureExternalId_RU)).enabled(salesParmTable.Correct_RU);
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedFactureDate_RU)).enabled(salesParmTable.Correct_RU);
          #    salesParmTable_ds.object(fieldNum(SalesParmTable, CorrectedPeriod_RU)).enabled(salesParmTable.Correct_RU);
          #}
          #
        ENDSOURCE
        SOURCE #initCorrectedInvoiceValues_RU
          #void initCorrectedInvoiceValues_RU()
          #{
          #    SalesLine           salesLine;
          #    CustInvoiceTrans    custInvoiceTrans;
          #    SalesParmLine       salesParmLineLocal;
          #    ;
          #
          #    if (salesParmTable.Correct_RU)
          #    {
          #        select firstonly salesLine
          #            where salesLine.InventTransIdReturn
          #        exists join salesParmLineLocal
          #            where salesParmLineLocal.SalesLineRecId == salesLine.RecId       &&
          #                  salesParmLineLocal.ParmId         == salesParmTable.ParmId &&
          #                  salesParmLineLocal.TableRefId     == salesParmTable.TableRefId;
          #
          #        if (salesLine)
          #        {
          #            custInvoiceTrans = CustInvoiceTrans::findInventTransid(salesLine.InventTransIdReturn);
          #            salesParmTable.CorrectedInvoiceId_RU   = custInvoiceTrans.InvoiceId;
          #            salesParmTable.CorrectedInvoiceDate_RU = custInvoiceTrans.InvoiceDate;
          #            this.initCorrectedInvoiceLines_RU();
          #            this.setCorrFacture_RU();
          #        }
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret = super();
          #
          #    if (salesEditLinesForm.showCorrectedFactureExternalId_RU())
          #    {
          #        ret = FactureJour_RU::checkCorrectionParameters(salesParmTable.CorrectedFactureExternalId_RU,
          #                                                        salesParmTable.CorrectedFactureDate_RU,
          #                                                        salesParmTable.Correct_RU,
          #                                                        salesParmTable.CorrectionType_RU) && ret;
          #    }
          #
          #    if (salesEditLinesForm.showCorrectedInvoiceId_RU())
          #    {
          #        ret = CustVendInvoiceJour::checkCorrectionParameters_RU(salesParmTable.CorrectedInvoiceId_RU,
          #                                                                salesParmTable.CorrectedInvoiceDate_RU,
          #                                                                salesParmTable.Correct_RU) && ret;
          #    }
          #
          #    return ret;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmSubTable
          Table               #SalesParmSubTable
          AllowEdit           #No
          AllowCreate         #No
          JoinSource          #SalesParmTable
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #delete
          #public void delete()
          #{
          #    super();
          #    element.reArrangeNow();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmLine
          Table               #SalesParmLine
          AllowCreate         #No
          JoinSource          #SalesParmTable
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD DeliveryName
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemId
            PROPERTIES
              AllowEdit           #No
              Skip                #Yes
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    element.updateDesign(InventDimFormDesignUpdate::FieldChange);
                #
                #    if (pdsFormCtrl)
                #    {
                #        pdsFormCtrl.fieldModified(fieldNum(SalesParmLine,ItemId));
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LineAmount
            PROPERTIES
              AllowEdit           #No
              Skip                #Yes
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ShipCarrierId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ShipCarrierAccount
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvMode
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvTerm
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PdsCWDeliverNow
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // Refresh UI after the standard CW modification logic (implemented by SalesParmLine table)
                #    // updated DeliverNow quantity according to value of PdsCWDeliverNow field changed by user.
                #    salesParmLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #pdsAdjustedNetAmount
          #public display PDSCalculatedLineAmount pdsAdjustedNetAmount(SalesParmLine _salesParmLine)
          #{
          #    if (!adjustedlineAmountCache.exists(_salesParmLine.RecId))
          #    {
          #        adjustedlineAmountCache.insert(_salesParmLine.RecId, PDSSalesParmLinePricingCalculation::findBySalesParmLine(_salesParmLine.RecId).displayCalculatedLineAmount());
          #    }
          #
          #    return adjustedlineAmountCache.lookup(_salesParmLine.RecId);
          #}
        ENDSOURCE
        SOURCE #editCorrName_RU
          #// BP Deviation documented
          #public edit Description editCorrName_RU(boolean _set, SalesParmLine _salesParmLine, Description _name)
          #{
          #    if (_set && ! _name)
          #    {
          #        SalesParmLineCorrLink_RU::clearLinks(_salesParmLine.RecId);
          #
          #        salesParmLineCorrLink_RU_DS.reread();
          #        salesParmLineCorrLink_RU_DS.active();
          #    }
          #
          #    return custInvoiceTransCorrected_RU.Name;
          #}
          #
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    if (!salesEditLinesForm.validateInventDimId(salesParmLine, inventDim))
          #    {
          #        ret = false;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #selectionChanged
          #public void selectionChanged()
          #{
          #    super();
          #
          #    // Overwrite interaction class logic if isVersioningCorrectionOrCancel == true
          #    if (isVersioningCorrectionOrCancel)
          #    {
          #        // Inventory button group
          #        wmsOrderAllowCreate.enabled(false);
          #        inventReserve.enabled(false);
          #
          #        // Update button group
          #        inventTransRegister.enabled(false);
          #        inventTransPick.enabled(false);
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    this.cacheAddMethod(tableMethodStr(SalesParmLine, deliveryDate));
          #    this.cacheAddMethod(tableMethodStr(SalesParmLine, packingSlipId));
          #
          #    if (pdsFormCtrl)
          #    {
          #        pdsFormCtrl.dataSourceInitPost(salesParmLine);
          #    }
          #}
        ENDSOURCE
        SOURCE #delete
          #public void delete()
          #{
          #    SalesId salesId;
          #    ParmId  parmId;
          #
          #    parmId  = salesParmLine.ParmId;
          #    salesId = salesParmLine.OrigSalesId;
          #
          #    super();
          #
          #    SalesParmSubTable::deleteIfNoParmLines(salesId,parmId);
          #    salesParmTable_ds.cacheCalculateMethod(tableMethodStr(SalesParmTable, checkIfLines_RU));
          #
          #    if (countryRegion_RU)
          #    {
          #        element.inventOwnerIdCheckFailed_RU();
          #    }
          #    salesParmSubTable_ds.research();
          #}
        ENDSOURCE
        SOURCE #write
          #void  write()
          #{
          #    boolean deliverNowChanged = salesParmLine.DeliverNow != salesParmLine.orig().DeliverNow;
          #
          #    // Write InventDim
          #    salesParmLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #
          #    super();
          #
          #    // Pull InventDim changes into form.
          #    if (salesParmLine.InventDimId != inventDim.InventDimId)
          #    {
          #        inventDim.data(InventDim::find(salesParmLine.InventDimId));
          #        inventDim_ds.setCurrent();
          #    }
          #
          #    editLinesChanged = true;
          #
          #    if (deliverNowChanged)
          #    {
          #        SalesShippingStat::createSalesShippingStat(salesParmLine.salesParmSubTable(), salesParmUpdate);
          #
          #
          #        if (isEasternEuropeAllandRU)
          #        {
          #            salesFormLetter.initOfficials_RU(salesParmTable);
          #            officialsTrans_RU_ds.executeQuery();
          #        }
          #
          #        if (countryRegion_RU)
          #        {
          #            element.inventOwnerIdCheckFailed_RU();
          #        }
          #
          #        salesShippingStat_ds.research();
          #    }
          #
          #}
        ENDSOURCE
        SOURCE #active
          #int active()
          #{
          #    int  ok;
          #    boolean allowEditScrap;
          #    boolean inventoried = salesParmLine.salesLine().isStocked();
          #
          #    salesEditLinesForm.setSalesParmLine(salesParmLine);
          #    salesParmLine_ds.allowEdit(true);
          #
          #    ok = super();
          #
          #    allowEditScrap = salesParmLine.DeliverNow < 0
          #        && documentStatus != DocumentStatus::PackingSlip
          #        && inventoried;
          #
          #    // Note that the PdsFromCtrl_SalesEditLines class updateDesign method extends the field enabling
          #    // functionality. Changes here might need to be ported to it as well.
          #    element.setFieldAccess_QtyNow();
          #    salesParmLine_ds.object(fieldNum(SalesParmLine, Scrap)).allowEdit(allowEditScrap);
          #    salesParmLine_ds.object(fieldNum(SalesParmLine, Scrap)).skip(!allowEditScrap);
          #    salesParmLine_ds.object(fieldNum(SalesParmLine, RemainBeforeInvent)).allowEdit(inventoried);
          #    salesParmLine_ds.object(fieldNum(SalesParmLine, RemainBeforeInvent)).skip(!inventoried);
          #    salesParmLine_ds.object(fieldNum(SalesParmLine, RemainAfterInvent)).allowEdit(inventoried);
          #    salesParmLine_ds.object(fieldNum(SalesParmLine, RemainAfterInvent)).skip(!inventoried);
          #    salesParmLine_ds.object(fieldNum(SalesParmLine, wmsOrder)).allowEdit(inventoried);
          #    salesParmLine_ds.object(fieldNum(SalesParmLine, wmsOrder)).skip(!inventoried);
          #
          #    if (pdsFormCtrl)
          #    {
          #        pdsFormCtrl.dataSourceActivePost();
          #    }
          #
          #    element.updateDesign(InventDimFormDesignUpdate::Active);
          #
          #    if (inventTrackingRegisterTrans.visible())
          #    {
          #        inventTrackingRegisterTrans.enabled(salesParmLine.inventTable().isActiveInSalesProcess());
          #    }
          #
          #    linekitvariantComponents.enabled(RetailKit::existByProductMaster(salesParmLine.inventTable().Product));
          #
          #    return ok;
          #}
          #
        ENDSOURCE
        SOURCE #editGiftCardId
          #public edit RetailGiftCardId editGiftCardId(boolean _set, RetailGiftCardId _retailGiftCardId)
          #{
          #    MCRSalesLine mcrSalesLine = salesParmLine.salesLine().mcrSalesLine();
          #
          #    if (_set
          #        && _retailGiftCardId
          #        && isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter))
          #        && MCRGiftCard::validateGiftCardSerialNum(_retailGiftCardId))
          #    {
          #        ttsbegin;
          #        mcrSalesLine.selectForUpdate(true);
          #        mcrSalesLine.GiftCardNumber = _retailGiftCardId;
          #        mcrSalesLine.update();
          #        ttscommit;
          #    }
          #    if (mcrSalesLine.GiftCardNumber)
          #    {
          #        return mcrSalesLine.GiftCardNumber;
          #    }
          #    else
          #    {
          #        return '';
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventDim
          Table               #InventDim
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesParmLine
          LinkType            #InnerJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD inventBatchId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = salesEditLinesForm.validateInventSerialBatchId(salesParmLine, inventDim);
                #
                #    ret = ret && super();
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (!salesEditLinesForm.lookupInventBatchId(_formControl, _filterStr, salesParmLine, inventDim))
                #    {
                #        super();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD inventSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = salesEditLinesForm.validateInventSerialBatchId(salesParmLine, inventDim);
                #
                #    ret = ret && super();
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (!salesEditLinesForm.lookupInventSerialId(_formControl, _filterStr, salesParmLine, inventDim))
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventGtdId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = salesEditLinesForm.validateInventGTDId_RU(salesParmLine, inventDim);
                #
                #    ret = ret && super();
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (!salesEditLinesForm.lookupInventGTDId_RU(_formControl, _filterStr, salesParmLine))
                #    {
                #        super();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventOwnerId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = salesEditLinesForm.validateInventOwnerId_RU(salesParmLine, inventDim);
                #
                #    ret = ret && super();
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (!salesEditLinesForm.lookupInventOwnerId_RU(_formControl, _filterStr, salesParmLine))
                #    {
                #        super();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    // written through salesParmLine_ds.write(), so do not call super().
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesShippingStat
          Table               #SalesShippingStat
          AllowCheck          #No
          JoinSource          #SalesParmTable
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #initValue
          #public void initValue()
          #{
          #    super();
          #    salesShippingStat.SalesId = salesParmTable.SalesId;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmSubLine
          Table               #SalesParmSubLine
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesParmLine
          LinkType            #Active
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #OfficialsTrans_RU
          Table               #OfficialsTrans_RU
          AllowCheck          #No
          AllowCreate         #No
          AllowDelete         #No
          AutoQuery           #No
          JoinSource          #SalesParmTable
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD Title
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    OfficialsTrans_RU.titleJumpRefCurrent();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    OfficialsTrans_RU.titleLookupCurrent(_formControl);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Name
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    boolean isCust = true;
                #    super();
                #    if (salesParmTable.InventProfileType_RU == InventProfileType_RU::CommissionPrincipalAgent &&
                #        salesParmTable.InventOwnerId_RU)
                #    {
                #        officialsTrans_RU.nameChanged(NoYes::No, NoYes::No);
                #    }
                #    else
                #    {
                #        if(officialsTrans_RU.Position == OffPosition_RU::TransRespCarrier &&
                #           bolCarrierType_RU.valueStr() == enum2str(CarrierType_W::Vendor) )
                #        {
                #            isCust = false;
                #        }
                #
                #        officialsTrans_RU.nameChanged(isCust);
                #    }
                #    officialsTrans_RU_ds.refresh();
                #}
                #
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (officialsTrans_RU.isOurGuy())
                #    {
                #        if (salesParmTable.InventProfileType_RU == InventProfileType_RU::CommissionPrincipalAgent &&
                #            salesParmTable.InventOwnerId_RU)
                #        {
                #            OfficialsTrans_RU::nameLookup(_formControl, false, "", officialsTrans_RU.CustVendRelation);
                #        }
                #        else
                #        {
                #            OfficialsTrans_RU::nameLookup(_formControl, true);
                #        }
                #    }
                #    else
                #    {
                #        if(officialsTrans_RU.Position == OffPosition_RU::TransRespCarrier)
                #        {
                #                switch(bolCarrierType_RU.valueStr())
                #                {
                #                case enum2Value(CarrierType_W::Customer) :
                #                    OfficialsTrans_RU::nameLookup(_formControl, false, bolCarrierCode_RU.valueStr(), "");
                #                    break;
                #                case enum2Value(CarrierType_W::Vendor) :
                #                    OfficialsTrans_RU::nameLookup(_formControl, false, "", bolCarrierCode_RU.valueStr());
                #                    break;
                #                case enum2Value(CarrierType_W::InvoiceAccount) :
                #                    OfficialsTrans_RU::nameLookup(_formControl, false, salesParmTable.salesTable().CustAccount, "");
                #                    break;
                #                }
                #        }
                #        else
                #        {
                #            OfficialsTrans_RU::nameLookup(_formControl, false, salesParmTable.salesTable().CustAccount, "");
                #        }
                #    }
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (isEasternEuropeAllandRU)
          #    {
          #        this.linkType(FormLinkType::Active);
          #    }
          #    super();
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret = super();
          #
          #    this.object(fieldNum(OfficialsTrans_RU, InvLocation)).allowEdit(officialsTrans_RU.invLocationEditable());
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #executeQuery
          #void executeQuery()
          #{
          #    OffReportType_RU    altType_1,
          #                        altType_2;
          #
          #    switch (salesParmTable.Ordering)
          #    {
          #        case DocumentStatus::PackingSlip :
          #        case DocumentStatus::Invoice :
          #            OfficialsTrans_RU::searchAccountIdx(officialsTrans_RU,
          #                                                salesParmTable.OffReportType_RU,
          #                                                salesParmTable.OffSessionId_RU);
          #            break;
          #        case DocumentStatus::Invoice4Paym_RU :
          #            OfficialsTrans_RU::searchAccountIdx(officialsTrans_RU,
          #                                                OffReportType_RU::SalesInvoice4Paym,
          #                                                salesParmTable.OffSessionId_RU);
          #            break;
          #        case DocumentStatus::Facture_RU      :
          #            switch (salesParmTable.OffReportType_RU)
          #            {
          #                case OffReportType_RU::SalesInvoice           :
          #                    altType_1 = OffReportType_RU::CustFacture;
          #                    altType_2 = OffReportType_RU::General;
          #                    break;
          #                case OffReportType_RU::SalesInvoiceCreditNote :
          #                    altType_1 = OffReportType_RU::CustFactureCreditNote;
          #                    altType_2 = OffReportType_RU::General;
          #                    break;
          #                case OffReportType_RU::SalesInvoiceM15        :
          #                    altType_1 = OffReportType_RU::CustFacture;
          #                    altType_2 = OffReportType_RU::CustFactureCreditNote;
          #                    break;
          #            }
          #
          #            OfficialsTrans_RU::searchAccountIdx(officialsTrans_RU,
          #                                                salesParmTable.OffReportType_RU,
          #                                                salesParmTable.OffSessionId_RU,
          #                                                altType_1,
          #                                                altType_2);
          #            break;
          #    }
          #
          #    if (salesParmTable)
          #    {
          #        super();
          #    }
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #EximSalesParmLine_IN
          Table               #EximSalesParmLine_IN
          Index               #SalesParmLineRecIdx
          AllowCheck          #No
          JoinSource          #SalesParmLine
          LinkType            #Passive
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ApplyDEPB
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    depb_MarketValue.allowEdit(eximSalesParmLine_IN.ApplyDEPB);
                #    depb_MarketValuePct.allowEdit(eximSalesParmLine_IN.ApplyDEPB);
                #    depb_AllowedMarketValue.allowEdit(eximSalesParmLine_IN.ApplyDEPB);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MarketValue
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    eximSalesParmLine_IN_ds.calcAllowedMarketValue();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MarketValuePct
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    eximSalesParmLine_IN_ds.calcAllowedMarketValue();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DBKCenvatStatus
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    boolean isDBKAllowedEdit;
                #
                #    super();
                #
                #    isDBKAllowedEdit = eximSalesParmLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None;
                #    dbkCustoms_CustomsTariffCodeTable.allowEdit(isDBKAllowedEdit);
                #    dutyDrawback_DBKRateType.allowEdit(isDBKAllowedEdit);
                #    dutyDrawback_DBKPercent.allowEdit(isDBKAllowedEdit);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD CustomsTariffCodeTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return CustomsTariffCodeTable_IN::resolveCustomsTariffCode(_formReferenceControl, Direction_IN::Export);
                #}
                #
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = CustomsTariffCodeTable_IN::lookupDirectionImportExport(_formReferenceControl, enum2str(Direction_IN::Export));
                #
                #    return ret;
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (countryRegion_IN)
          #    {
          #        this.linkType(FormLinkType::Active);
          #    }
          #    super();
          #}
        ENDSOURCE
        SOURCE #calcAllowedMarketValue
          #public void calcAllowedMarketValue()
          #{
          #    eximSalesParmLine_IN.AllowedMarketValue = (eximSalesParmLine_IN.MarketValue * eximSalesParmLine_IN.MarketValuePct) / 100;
          #}
          #
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (ret)
          #    {
          #        eximSalesParmLine_IN_ds.calcAllowedMarketValue();
          #
          #        element.enableEximFieldsActive_IN();
          #    }
          #
          #    return ret;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustAdvanceInvoiceTable
          Table               #CzCustAdvanceInvoiceTable
          AllowCheck          #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesParmTable
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #editMarkTrans
          #// BP Deviation documented
          #public edit NoYes editMarkTrans(boolean _set, CzCustAdvanceInvoiceTable _advanceInvoiceTable, NoYes _markTrans)
          #{
          #    return advanceInvoiceSettlement.markTrans(_advanceInvoiceTable, _set, _markTrans);
          #}
        ENDSOURCE
        SOURCE #editMarkAmount
          #// BP Deviation documented
          #public edit AmountCur editMarkAmount(boolean _set, CzCustAdvanceInvoiceTable _advanceInvoiceTable, AmountCur _markAmount)
          #{
          #    return advanceInvoiceSettlement.markTransAmount(_advanceInvoiceTable, _set, _markAmount);
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    QueryBuildDataSource qbds;
          #    boolean              isCountryRegionCZPLHU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ,#isoPL,#isoHU]);
          #
          #    if (isCountryRegionCZPLHU)
          #    {
          #        this.linkType(FormLinkType::Delayed);
          #    }
          #
          #    super();
          #
          #    if (isCountryRegionCZPLHU)
          #    {
          #        allowEditFieldsOnFormDS_W(custAdvanceInvoiceTable_DS, false);
          #
          #        qbds = custAdvanceInvoiceTable_DS.query().dataSourceTable(tableNum(CzCustAdvanceInvoiceTable));
          #        findOrCreateRange_W(qbds, fieldNum(CzCustAdvanceInvoiceTable, Status), SysQuery::valueNot(CzAdvanceInvoiceStatus::Closed)).status(RangeStatus::Locked);
          #        findOrCreateRange_W(qbds, fieldNum(CzCustAdvanceInvoiceTable, Posted), SysQuery::value(NoYes::Yes)).status(RangeStatus::Locked);
          #        findOrCreateRange_W(qbds, fieldNum(CzCustAdvanceInvoiceTable, Type),   queryRangeConcat(SysQuery::value(AdvanceInvoiceType_W::Common),
          #                                                                                         AdvanceInvoiceType_W::CreditNote)).status(RangeStatus::Locked);
          #        findOrCreateRange_W(qbds, fieldNum(CzCustAdvanceInvoiceTable, CustPostingProfile), SysQuery::valueNotEmptyString()).status(RangeStatus::Locked);
          #
          #        qbds = qbds.addDataSource(tableNum(SalesParmSubTable));
          #        qbds.joinMode(JoinMode::ExistsJoin);
          #        qbds.addLink(fieldNum(CzCustAdvanceInvoiceTable, SalesId),
          #                     fieldNum(SalesParmSubTable,         OrigSalesId));
          #
          #        qbds.addDynalink(fieldNum(SalesParmSubTable, ParmId),
          #                       salesParmTable,
          #                       fieldNum(SalesParmTable, ParmId));
          #
          #        custAdvanceInvoiceTable_ds.cacheAddMethod(tableMethodStr(CzCustAdvanceInvoiceTable, amountCurOpen));
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmTableExtensionCN
          Table               #SalesParmTableExtension_CN
          JoinSource          #SalesParmTable
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    if (CustParameters::isTaxIntegrationSystem_CN())
          #    {
          #        salesParmTableExtensionCN_ds.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustInvoiceTransCorrected_RU
          Table               #CustInvoiceTrans
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesParmLineCorrLink_RU
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    //super();
          #}
          #
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    return true;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmLineCorrLink_RU
          Table               #SalesParmLineCorrLink_RU
          JoinSource          #SalesParmLine
          LinkType            #Passive
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (salesParmLineCorrLink_RU.CorrTransRecId)
          #    {
          #        super();
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (countryRegion_RU)
          #    {
          #        custInvoiceTransCorrected_RU_DS.executeQuery();
          #    }
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    if (!salesParmLineCorrLink_RU.SalesParmLineRecId)
          #    {
          #        if (!salesParmLine.RecId)
          #        {
          #            salesParmLine_DS.write();
          #        }
          #        salesParmLineCorrLink_RU.SalesParmLineRecId = salesParmLine.RecId;
          #    }
          #
          #    return true;
          #}
          #
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    if (countryRegion_RU)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmUpdateCC
          Table               #SalesParmUpdateCC
          JoinSource          #SalesParmUpdate
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD TransID
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesTableCC                salesTableCC;
                #    ;
                #    super();
                #
                #    select CurrencyCode,AmountCur from salesTableCC
                #        where salesTableCC.TransID == salesParmUpdateCC.TransID
                #        && salesTableCC.CreditCardTrxType == CreditCardTrxType::A;
                #
                #    salesParmUpdateCC.CurrencyCode   = salesTableCC.CurrencyCode;
                #    salesParmUpdateCC.AmountCur     = salesTableCC.AmountCur;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    //super(_formControl, _filterStr);
                #    CreditCardTrans::lookupTransForAuth(_formControl,salesParmUpdateCC);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #initValue
          #public void initValue()
          #{
          #    super();
          #
          #    salesParmUpdateCC.SalesId       = salesParmTable.SalesId;
          #    salesParmUpdateCC.ParmId        = salesParmUpdate.ParmId;
          #    salesParmUpdateCC.DocumentStatus = salesParmUpdate.DocumentStatus;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventSiteGateEntryLineView_IN
          Table               #InventSiteGateEntryLineView_IN
          JoinSource          #SalesParmLine_IN
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #/// <summary>
          #/// Perform validations on initialize of current datasource.
          #/// </summary>
          #public void init()
          #{
          #    super();
          #
          #    if (InventParameters::isEnableGateManagement_IN())
          #    {
          #        qbrInventSiteGateEntryLine = this.query().dataSourceTable(tableNum(InventSiteGateEntryLineView_IN)).addRange(fieldNum(InventSiteGateEntryLineView_IN, InventSiteGateEntryLine));
          #    }
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #/// <summary>
          #/// Perform validations on execute query of current datasource.
          #/// </summary>
          #// <GIN>
          #public void executeQuery()
          #{
          #    if (InventParameters::isEnableGateManagement_IN())
          #    {
          #        qbrInventSiteGateEntryLine.value(SysQuery::value(SalesParmLine_IN.InventSiteGateEntryLine));
          #    }
          #
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmLine_IN
          Table               #SalesParmLine_IN
          Index               #SalesParmLineIdx
          JoinSource          #SalesParmLine
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD InventSiteGateEntryLine
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return InventSiteGateEntryControllerHelper_IN::lookupGateEntryLine(_formReferenceControl, tableNum(SalesLine), SalesParmLine.SalesLineRecId);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #validateWrite
          #/// <summary>
          #/// This method is same as sys layer.
          #/// </summary>
          #/// <returns>
          #///  Return true if validates oderwise false.
          #/// </returns>
          #// <GIN>
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    return ret;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #init
          #/// <summary>
          #/// Initialize <c>SalesParmLine_IN</c> form datasource.
          #/// </summary>
          #// <GIN>
          #public void init()
          #{
          #    SalesFormLetter         salesFormLetterLoc;
          #    DocumentStatus          documentStatusLoc;
          #    if (countryRegion_IN && element.args().caller())
          #    {
          #        salesFormLetterLoc = element.args().caller();
          #        documentStatusLoc = salesFormLetterLoc.documentStatus();
          #
          #        if (countryRegion_IN && documentStatusLoc == DocumentStatus::PackingSlip)
          #        {
          #            SalesParmLine_IN_ds.linkType(FormLinkType::OuterJoin);
          #        }
          #    }
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesParmUpdate_IN
          Table               #SalesParmUpdate_IN
          JoinSource          #SalesParmUpdate
          LinkType            #Passive
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #/// <summary>
          #/// Only write the child table if the country context is set to one that the table has fields linked to and the child table has the parent FK set.
          #/// </summary>
          #// <GIN>
          #public void write()
          #{
          #    if (countryRegion_IN && SalesParmUpdate_IN.SalesParmUpdate!= 0)
          #    {
          #        super();
          #    }
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #init
          #/// <summary>
          #/// Switch the link type as fields appear in the grid that require an outerjoin.
          #/// </summary>
          #// <GIN>
          #public void init()
          #{
          #    if (countryRegion_IN)
          #    {
          #        if (SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesParmUpdate_IN)))
          #        {
          #            this.linkType(FormLinkType::OuterJoin);
          #        }
          #    }
          #
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
    SalesParmSubTable SalesParmTable
    SalesParmLine SalesParmTable
    InventDim SalesParmLine
    SalesShippingStat SalesParmTable
    SalesParmSubLine SalesParmLine
    OfficialsTrans_RU SalesParmTable
    EximSalesParmLine_IN SalesParmLine
    CustAdvanceInvoiceTable SalesParmTable
    SalesParmTableExtensionCN SalesParmTable
    CustInvoiceTransCorrected_RU SalesParmLineCorrLink_RU
    SalesParmLineCorrLink_RU SalesParmLine
    SalesParmUpdateCC SalesParmUpdate
    InventSiteGateEntryLineView_IN SalesParmLine_IN
    SalesParmLine_IN SalesParmLine
    SalesParmUpdate_IN SalesParmUpdate
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@SYS12919
      HideIfEmpty         #No
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #HeadingActionPane
          AutoDeclaration     #Yes
          ElementPosition     #671088638
          HierarchyParent     #TabOverview
          Style               #Strip
          DataSource          #SalesParmTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #HeadingActionPane_RU
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #536870910
          HierarchyParent     #TabOverview
          Style               #Strip
          DataSource          #SalesParmTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #LineActionPane
          ElementPosition     #1073741822
          HierarchyParent     #TabSalesParmLines
          Style               #Strip
          DataSource          #SalesParmLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #HeadingActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #HeadingActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #HeadingActionPaneTab_RU
          ElementPosition     #1431655764
          HierarchyParent     #HeadingActionPane_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #LineActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #LineActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup
          Left                #Auto (right)
          Top                 #Bottom edge
          ElementPosition     #1610612733
          ArrangeMethod       #Horizontal, flush right
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupSetup
          AutoDeclaration     #Yes
          ElementPosition     #1952257860
          HierarchyParent     #TabSetup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GroupParametersButtonGroup
          ElementPosition     #1610612733
          HierarchyParent     #groupParameters
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #HeadingButtonGroup
          ElementPosition     #1431655764
          HierarchyParent     #HeadingActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #HeadingButtonGroup_RU
          ElementPosition     #1431655764
          HierarchyParent     #HeadingActionPaneTab_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InventoryButtonGroup
          ElementPosition     #1476395005
          HierarchyParent     #LineActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineButtonGroup
          ElementPosition     #1073741822
          HierarchyParent     #LineActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LinePackagesButtonGroup
          CountryRegionCodes  #PL
          ElementPosition     #1879048189
          HierarchyParent     #LineActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #AdvanceInvoicesGrid_W
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #TabAdvanceInvoices_W
          MultiSelect         #No
          ShowRowLabels       #No
          DataSource          #CustAdvanceInvoiceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #GridCreditCard
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GroupCCGrid
          DataSource          #SalesParmUpdateCC
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #gridSalesParmSubTable
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #TabSalesParmSubTable
          DataSource          #SalesParmSubTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Heading
          Width               #Column width
          Height              #Column height
          ElementPosition     #1140850685
          HierarchyParent     #TabOverview
          VisibleRows         #8
          DataSource          #SalesParmTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #check
            #//BP Deviation documented
            #display NoYes check(SalesParmTable _salesParmTable)
            #{
            #    if (SalesParmLine::existTableRefId(_salesParmTable.ParmId, _salesParmTable.TableRefId))
            #    {
            #        return NoYes::Yes;
            #    }
            #
            #    return NoYes::No;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #OfficialsGrid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #Officials_RU
          VisibleRows         #5
          DataSource          #OfficialsTrans_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #SalesParmSubLinesGrid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #TabSalesParmSubLine
          DataSource          #SalesParmSubLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Shipping
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GroupShipments
          VisibleRows         #5
          DataSource          #SalesShippingStat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Trans
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612734
          HierarchyParent     #TabSalesParmLines
          VisibleRows         #8
          DataSource          #SalesParmLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Address_RU
          Width               #Column width
          ElementPosition     #1574821340
          HierarchyParent     #tabBillOfLading_RU
          Caption             #@SYS7566
          DataSource          #SalesParmTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankManagement
          AutoDeclaration     #Yes
          ElementPosition     #976128930
          HierarchyParent     #TabSetup
          FrameType           #None
          DataSource          #SalesParmTable
          DataGroup           #BankManagement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BillOfLading
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #TabPageBillOfLading
          DataSource          #SalesParmUpdate
          DataGroup           #BillOfLading
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BOLLicenseCard_RU
          ElementPosition     #858993458
          HierarchyParent     #tabBillOfLading_RU
          DataSource          #SalesParmTable
          DataGroup           #BOLLicenseCard_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BOLTransportation_RU
          ElementPosition     #1288490187
          HierarchyParent     #tabBillOfLading_RU
          DataSource          #SalesParmTable
          DataGroup           #BOLTransportation_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Compiler
          ElementPosition     #858993458
          HierarchyParent     #tabPageTransportationDocument
          DataSource          #SalesParmUpdate
          DataGroup           #Compiler
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CorrectedLine_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #2028178999
          HierarchyParent     #TabLineDetails
          Caption             #@SYS4081837
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Correction_RU
          ElementPosition     #1717986916
          HierarchyParent     #Extra_RU
          Caption             #@SYS13069
          DataSource          #SalesParmTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DBKCustoms
          ElementPosition     #715827882
          HierarchyParent     #TabLineIncentiveScheme
          DataSource          #EximSalesParmLine_IN
          DataGroup           #Customs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Delivery
          ElementPosition     #1503238548
          HierarchyParent     #TabLineDetails
          DataSource          #SalesParmLine
          DataGroup           #Delivery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DEPB
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #TabLineIncentiveScheme
          DataSource          #EximSalesParmLine_IN
          DataGroup           #DEPB
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DutyDrawback
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #TabLineIncentiveScheme
          DataSource          #EximSalesParmLine_IN
          DataGroup           #DutyDrawback
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoice_MX
          AutoDeclaration     #Yes
          CountryRegionCodes  #MX
          ElementPosition     #1431655764
          HierarchyParent     #tabPageParameters
          Caption             #@SYS341961
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EntryCertificate_W
          ElementPosition     #2147308883
          HierarchyParent     #Heading
          BackgroundColor     #Window background
          DataSource          #SalesParmTable
          DataGroup           #EntryCertificate_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EximIncentiveScheme
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #TabLineIncentiveScheme
          Caption             #@GLS61737
          DataSource          #EximSalesParmLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GateInformation
          ElementPosition     #613566756
          HierarchyParent     #GateEntryDetails_IN
          DataSource          #InventSiteGateEntryLineView_IN
          DataGroup           #GateInformation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #General
          ElementPosition     #1227133512
          HierarchyParent     #GateEntryDetails_IN
          DataSource          #InventSiteGateEntryLineView_IN
          DataGroup           #General
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Giro
          AutoDeclaration     #Yes
          ConfigurationKey    #CustGiro
          ElementPosition     #1073741823
          HierarchyParent     #tabPageParameters
          Caption             #@SYS2723
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GoodsReceived_RU
          ElementPosition     #858993458
          HierarchyParent     #Extra_RU
          DataSource          #SalesParmTable
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
          DataGroup           #GoodsReceived_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridSalesEditLines
          ElementPosition     #1717986916
          HierarchyParent     #AdvanceInvoicesGrid_W
          BackgroundColor     #Window background
          DataSource          #CustAdvanceInvoiceTable
          DataGroup           #GridSalesEditLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupAmounts
          ElementPosition     #1610612733
          HierarchyParent     #TabCreditCard
          Caption             #@SYS75670
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCCGrid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
          HierarchyParent     #TabCreditCard
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupDates
          AutoDeclaration     #Yes
          ElementPosition     #390451572
          HierarchyParent     #TabSetup
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #groupParameters
          ElementPosition     #536870911
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupPostponeVAT
          AutoDeclaration     #Yes
          CountryRegionCodes  #CZ
          ElementPosition     #260301048
          HierarchyParent     #TabSetup
          DataSource          #SalesParmTable
          DataGroup           #PostponeVAT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupPrintExcise_IN
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #IN
          ElementPosition     #2124586793
          HierarchyParent     #PrintCheckboxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #groupSetup
          ElementPosition     #1073741822
          HierarchyParent     #tabPageOther
          Caption             #@SYS2186
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupShipments
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ConfigurationKey    #SalesShipments
          ElementPosition     #780903144
          HierarchyParent     #TabSetup
          Caption             #@SYS50395
          DataSource          #SalesShippingStat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #groupSumSalesGroup
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #tabPageOther
          Caption             #@SYS24079
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #groupUpdate
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #tabPageParameters
          Caption             #@SYS7755
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Invent
          ElementPosition     #644245092
          HierarchyParent     #TabLineDetails
          Caption             #@SYS981
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventoryDimensions
          ElementPosition     #1145324608
          HierarchyParent     #Trans
          BackgroundColor     #Window background
          DataSource          #InventDim
          DataGroup           #InventoryDimensions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventOwner_RU
          ElementPosition     #1757032074
          HierarchyParent     #TabSetup
          FrameType           #None
          DataSource          #SalesParmTable
          DataGroup           #InventOwner_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventOwnerIdCheckFailed_RU
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #RU
          ElementPosition     #1610612733
          HierarchyParent     #TabOverview
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventProfile_RU
          ElementPosition     #1366580502
          HierarchyParent     #TabSetup
          FrameType           #None
          DataSource          #SalesParmTable
          DataGroup           #InventProfile_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LadingAddress
          ElementPosition     #715827882
          HierarchyParent     #Address_RU
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MarketGroup
          Enabled             #No
          ElementPosition     #1717986912
          HierarchyParent     #TabLineDetails
          Caption             #@MCR22032
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRGiftCardGroup
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #TabLineDetails
          Caption             #@MCR30166
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Measurement
          ElementPosition     #1533916890
          HierarchyParent     #GateEntryDetails_IN
          DataSource          #InventSiteGateEntryLineView_IN
          DataGroup           #Measurement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #OrderLine
          AutoDeclaration     #Yes
          ElementPosition     #1288490184
          HierarchyParent     #TabLineDetails
          Caption             #@SYS22920
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Packagingmaterial
          ConfigurationKey    #InventPackaging
          ElementPosition     #1073741820
          HierarchyParent     #TabLineDetails
          DataSource          #SalesParmLine
          DataGroup           #PackagingMaterial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PackingSlip
          ElementPosition     #429496728
          HierarchyParent     #TabLineDetails
          DataSource          #SalesParmLine
          DataGroup           #PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PdsMRCDocHandle
          ConfigurationKey    #PdsMRC
          ElementPosition     #1073741823
          HierarchyParent     #tabPageParameters
          Caption             #@PDS933
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Posting_RU
          ElementPosition     #1171354716
          HierarchyParent     #TabSetup
          FrameType           #None
          DataSource          #SalesParmTable
          DataGroup           #Posting_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Price_IN
          AutoDeclaration     #Yes
          ElementPosition     #1908874352
          HierarchyParent     #TabLineDetails
          DataSource          #SalesParmLine
          DataGroup           #Price_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PrintCheckboxGroup
          AutoDeclaration     #Yes
          ElementPosition     #1380525201
          HierarchyParent     #PrintGroup
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PrintDocumentSet_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1879048189
          HierarchyParent     #PrintGroup
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PrintGroup
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #tabPageParameters
          Caption             #@SYS70732
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesReturn_BR
          AutoDeclaration     #Yes
          ElementPosition     #2049870753
          HierarchyParent     #TabSetup
          Caption             #@GLS56
          DataSource          #SalesParmTable
          DataGroup           #SalesReturn_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TareCheck
          ElementPosition     #1840700268
          HierarchyParent     #GateEntryDetails_IN
          DataSource          #InventSiteGateEntryLineView_IN
          DataGroup           #TareCheck
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TransportationParty
          ElementPosition     #1288490187
          HierarchyParent     #tabPageTransportationDocument
          Caption             #@SYS333156
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TransportationPartyAdditionalInfo
          ElementPosition     #1717986916
          HierarchyParent     #tabPageTransportationDocument
          Caption             #@SYS333152
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TransportationPayer_RU
          ElementPosition     #2004318069
          HierarchyParent     #tabBillOfLading_RU
          DataSource          #SalesParmTable
          DataGroup           #TransportationPayer_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TransportInformation
          ElementPosition     #920350134
          HierarchyParent     #GateEntryDetails_IN
          DataSource          #InventSiteGateEntryLineView_IN
          DataGroup           #TransportInformation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TransportInvoice_RU
          ElementPosition     #1861152493
          HierarchyParent     #tabBillOfLading_RU
          DataSource          #SalesParmTable
          DataGroup           #TransportInvoice_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #UnladingAddress
          ElementPosition     #1431655764
          HierarchyParent     #Address_RU
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VATInfoCN
          AutoDeclaration     #Yes
          CountryRegionCodes  #CN
          ElementPosition     #585677358
          HierarchyParent     #TabSetup
          DataSource          #SalesParmTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VATOnPayment_RU
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #Extra_RU
          DataSource          #SalesParmTable
          DataGroup           #VATOnPayment_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VehicleInformation_BR
          ElementPosition     #1610612733
          HierarchyParent     #TabPageBillOfLading
          DataSource          #SalesParmUpdate
          DataGroup           #VehicleInformation_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WarehouseManagement
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #TabLineDetails
          DataSource          #SalesParmLine
          DataGroup           #WarehouseManagement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonLineInventory
          AutoDeclaration     #Yes
          HelpText            #@SYS69645
          ElementPosition     #1073741823
          HierarchyParent     #InventoryButtonGroup
          Text                #@SYS981
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonLineInventoryConfirmSMB
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@SYS69645
          ElementPosition     #1193046470
          HierarchyParent     #InventoryButtonGroup
          Text                #@SYS981
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonLineInventoryPickingSMB
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@SYS69645
          ElementPosition     #1312351117
          HierarchyParent     #InventoryButtonGroup
          Text                #@SYS981
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripSalesLine
          HelpText            #@SYS69510
          ElementPosition     #715827882
          HierarchyParent     #InventoryButtonGroup
          Text                #@SYS123905
          ButtonDisplay       #Text & Image left
          NormalImage         #11046
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripUpdate
          HelpText            #@SYS28285
          ElementPosition     #1789569705
          HierarchyParent     #InventoryButtonGroup
          Text                #@SYS58728
          ButtonDisplay       #Text & Image left
          NormalImage         #12545
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #MenuButtonFunction
          HelpText            #@SYS69438
          ElementPosition     #1073741822
          HierarchyParent     #ButtonGroupSetup
          Text                #@SYS10340
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    buttonSetupPaymFormat.enabled(CustPaymModeTable::find(salesParmTable.salesTable().PaymMode).ExportOnInvoice);
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #PrinterSettings
          AutoDeclaration     #Yes
          HelpText            #@SYS26485
          ElementPosition     #1610612730
          HierarchyParent     #GroupParametersButtonGroup
          Text                #@SYS25740
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    buttonPrintFormletter.enabled    (printFormletter.value());
            #    buttonPrintFormletterCopy.enabled(printFormletter.value());
            #    buttonPrintCODLabel.enabled      (printCODLabelChoice);
            #    buttonShippingStat.enabled       (printShippingLabelChoice);
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Compiler_Compiler
          ElementPosition     #1431655764
          HierarchyParent     #Compiler
          DataSource          #SalesParmUpdate
          ReferenceField      #Compiler
          LabelPosition       #Above
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #DBKCustoms_CustomsTariffCodeTable
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #DBKCustoms
          DataSource          #EximSalesParmLine_IN
          ReferenceField      #CustomsTariffCodeTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesParmLine_IN_EximPorts
          ElementPosition     #1073741822
          HierarchyParent     #EximIncentiveScheme
          DataSource          #EximSalesParmLine_IN
          ReferenceField      #EximPorts
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesParmLine_IN_EximProductGroupTable
          ElementPosition     #1610612733
          HierarchyParent     #EximIncentiveScheme
          DataSource          #EximSalesParmLine_IN
          ReferenceField      #EximProductGroupTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #InventSiteGateEntryLine
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #2147123198
          HierarchyParent     #Trans
          DataSource          #SalesParmLine_IN
          ReferenceField      #InventSiteGateEntryLine
          ReplacementFieldGroup #GateEntry
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #InventTransferTable_LadingPostalAddress_RU
          ElementPosition     #1073741822
          HierarchyParent     #LadingAddress
          DataSource          #SalesParmTable
          ReferenceField      #LadingPostalAddress_RU
          ReplacementFieldGroup #LocationReference
          Label               #@GLS116002
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #InventTransferTable_UnladingPostalAddress_RU
          ElementPosition     #1073741822
          HierarchyParent     #UnladingAddress
          DataSource          #SalesParmTable
          ReferenceField      #UnladingPostalAddress_RU
          ReplacementFieldGroup #LocationReference
          Label               #@GLS115977
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #OrderLine_SalesCategory
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #OrderLine
          DataSource          #SalesParmLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesParmLine_SalesCategory
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesParmTable_BankLCExportLine
          ElementPosition     #1968526670
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          ReferenceField      #BankLCExportLine
          ReplacementFieldGroup #LookupIdentification
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesParmTable_CustomsShippingBillNumberTable_IN
          AutoDeclaration     #Yes
          ElementPosition     #2143289342
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          ReferenceField      #CustomsShippingBillNumberTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesParmTable_FiscalDocumentType_BR
          AllowEdit           #No
          ElementPosition     #2145386494
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          ReferenceField      #FiscalDocumentType_BR
          ReplacementFieldGroup #FiscalDocumentTypeReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesParmTableExtensionCN_VATInvoiceDescTable
          ElementPosition     #1431655764
          HierarchyParent     #VATInfoCN
          DataSource          #SalesParmTableExtensionCN
          ReferenceField      #VATInvoiceDescTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesParmUpdate_CustomsShippingBillNumberTable_IN
          AutoDeclaration     #Yes
          ElementPosition     #1879048185
          HierarchyParent     #groupUpdate
          DataSource          #SalesParmUpdate
          ReferenceField      #CustomsShippingBillNumberTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #tabParameters
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #groupParameters
          DataSource          #SalesParmUpdate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #TabSalesParmTable
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #Extra_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #715827880
          HierarchyParent     #TabSalesParmTable
          Caption             #@GLS100835
          DataSource          #SalesParmTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #GateEntryDetails_IN
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #IN
          ElementPosition     #2143289342
          HierarchyParent     #TabSalesParmTable
          Caption             #@SYP4860294
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #Officials_RU
          AutoDeclaration     #Yes
          ElementPosition     #894784850
          HierarchyParent     #TabSalesParmTable
          Caption             #@GLS102112
          DataSource          #OfficialsTrans_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabAdvanceInvoices_W
          AutoDeclaration     #Yes
          CountryRegionCodes  #CZ,HU,PL
          ElementPosition     #2139095038
          HierarchyParent     #TabSalesParmTable
          Caption             #@GLS107924
          DataSource          #CustAdvanceInvoiceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #tabBillOfLading_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1964332369
          HierarchyParent     #TabSalesParmTable
          Caption             #@SYS50700
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabCreditCard
          ElementPosition     #2130706430
          HierarchyParent     #TabSalesParmTable
          Caption             #@ACC30
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineDetails
          AutoDeclaration     #Yes
          ElementPosition     #1091637517
          HierarchyParent     #TabSalesParmTable
          Caption             #@SYS23823
          DataSource          #SalesParmLine
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
          TabAutoChange       #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #    mcrGiftCardGroup.visible(salesEditLinesForm.mcrGiftCard(salesParmLine)
            #            && salesParmLine.salesLine().mcrSalesLine().GiftCardType == MCRGiftCardType::Physical);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineIncentiveScheme
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1789569700
          HierarchyParent     #TabSalesParmTable
          Caption             #@GLS62041
          DataSource          #EximSalesParmLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabOverview
          AutoDeclaration     #Yes
          ElementPosition     #429496728
          HierarchyParent     #TabSalesParmTable
          Caption             #@SYS9039
          DataSource          #SalesParmTable
          TabAutoChange       #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageBillOfLading
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #tabParameters
          Caption             #@SYS50700
          DataSource          #SalesParmUpdate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #tabPageLateSelection
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1533916890
          HierarchyParent     #tabParameters
          Caption             #@SYS59973
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #tabPageOther
          AutoDeclaration     #Yes
          ElementPosition     #920350134
          HierarchyParent     #tabParameters
          Caption             #@SYS1284
          DataSource          #SalesParmUpdate
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #tabPageParameters
          ElementPosition     #613566756
          HierarchyParent     #tabParameters
          Caption             #@SYS7764
          DataSource          #SalesParmUpdate
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
          TabAutoChange       #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #tabPageTransportationDocument
          AutoDeclaration     #Yes
          CountryRegionCodes  #IT
          ElementPosition     #1840700268
          HierarchyParent     #tabParameters
          Caption             #@SYS333054
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabSalesParmLines
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #TabSalesParmTable
          Caption             #@SYS15451
          DataSource          #SalesParmLine
          TabAutoChange       #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabSalesParmSubLine
          AutoDeclaration     #Yes
          ElementPosition     #1288490184
          HierarchyParent     #TabSalesParmTable
          Caption             #@SYS11549
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabSalesParmSubTable
          AutoDeclaration     #Yes
          ElementPosition     #1503238548
          HierarchyParent     #TabSalesParmTable
          Caption             #@SYS4363
          DataSource          #SalesParmSubTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabSetup
          ElementPosition     #644245092
          HierarchyParent     #TabSalesParmTable
          Caption             #@sys2186
          DataSource          #SalesParmTable
          TabAutoChange       #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonEntryCertificate_W
          AutoDeclaration     #Yes
          HelpText            #@SYS4004104
          ElementPosition     #1968526675
          HierarchyParent     #PrinterSettings
          Text                #@SYS4004104
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    SalesFormLetter::callPrinterSettingsEntryCertificate_W(salesFormLetter);
            #    element.updatePrintOut(salesFormLetter.printerSettingsCODLabel());
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonPrintCODLabel
          AutoDeclaration     #Yes
          HelpText            #@SYS55144
          ElementPosition     #1431655764
          HierarchyParent     #PrinterSettings
          Text                #@SYS24545
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    SalesFormLetter::callPrinterSettingsCODLabel(salesFormLetter);
            #    element.updatePrintOut(salesFormLetter.printerSettingsCODLabel());
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonPrintExcise_IN
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #IN
          HelpText            #@SYS317857
          ElementPosition     #2101689942
          HierarchyParent     #PrintCheckboxGroup
          Text                #@SYP4860187
          ButtonDisplay       #Text & Image left
          NormalImage         #7887
          ImageLocation       #EmbeddedResource
          Border              #None
          BackStyle           #Transparent
          Style               #Link
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    SalesTable localSalesTable;
            #
            #    #define.ExpandRest('7887')
            #    #define.ExpandHover('7886')
            #    #define.ExpandPressed('7885')
            #    #define.ExpandDisabled('7884')
            #    #define.CollapseRest('7883')
            #    #define.CollapseHover('7882')
            #    #define.CollapsePressed('7881')
            #    #define.CollapseDisabled('7880')
            #
            #    #define.EmbeddedResource(2);
            #
            #    element.lockWindowUpdate(true);
            #
            #    ButtonPrintExcise_IN.imageLocation(#EmbeddedResource);
            #
            #    if (!GroupPrintExcise_IN.visible())
            #    {
            #        ButtonPrintExcise_IN.normalImage("7883");
            #        // ButtonPrintExcise.text(#LessLabel);
            #
            #        if(TaxParameters::isExciseEnable_IN())
            #        {
            #            localSalesTable = salesParmTable.salesTable();
            #
            #            if (localSalesTable.isExcisable_IN())
            #            {
            #                PrintExciseFormLetter.enabled(true);
            #                ExciseInvoiceAddress.enabled(true);
            #            }
            #        }
            #
            #        GroupPrintExcise_IN.visible(true);
            #    }
            #    else
            #    {
            #        ButtonPrintExcise_IN.normalImage("7887");
            #        // moreFewerButton.text(#MoreLabel);
            #
            #        GroupPrintExcise_IN.visible(false);
            #    }
            #
            #    element.lockWindowUpdate(false);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonPrintFormletter
          AutoDeclaration     #Yes
          HelpText            #@SYS78469
          ElementPosition     #715827882
          HierarchyParent     #PrinterSettings
          Text                #@SYS5864
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    SalesFormLetter::callPrinterSettingsFormletter(salesFormLetter,PrintSetupOriginalCopy::Original);
            #    element.updatePrintOut(salesFormLetter.printerSettingsFormletter(PrintSetupOriginalCopy::Original));
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonPrintFormletterCopy
          AutoDeclaration     #Yes
          HelpText            #@SYS93925
          ElementPosition     #1073741823
          HierarchyParent     #PrinterSettings
          Text                #@SYS93921
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    SalesFormLetter::callPrinterSettingsFormletter(salesFormLetter,PrintSetupOriginalCopy::Copy);
            #    element.updatePrintOut(salesFormLetter.printerSettingsFormletter(PrintSetupOriginalCopy::Copy));
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonReArrange
          AutoDeclaration     #Yes
          HelpText            #@SYS85420
          ElementPosition     #644245092
          HierarchyParent     #GroupParametersButtonGroup
          Text                #@SYS27118
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #    element.reArrange();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonSetupPaymFormat
          AutoDeclaration     #Yes
          HelpText            #@SYS83557
          ElementPosition     #1431655764
          HierarchyParent     #MenuButtonFunction
          Text                #@sys79393
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    CustVendPaymInvoiceWithJournal::promptOutPaym(ModuleCustVend::Cust, salesParmTable.salesTable().PaymMode);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonShippingStat
          AutoDeclaration     #Yes
          HelpText            #@SYS54104
          ConfigurationKey    #SalesShipments
          ElementPosition     #1789569705
          HierarchyParent     #PrinterSettings
          Text                #@SYS54104
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    SalesFormLetter::callPrinterSettingsShippingLabel(salesFormLetter);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #Choose
          AutoDeclaration     #Yes
          HelpText            #@SYS85423
          ElementPosition     #1073741820
          HierarchyParent     #GroupParametersButtonGroup
          Text                #@SYS2245
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #
            #    if (!salesFormLetter.lateSelectionRemoveLines())
            #        return;
            #
            #    salesFormLetter.initParameters(salesParmUpdate.data(),
            #                                   print_Combo.selection(),
            #                                   printFormletter.value(),
            #                                   printCODLabelChoice,
            #                                   printShippingLabelChoice,
            #                                   usePrintManagement.value(),
            #                                   true
            #                                   // <GIN>
            #                                   ,printexciseformletter.value()
            #                                   // </GIN>
            #                                   );
            #
            #    //<GMX>
            #    if (EInvoiceParameters_MX::isElectronicInvoiceEnabled())
            #    {
            #        salesFormLetter.parmSendByMail_MX(sendByMail_MX.value());
            #    }
            #    //</GMX>
            #
            #    salesFormLetter.editLinesChanged(editLinesChanged);
            #    salesFormLetter.reArrangeNow(reArrangeNow);
            #    salesFormLetter.showQueryForm(true);
            #
            #    salesFormLetter.initLinesQuery();
            #
            #    if (salesParmUpdate.LateSelection)
            #    {
            #        salesParmUpdate.LateSelectionQuery = salesFormLetter.parmQueryUsed().pack();
            #
            #        element.initQuery();
            #    }
            #    else
            #    {
            #        salesParmUpdate.LateSelection = false;
            #    }
            #
            #    element.chooseTable(true);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #AdvanceInvoice_MarkTrans
          ElementPosition     #858993458
          HierarchyParent     #AdvanceInvoicesGrid_W
          BackgroundColor     #Window background
          Label               #@SYS68094
          DataSource          #CustAdvanceInvoiceTable
          DataMethod          #editMarkTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CreditRemaining
          ElementPosition     #1342177275
          HierarchyParent     #groupSetup
          DataSource          #SalesParmUpdate
          DataField           #CreditRemaining
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lateSelection
          AutoDeclaration     #Yes
          ElementPosition     #1193046470
          HierarchyParent     #groupUpdate
          DataSource          #SalesParmUpdate
          DataField           #lateSelection
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PdsMRCPostingError
          AutoDeclaration     #Yes
          HelpText            #@PDS747
          ConfigurationKey    #PdsMRC
          ElementPosition     #1073741823
          HierarchyParent     #PdsMRCDocHandle
          Label               #@PDS746
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PdsMRCPrintOnPack
          AutoDeclaration     #Yes
          HelpText            #@PDS749
          ElementPosition     #1610612734
          HierarchyParent     #PdsMRCDocHandle
          Label               #@PDS748
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintAcceptanceReport_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ConfigurationKey    #LedgerBasic
          ElementPosition     #1518422780
          HierarchyParent     #PrintCheckboxGroup
          Label               #@GLS107020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintBillOfLading_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          HelpText            #@GLS111080
          ConfigurationKey    #SalesShipments
          ElementPosition     #1872721428
          HierarchyParent     #PrintCheckboxGroup
          Label               #@SYS50700
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintCODLabel
          AutoDeclaration     #Yes
          AllowEdit           #No
          Skip                #Yes
          HelpText            #@SYS17200
          ElementPosition     #1227133512
          HierarchyParent     #PrintCheckboxGroup
          Label               #@SYS26071
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    printCODLabelChoice = printCODLabel.value();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintDocuSet
          AutoDeclaration     #Yes
          HelpText            #@SYS4082751
          ElementPosition     #1073741822
          HierarchyParent     #PrintDocumentSet_TH
          Label               #@SYS4082749
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    if (printDocuSet.value())
            #    {
            #        documentSet.allowEdit(true);
            #    }
            #    else
            #    {
            #        documentSet.allowEdit(false);
            #    }
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintEntryCertificate_W
          AutoDeclaration     #Yes
          AllowEdit           #No
          Skip                #Yes
          HelpText            #@SYS4004145
          ElementPosition     #2078793091
          HierarchyParent     #PrintCheckboxGroup
          Label               #@SYS4004144
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintExciseFormLetter
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          Enabled             #No
          HelpText            #@SYP4860188
          ElementPosition     #1073741822
          HierarchyParent     #GroupPrintExcise_IN
          Label               #@SYP4860187
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintFacture_RU
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #RU
          ConfigurationKey    #LedgerBasicSalesTax
          ElementPosition     #1084587700
          HierarchyParent     #PrintCheckboxGroup
          Label               #@GLS105031
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintFormLetter
          AutoDeclaration     #Yes
          HelpText            #@SYS17200
          ElementPosition     #613566756
          HierarchyParent     #PrintCheckboxGroup
          Label               #@SYS12608
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    super();
            #
            #    element.setFieldAccess();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintInMST_RU
          AutoDeclaration     #Yes
          ElementPosition     #1533916890
          HierarchyParent     #PrintGroup
          DataSource          #SalesParmUpdate
          DataField           #PrintInMST_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintInventBaileeReport_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ConfigurationKey    #LogisticsBasic
          ElementPosition     #1735340320
          HierarchyParent     #PrintCheckboxGroup
          Label               #@GLS115580
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintShippingLabel
          AutoDeclaration     #Yes
          AllowEdit           #No
          Skip                #Yes
          HelpText            #@SYS17200
          ConfigurationKey    #SalesShipments
          ElementPosition     #1533916890
          HierarchyParent     #PrintCheckboxGroup
          Label               #@SYS54103
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    printShippingLabelChoice = printShippingLabel.value();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #PrintTransportInvoice_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          HelpText            #@GLS221923
          ElementPosition     #2010102537
          HierarchyParent     #PrintCheckboxGroup
          Label               #@GLS221931
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Reserve
          ElementPosition     #1879048185
          HierarchyParent     #groupSetup
          DataSource          #SalesParmUpdate
          DataField           #Reserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesParmLine_Closed
          AutoDeclaration     #Yes
          ElementPosition     #2145124350
          HierarchyParent     #Trans
          BackgroundColor     #Window background
          Label               #@SYS18742
          DataSource          #SalesParmLine
          DataField           #closed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesParmLine_Scrap
          AutoDeclaration     #Yes
          ElementPosition     #2146041854
          HierarchyParent     #Trans
          BackgroundColor     #Window background
          DataSource          #SalesParmLine
          DataField           #Scrap
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesParmTable_PrintBlankDate_LT
          ElementPosition     #2146784594
          HierarchyParent     #Heading
          BackgroundColor     #Window background
          DataSource          #SalesParmTable
          DataField           #PrintBlankDate_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesParmTable_PrintOverdueFineTxt_FR
          ElementPosition     #2147134120
          HierarchyParent     #Heading
          BackgroundColor     #Window background
          DataSource          #SalesParmTable
          DataField           #PrintOverdueFineTxt_FR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesParmUpdate_CustomsShippingBill_IN
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #groupUpdate
          DataSource          #SalesParmUpdate
          DataField           #CustomsShippingBill_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    super();
            #
            #    salesParmUpdate_CustomsShippingBillNumberTable_IN.enabled(salesParmUpdate.CustomsShippingBill_IN);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesParmUpdate_ReduceOnHand
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #groupUpdate
          DataSource          #SalesParmUpdate
          DataField           #ReduceOnHand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesParmUpdate_StornoPhysical_RU
          ElementPosition     #1610612730
          HierarchyParent     #groupSetup
          DataSource          #SalesParmUpdate
          DataField           #StornoPhysical_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SendByMail_MX
          AutoDeclaration     #Yes
          HelpText            #@SYS84424
          ElementPosition     #1431655764
          HierarchyParent     #EInvoice_MX
          Label               #@SYS94049
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Storno
          ElementPosition     #1073741820
          HierarchyParent     #groupSetup
          DataSource          #SalesParmUpdate
          DataField           #Storno
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #updateNow
          AutoDeclaration     #Yes
          HelpText            #@SYS25649
          ElementPosition     #715827882
          HierarchyParent     #groupUpdate
          Label               #@SYS78937
          DataSource          #SalesParmUpdate
          DataMethod          #updateNow
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    if (ret)
            #    {
            #        print_Combo.enabled(updateNow.value());
            #        if (updateNow.value())
            #        {
            #            print_Combo.selection(salesFormLetter.printout());
            #            printFacture_RU.enabled(true);
            #        }
            #        else
            #        {
            #            print_Combo.selection(Printout::Current);
            #            if (salesParmTable.Correct_RU)
            #            {
            #                printFacture_RU.enabled(false);
            #                printFacture_RU.value(false);
            #            }
            #        }
            #    }
            #
            #    element.enabledDisabledPrintEntryCertificate_W();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #UsePrintManagement
          AutoDeclaration     #Yes
          HelpText            #@SYS93923
          ElementPosition     #920350134
          HierarchyParent     #PrintCheckboxGroup
          Label               #@SYS93922
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    super();
            #
            #    element.setFieldAccess();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #BOLCarrierType_RU
          AutoDeclaration     #Yes
          ElementPosition     #357913940
          HierarchyParent     #BOLTransportation_RU
          DataSource          #SalesParmTable
          DataField           #BOLCarrierType_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    element.officialsRebuilding();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #CorrectionType_RU
          AutoDeclaration     #Yes
          ElementPosition     #469762046
          HierarchyParent     #Correction_RU
          DataSource          #SalesParmTable
          DataField           #CorrectionType_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesParmTable.Correct_RU = salesParmTable.CorrectionType_RU != FactureCorrectionType_RU::Unknown;
            #    salesParmTable_ds.object(fieldNum(SalesParmTable, Correct_RU)).modified();
            #
            #    salesParmTable_ds.initCorrFactureDisplay_RU();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #CreditMax
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #groupSetup
          DataSource          #SalesParmUpdate
          DataField           #CheckCreditMax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #CustInvoicePrintoutType_RU
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #PrintGroup
          EnumType            #CustInvoicePrintoutType_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean         ret = super();
            #
            #    //force officials rebuilding
            #    element.officialsRebuilding();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #DutyDrawback_DBKRateType
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #DutyDrawback
          DataSource          #EximSalesParmLine_IN
          DataField           #DBKRateType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseInvoiceAddress
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          Enabled             #No
          HelpText            #@SYP4860269
          ElementPosition     #1610612734
          HierarchyParent     #GroupPrintExcise_IN
          Label               #@SYP4860324
          DataSource          #SalesParmUpdate_IN
          DataField           #ExciseInvoiceAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #FiscalDocType_PL
          AutoDeclaration     #Yes
          CountryRegionCodes  #PL
          ElementPosition     #920350134
          HierarchyParent     #PrintGroup
          EnumType            #PlFiscalDocType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #giroType
          AutoDeclaration     #Yes
          HelpText            #@SYS85428
          ElementPosition     #1431655764
          HierarchyParent     #Giro
          DataSource          #SalesParmUpdate
          DataField           #GiroType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #isRealizedVAT_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1646404124
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataMethod          #isRealizedVAT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #OfficialsTrans_Position
          ElementPosition     #477218588
          HierarchyParent     #OfficialsGrid
          DataSource          #OfficialsTrans_RU
          DataField           #Position
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Print_Combo
          AutoDeclaration     #Yes
          HelpText            #@SYS12608
          ElementPosition     #939524094
          HierarchyParent     #PrintGroup
          Label               #@SYS920
          EnumType            #Printout
        ENDPROPERTIES
        
        METHODS
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    ret = ret & salesFormLetter.checkPrintOut(this.selection());
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesParmTable_InventProfileType_RU
          AutoDeclaration     #Yes
          ElementPosition     #2073663895
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #InventProfileType_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesParmTable_InvoicePostingType_RU
          ElementPosition     #2046820349
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #InvoicePostingType_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesParmTable_Ordering
          AutoDeclaration     #Yes
          ElementPosition     #1521134245
          HierarchyParent     #Heading
          Selection           #255
          DisplayLength       #15
          DataSource          #SalesParmTable
          DataField           #Ordering
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesParmUpdate_CustomsExportOrderType_IN
          ElementPosition     #858993458
          HierarchyParent     #groupSumSalesGroup
          DataSource          #SalesParmUpdate
          DataField           #CustomsExportOrderType_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesParmUpdate_MCRPrintMiscCharges
          AutoDeclaration     #Yes
          ElementPosition     #1840700268
          HierarchyParent     #PrintCheckboxGroup
          DataSource          #SalesParmUpdate
          DataField           #MCRPrintMiscCharges
        ENDPROPERTIES
        
        METHODS
          SOURCE #selectionChange
            #public int selectionChange()
            #{
            #    int ret;
            #    MCRMiscChargePrintOption mcrMiscChargePrintOption;
            #
            #    ret = super();
            #    //  Set the misc charge print option value of SalesFormLetter.
            #
            #    salesFormLetter.mcrMiscChargePrintOption(str2enum(mcrMiscChargePrintOption, this.valueStr()));
            #
            #    return ret;
            #}
            #
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #specQty
          AutoDeclaration     #Yes
          ElementPosition     #402653182
          HierarchyParent     #groupUpdate
          DataSource          #SalesParmUpdate
          DataField           #SpecQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SumBy
          AutoDeclaration     #Yes
          HelpText            #@SYS24079
          ElementPosition     #1288490187
          HierarchyParent     #groupSumSalesGroup
          Selection           #1
          Label               #@SYS25665
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesParmUpdate.SumBy = salesEditLinesForm.sumBySelection2Index(sumBy.selection());
            #    element.sumByChanged(false);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #Cancel
          ElementPosition     #1288490187
          HierarchyParent     #ButtonGroup
          Command             #264
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteHeaderButton
          ElementPosition     #1610612733
          HierarchyParent     #HeadingButtonGroup
          Text                #@SYS321870
          ButtonDisplay       #Text & Image below
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          MultiSelect         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteHeaderButton_RU
          ElementPosition     #1610612733
          HierarchyParent     #HeadingButtonGroup_RU
          Text                #@SYS321870
          ButtonDisplay       #Text & Image below
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          MultiSelect         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteLineButton
          ElementPosition     #1431655764
          HierarchyParent     #LineButtonGroup
          Text                #@SYS21354
          ButtonDisplay       #Text & Image below
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          MultiSelect         #Yes
          NeedsRecord         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewHeaderButton
          ElementPosition     #1073741822
          HierarchyParent     #HeadingButtonGroup
          ButtonDisplay       #Text & Image below
          NormalImage         #11045
          ImageLocation       #EmbeddedResource
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewHeaderButton_RU
          ElementPosition     #1073741822
          HierarchyParent     #HeadingButtonGroup_RU
          ButtonDisplay       #Text & Image below
          NormalImage         #11045
          ImageLocation       #EmbeddedResource
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #OK
          ElementPosition     #858993458
          HierarchyParent     #ButtonGroup
          DefaultButton       #Yes
          Command             #263
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #CorrectedLineInvoiceDate_RU
          CountryRegionCodes  #RU
          ElementPosition     #1193046470
          HierarchyParent     #CorrectedLine_RU
          DataSource          #CustInvoiceTransCorrected_RU
          DataField           #InvoiceDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Correction_RU_CorrectedFactureDate_RU
          ElementPosition     #1364546894
          HierarchyParent     #Correction_RU
          DataSource          #SalesParmTable
          DataField           #CorrectedFactureDate_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesParmTable_ds.initCorrFactureDisplay_RU();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Correction_RU_CorrectedInvoiceDate_RU
          ElementPosition     #917154470
          HierarchyParent     #Correction_RU
          DataSource          #SalesParmTable
          DataField           #CorrectedInvoiceDate_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesParmTable_ds.initVATOnPayment_RU();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Correction_RU_CorrectedPeriod_RU
          ElementPosition     #1588243106
          HierarchyParent     #Correction_RU
          DataSource          #SalesParmTable
          DataField           #CorrectedPeriod_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Group_InvoiceDate
          ElementPosition     #805306365
          HierarchyParent     #GridSalesEditLines
          DataSource          #CustAdvanceInvoiceTable
          DataField           #InvoiceDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #lastRevisionDate_RU
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1979711483
          HierarchyParent     #Correction_RU
          Label               #@SYS4081869
          DataMethod          #lastRevisionDate_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #RespiteDate
          ElementPosition     #805306365
          HierarchyParent     #groupSetup
          LookupButton        #Always
          DataSource          #SalesParmUpdate
          DataField           #RespiteDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesParmLine_DeliveryDate
          AutoDeclaration     #Yes
          ElementPosition     #572662304
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataMethod          #deliveryDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesParmTable_CashDiscBaseDate
          ElementPosition     #1073741823
          HierarchyParent     #GroupDates
          DataSource          #SalesParmTable
          DataField           #CashDiscBaseDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesParmTable_DocumentDate
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #GroupDates
          DataSource          #SalesParmTable
          DataField           #DocumentDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesParmTable_FixedDueDate
          AutoDeclaration     #Yes
          ElementPosition     #1386916521
          HierarchyParent     #GroupDates
          DataSource          #SalesParmTable
          DataField           #FixedDueDate
        ENDPROPERTIES
        
        METHODS
          SOURCE #enter
            #public void enter()
            #{
            #    super();
            #
            #    priorDueDate = this.dateValue();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesParmTable_SalesInvSaleDate_PL
          AutoDeclaration     #Yes
          ElementPosition     #1789569704
          HierarchyParent     #GroupDates
          DataSource          #SalesParmTable
          DataField           #SalesDate_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesParmTable_Transdate
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #GroupDates
          DataSource          #SalesParmTable
          DataField           #Transdate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesParmTable_Transdate_W
          AutoDeclaration     #Yes
          CountryRegionCodes  #CZ,EE,HU,LT,LV,PL,RU
          ElementPosition     #245426700
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #Transdate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesParmTable_VatDueDate_W
          AutoDeclaration     #Yes
          ElementPosition     #1700091219
          HierarchyParent     #GroupDates
          DataSource          #SalesParmTable
          DataField           #VatDueDate_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #lastRevisionNum_RU
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1811939322
          HierarchyParent     #Correction_RU
          Label               #@SYS4081870
          DataMethod          #lastRevisionNum_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #Nolabels
          ElementPosition     #1932735276
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #Nolabels
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonBatch
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #ButtonGroup
          MenuItemType        #Action
          MenuItemName        #BatchDialog
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonDeliverySalesTax_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #1700091215
          HierarchyParent     #GroupParametersButtonGroup
          MenuItemName        #TaxTransSourceDeliverySlip_BR
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    boolean  reArrangeOk = true;
            #
            #    if (reArrangeNow  &&  salesParmUpdate.numberOfTables() > 1)
            #    {
            #        if (Box::yesNo("@SYS75237", DialogButton::Yes))
            #        {
            #            reArrangeOk = element.reArrange();
            #        }
            #    }
            #
            #    if (reArrangeOk)
            #    {
            #        DeliverySlipTotals_Parm_BR::showTax(menuitemDisplayStr(TaxTransSourceDeliverySlip_BR), salesParmTable,salesParmUpdate.SpecQty);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonDeliverySalesTotals_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #984263335
          HierarchyParent     #GroupParametersButtonGroup
          DataSource          #SalesParmTable
          MenuItemName        #DeliverySalesTotals_BR
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    Args        args        = new Args();
            #    boolean     reArrangeOk = true;
            #
            #    if (reArrangeNow  &&  salesParmUpdate.numberOfTables() > 1)
            #    {
            #        if (Box::yesNo("@SYS71216", DialogButton::Yes))
            #            reArrangeOk = element.reArrange();
            #    }
            #
            #    if (reArrangeOk)
            #    {
            #        args.caller(element);
            #
            #        args.parmEnumType(enumNum(SalesUpdate));
            #        args.parmEnum(salesParmUpdate.SpecQty);
            #
            #        args.record(salesParmTable);
            #
            #        this.menufunction().run(args);
            #    }
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonPaymentSched
          AutoDeclaration     #Yes
          ElementPosition     #1252698790
          HierarchyParent     #GroupParametersButtonGroup
          SaveRecord          #No
          DataSource          #SalesParmTable
          MenuItemName        #CustPaymSchedule
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    CustVendPaymSched  custVendPaymSched;
            #
            #    if (! CustPaymSched::exist(salesParmTable.TableId,salesParmTable.RecId))
            #    {
            #        custVendPaymSched = CustVendPaymSched::construct(SysModule::Cust,salesParmTable);
            #
            #        if (specQty.selection() == SalesUpdate::All && CustPaymSched::exist(salesParmTable.salesTable().TableId, salesParmTable.salesTable().RecId))
            #        {
            #            custVendPaymSched.copyCustVendPaymSched(CustPaymSched::find(salesParmTable.salesTable().TableId, salesParmTable.salesTable().RecId));
            #        }
            #        else
            #        {
            #            custVendPaymSched.copyPaymSched(PaymSched::find(salesParmTable.salesTable().PaymentSched));
            #            salesParmTable.createPaymentSched();
            #        }
            #    }
            #
            #    super();
            #}
            #
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonSalesShippingLine
          AutoDeclaration     #Yes
          ElementPosition     #1431655760
          HierarchyParent     #GroupParametersButtonGroup
          DataSource          #SalesParmTable
          MenuItemName        #SalesShippingLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonSalesTotals
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #GroupParametersButtonGroup
          DataSource          #SalesParmTable
          MenuItemName        #SalesTotals
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    Args        args        = new Args();
            #    boolean     reArrangeOk = true;
            #
            #    if (reArrangeNow  &&  salesParmUpdate.numberOfTables() > 1)
            #    {
            #        if (Box::yesNo("@SYS71216", DialogButton::Yes))
            #            reArrangeOk = element.reArrange();
            #    }
            #
            #    if (reArrangeOk)
            #    {
            #        args.caller(element);
            #
            #        args.parmEnumType(enumNum(SalesUpdate));
            #        args.parmEnum(salesParmUpdate.SpecQty);
            #
            #        args.record(salesParmTable);
            #
            #        this.menufunction().run(args);
            #    }
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonSelectJournal
          AutoDeclaration     #Yes
          ElementPosition     #429496728
          HierarchyParent     #GroupParametersButtonGroup
          DataSource          #SalesParmUpdate
          MenuItemName        #SalesJournalSelect_PackingSlip
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // <GEERU>
            #    #ISOCountryRegionCodes
            #    // </GEERU>
            #
            #    salesFormLetter.initParameters(salesParmUpdate.data(),
            #                                   print_Combo.selection(),
            #                                   printFormletter.value(),
            #                                   printCODLabelChoice,
            #                                   printShippingLabelChoice,
            #                                   usePrintManagement.value(),
            #                                   true
            #                                   // <GIN>
            #                                   ,printexciseformletter.value()
            #                                   // </GIN>
            #                                   );
            #
            #    // <GEERU>
            #    if (countryRegion_RU)
            #    {
            #        salesFormLetter.printFacture_RU(printFacture_RU.value());
            #        salesFormLetter.parmCustInvoicePrintoutType_RU(custInvoicePrintoutType_RU.selection());
            #        salesFormLetter.printAcceptanceReport_RU(printAcceptanceReport_RU.value());
            #        salesFormLetter.printBillOfLading_RU(printBillOfLading_RU.value() && salesEditLinesForm.billOfLading());
            #    }
            #    // </GEERU>
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustomsExportAssessableValue_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1968526670
          HierarchyParent     #GroupParametersButtonGroup
          DataSource          #SalesParmTable
          MenuItemName        #CustomsExportAssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustomsShippingBillDetails_IN
          AutoDeclaration     #Yes
          Visible             #No
          Left                #Right edge
          Enabled             #No
          ElementPosition     #1431655764
          HierarchyParent     #InventoryButtonGroup
          DataSource          #SalesParmLine
          MenuItemName        #CustomsShippingBillDetails_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustomsShippingBillNumber_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1789569700
          HierarchyParent     #GroupParametersButtonGroup
          Text                #@GLS5778
          MenuItemName        #CustomsShippingBillNumberTable_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args args;
            #
            #    args = new Args();
            #    args.caller(element);
            #
            #    new MenuFunction(menuitemDisplayStr(CustomsShippingBillNumberTable_IN), MenuItemType::Display).run(args);
            #    //super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyLadingAddressEdit_RU
          ElementPosition     #1610612733
          HierarchyParent     #LadingAddress
          ButtonDisplay       #Image only
          MenuItemName        #DirPartyLadingAddressEdit_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyLadingAddressNew_RU
          ElementPosition     #1622543198
          HierarchyParent     #LadingAddress
          ButtonDisplay       #Image only
          MenuItemName        #DirPartyLadingAddressNew_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyUnladingAddressEdit_RU
          ElementPosition     #1610612733
          HierarchyParent     #UnladingAddress
          ButtonDisplay       #Image only
          MenuItemName        #DirPartyUnladingAddressSelect_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyUnladingAddressNewBOL_RU
          ElementPosition     #1879048189
          HierarchyParent     #UnladingAddress
          ButtonDisplay       #Image only
          MenuItemName        #DirPartyUnladingAddressNewBOL_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #FiscalReference_BR
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #BR
          ElementPosition     #1610612733
          HierarchyParent     #ButtonGroupSetup
          MenuItemName        #FiscalReference_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimParmFixed
          Left                #Right edge
          ElementPosition     #1610612734
          HierarchyParent     #LineStripSalesLine
          MenuItemName        #InventDimParmFixed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventLot
          AutoDeclaration     #Yes
          ElementPosition     #1717986914
          HierarchyParent     #ButtonLineInventory
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventOnhand
          AutoDeclaration     #Yes
          ElementPosition     #1503238549
          HierarchyParent     #ButtonLineInventory
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventOnhand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventOnhandConfirmSMB
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #ButtonLineInventoryConfirmSMB
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventOnhand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventOnhandPickingSMB
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #ButtonLineInventoryPickingSMB
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventOnhand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventReserve
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #ButtonLineInventory
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventReservePickingSMB
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #ButtonLineInventoryPickingSMB
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTrackingRegisterTrans
          AutoDeclaration     #Yes
          ElementPosition     #1932735281
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesParmLine
          MenuItemName        #InventTrackingRegisterTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTrans
          AutoDeclaration     #Yes
          ElementPosition     #1932735279
          HierarchyParent     #ButtonLineInventory
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransConfirmSMB
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #ButtonLineInventoryConfirmSMB
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransPick
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #LineStripUpdate
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventTransPick
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransPickingSMB
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #ButtonLineInventoryPickingSMB
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransRegister
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #LineStripUpdate
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #InventTransRegister
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args    args;
            #    FormRun formRun;
            #
            #    args = new Args(formStr(InventTransRegister));
            #    args.caller(element);
            #    args.record(salesParmLine);
            #
            #    formRun = classfactory.formRunClass(args);
            #    formRun.init();
            #    formRun.run();
            #    formRun.wait(true);
            #
            #    salesParmLine.modifiedDeliverNow();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineKitVariantComponents
          AutoDeclaration     #Yes
          HelpText            #@REX1120
          ElementPosition     #2040109462
          HierarchyParent     #ButtonLineInventory
          Text                #@REX1120
          DataSource          #SalesParmLine
          MenuItemName        #RetailKitVariantComponents
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineKitVariantComponentsConfirmSMB
          AutoDeclaration     #Yes
          HelpText            #@REX1120
          ElementPosition     #1879048185
          HierarchyParent     #ButtonLineInventoryConfirmSMB
          Text                #@REX1120
          DataSource          #SalesParmLine
          MenuItemName        #RetailKitVariantComponents
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineKitVariantComponentsPickingSMB
          AutoDeclaration     #Yes
          HelpText            #@REX1120
          ElementPosition     #1879048185
          HierarchyParent     #ButtonLineInventoryPickingSMB
          Text                #@REX1120
          DataSource          #SalesParmLine
          MenuItemName        #RetailKitVariantComponents
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsBatchAttribReserve
          AutoDeclaration     #Yes
          ElementPosition     #743359720
          HierarchyParent     #ButtonLineInventory
          MenuItemName        #PdsBatchAttribReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsResetDispositionStatus
          ElementPosition     #1073741823
          HierarchyParent     #InventoryButtonGroup
          MultiSelect         #Yes
          DataSource          #SalesParmLine
          MenuItemType        #Action
          MenuItemName        #PdsResetDispositionStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlInventPackageParmLine
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #LinePackagesButtonGroup
          ButtonDisplay       #Text & Image left
          DataSource          #SalesParmLine
          MenuItemName        #PlInventPackageParm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlInventPackageParmTable
          AutoDeclaration     #Yes
          ElementPosition     #2058005158
          HierarchyParent     #GroupParametersButtonGroup
          DataSource          #SalesParmTable
          MenuItemName        #PlInventPackageParm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TaxForms_IN
          ElementPosition     #1968526674
          HierarchyParent     #LineStripSalesLine
          ShowShortCut        #No
          MultiSelect         #No
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #TransitDocumentSalesTaxForm_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TaxTransSource
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #GroupParametersButtonGroup
          MenuItemName        #TaxTransSourceSalesOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    boolean  reArrangeOk = true;
            #
            #    if (reArrangeNow  &&  salesParmUpdate.numberOfTables() > 1)
            #    {
            #        if (Box::yesNo("@SYS75237", DialogButton::Yes))
            #        {
            #            reArrangeOk = element.reArrange();
            #        }
            #    }
            #
            #    if (reArrangeOk)
            #    {
            #        SalesTotals_ParmTrans::showTax(menuitemDisplayStr(TaxTmpWorkSalesOrder), salesParmTable,salesParmUpdate.SpecQty
            #            , this.formRun()
            #            , documentStatus
            #            );
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WMSOrderAllowCreate
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #ButtonLineInventory
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #WMSOrderAllowCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WMSOrderAllowCreateConfirmSMB
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #ButtonLineInventoryConfirmSMB
          NeedsRecord         #Yes
          DataSource          #SalesParmLine
          MenuItemName        #WMSOrderAllowCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #AdvanceInvoice_MarkedAmount
          ElementPosition     #1288490187
          HierarchyParent     #AdvanceInvoicesGrid_W
          Label               #@SYS114018
          DataSource          #CustAdvanceInvoiceTable
          DataMethod          #editMarkAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #AmountRemaining
          ElementPosition     #1610612733
          HierarchyParent     #GroupAmounts
          Label               #@SYS78228
          DataSource          #SalesParmUpdateCC
          DataMethod          #AmountRemaining
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #CartonsQty
          ElementPosition     #1288490184
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #CartonsQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #CorrectedLineLineNum_RU
          CountryRegionCodes  #RU
          ElementPosition     #1431655764
          HierarchyParent     #CorrectedLine_RU
          DataSource          #CustInvoiceTransCorrected_RU
          DataField           #LineNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #CorrectedLineQty_RU
          CountryRegionCodes  #RU
          ElementPosition     #1670265058
          HierarchyParent     #CorrectedLine_RU
          DataSource          #CustInvoiceTransCorrected_RU
          DataField           #Qty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #CorrectedLineSalesPrice_RU
          CountryRegionCodes  #RU
          ElementPosition     #1908874352
          HierarchyParent     #CorrectedLine_RU
          DataSource          #CustInvoiceTransCorrected_RU
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DEPB_AllowedMarketValue
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #DEPB
          DataSource          #EximSalesParmLine_IN
          DataField           #AllowedMarketValue
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DEPB_MarketValue
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #DEPB
          DataSource          #EximSalesParmLine_IN
          DataField           #MarketValue
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DEPB_MarketValuePct
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #DEPB
          DataSource          #EximSalesParmLine_IN
          DataField           #MarketValuePct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DutyDrawback_DBKPercent
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #DutyDrawback
          DataSource          #EximSalesParmLine_IN
          DataField           #DBKPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #GrossWeight
          ElementPosition     #858993456
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #GrossWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Group_InvoiceAmount
          ElementPosition     #1342177275
          HierarchyParent     #GridSalesEditLines
          DataSource          #CustAdvanceInvoiceTable
          DataField           #InvoiceAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Group_M_amountCurOpen
          AllowEdit           #No
          ElementPosition     #1610612730
          HierarchyParent     #GridSalesEditLines
          DataSource          #CustAdvanceInvoiceTable
          DataMethod          #amountCurOpen
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #NetWeight
          ElementPosition     #644245092
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #NetWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #pdsAdjustedNetAmount
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #2143748094
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataMethod          #pdsAdjustedNetAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #QtyToPickInSalesUnit
          AutoDeclaration     #Yes
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #2004318064
          HierarchyParent     #Trans
          Label               #@SYS5014
          DataSource          #SalesParmLine
          DataMethod          #QtyToPickInSalesUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Quantity
          ElementPosition     #1717986912
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #Quantity
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_AssessableValue_IN
          AutoDeclaration     #Yes
          ElementPosition     #2144206846
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataField           #AssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_DeliverNow
          AutoDeclaration     #Yes
          ElementPosition     #2139095038
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataField           #DeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_InventNow
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #Invent
          DataSource          #SalesParmLine
          DataField           #InventNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_InventQtyCorrection
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #Invent
          Label               #@SYS323404
          DataSource          #SalesParmLine
          DataMethod          #inventQtyCorrection
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_LineAmount
          AutoDeclaration     #Yes
          ElementPosition     #2143289342
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_PdsCWDeliverNow
          ElementPosition     #1360072972
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataField           #PdsCWDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_PdsCWDeliverNow1
          ElementPosition     #1342177278
          HierarchyParent     #Invent
          DataSource          #SalesParmLine
          DataField           #PdsCWDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_PdsCWQtyCorrection
          AutoDeclaration     #Yes
          HelpText            #@SYS4000148
          ElementPosition     #1395864366
          HierarchyParent     #Trans
          Label               #@SYS4000147
          DataSource          #SalesParmLine
          DataMethod          #pdsCWQtyCorrection
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_PdsCWRemainAfterInvent
          ElementPosition     #1879048190
          HierarchyParent     #Invent
          DataSource          #SalesParmLine
          DataField           #PdsCWRemainAfterInvent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_RemainAfterInvent
          ElementPosition     #1717986916
          HierarchyParent     #Invent
          DataSource          #SalesParmLine
          DataField           #RemainAfterInvent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmLine_SalesQtyCorrection
          AutoDeclaration     #Yes
          HelpText            #@SYS331642
          ElementPosition     #1431655760
          HierarchyParent     #Trans
          Label               #@SYS323404
          DataSource          #SalesParmLine
          DataMethod          #salesQtyCorrection
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmSubLine_InventNow
          ElementPosition     #1717986916
          HierarchyParent     #SalesParmSubLinesGrid
          DataSource          #SalesParmSubLine
          DataField           #InventNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmSubLine_ReceiveNow
          ElementPosition     #1288490187
          HierarchyParent     #SalesParmSubLinesGrid
          DataSource          #SalesParmSubLine
          DataField           #DeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesParmUpdateCC_AmountCur
          ElementPosition     #1288490187
          HierarchyParent     #GridCreditCard
          DataSource          #SalesParmUpdateCC
          DataField           #AmountCur
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesShippingStat_VolumeQty_BR
          ElementPosition     #2141891240
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #VolumeQty_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #TotalAmt
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #GroupAmounts
          DataSource          #SalesParmUpdateCC
          DataMethod          #amountTotal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #UnitWeight
          ElementPosition     #1073741820
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #UnitWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Volume
          ElementPosition     #429496728
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #Volume
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryMaintainSeparator
          ElementPosition     #858993456
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS323172
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryMaintainSeparatorPickingSMB
          ElementPosition     #536870910
          HierarchyParent     #ButtonLineInventoryPickingSMB
          Text                #@SYS323172
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryNewSeparator
          Height              #100
          ElementPosition     #429496728
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryNewSeparatorConfirmSMB
          Height              #100
          ElementPosition     #536870910
          HierarchyParent     #ButtonLineInventoryConfirmSMB
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparator
          ElementPosition     #1288490184
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparatorConfirmSMB
          ElementPosition     #1073741820
          HierarchyParent     #ButtonLineInventoryConfirmSMB
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparatorPickingSMB
          ElementPosition     #1073741820
          HierarchyParent     #ButtonLineInventoryPickingSMB
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparatorPickingSMB1
          ElementPosition     #1073741820
          HierarchyParent     #ButtonLineInventoryPickingSMB
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripTaxForms_IN
          ElementPosition     #1789569704
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS53465
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateProcessSeparator
          ElementPosition     #858993458
          HierarchyParent     #LineStripUpdate
          Text                #@SYS122441
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator2
          ElementPosition     #1073741822
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS53465
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #InventOwnerIdCheckFailedMessage_RU
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #InventOwnerIdCheckFailed_RU
          Text                #@GLS115951
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STATICTEXT
        PROPERTIES
          Name                #pleaseMakeSelection
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #tabPageLateSelection
          Text                #@SYS72782
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BankManagement_CustBankAccountId
          ElementPosition     #1431655764
          HierarchyParent     #BankManagement
          DataSource          #SalesParmTable
          DataField           #CustBankAccountId
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    CustBankAccount::lookupBankAccount(this, salesParmTable.InvoiceAccount);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BOLCarrierCode_RU
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #BOLTransportation_RU
          DataSource          #SalesParmTable
          DataField           #BOLCarrierCode_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    element.officialsRebuilding();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfaddressLading_RU
          ElementPosition     #1073741823
          HierarchyParent     #Address_RU
          ShowLabel           #No
          DataSource          #SalesParmTable
          DataMethod          #addressLading_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfaddressUnlading_RU
          ElementPosition     #1789569705
          HierarchyParent     #Address_RU
          ShowLabel           #No
          DataSource          #SalesParmTable
          DataMethod          #addressUnlading_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CorrectedLineInventTransId_RU
          CountryRegionCodes  #RU
          ElementPosition     #954437176
          HierarchyParent     #CorrectedLine_RU
          DataSource          #CustInvoiceTransCorrected_RU
          DataField           #InventTransId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CorrectedLineInvoiceId_RU
          CountryRegionCodes  #RU
          ElementPosition     #715827882
          HierarchyParent     #CorrectedLine_RU
          DataSource          #CustInvoiceTransCorrected_RU
          DataField           #InvoiceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CorrectedLineName_RU
          CountryRegionCodes  #RU
          ElementPosition     #477218588
          HierarchyParent     #CorrectedLine_RU
          DataSource          #SalesParmLine
          DataMethod          #editCorrName_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    CustVendInvoiceTrans custVendInvoiceTrans;
            #
            #    custVendInvoiceTrans = CustVendInvoiceTrans::lookupCorrectedTrans_RU(this,
            #                                                                         salesParmTable.CorrectedInvoiceId_RU,
            #                                                                         salesParmTable.CorrectedInvoiceDate_RU,
            #                                                                         salesParmTable.InvoiceAccount,
            #                                                                         salesParmTable.CurrencyCode,
            #                                                                         salesParmLine.salesLine());
            #
            #    if (custVendInvoiceTrans.RecId)
            #    {
            #        salesParmLineCorrLink_RU.CorrTransRecId = custVendInvoiceTrans.RecId;
            #
            #        if (salesParmLineCorrLink_RU_DS.validateWrite())
            #        {
            #            salesParmLineCorrLink_RU_DS.write();
            #            salesParmLineCorrLink_RU_DS.active();
            #        }
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Correction_RU_CorrectedFactureExternalId_RU
          ElementPosition     #1140850682
          HierarchyParent     #Correction_RU
          DataSource          #SalesParmTable
          DataField           #CorrectedFactureExternalId_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    FactureJour_RU  factureJour;
            #    Set             invoiceJourSet = new Set(Types::Int64);
            #    CustInvoiceJour custInvoiceJour = CustInvoiceJour::findFromCustTrans(salesParmTable.CorrectedInvoiceId_RU,
            #                                                                         salesParmTable.CorrectedInvoiceDate_RU,
            #                                                                         salesParmTable.InvoiceAccount);
            #
            #    invoiceJourSet.add(custInvoiceJour.RecId);
            #
            #    factureJour = FactureJour_RU::lookupCorrectedFactureExternalId(this,
            #                                                                   salesParmTable.InvoiceAccount,
            #                                                                   FactureTaxCorrectionContragentType_RU::Customer,
            #                                                                   invoiceJourSet,
            #                                                                   false);
            #
            #    if (factureJour)
            #    {
            #        salesParmTable.CorrectedFactureDate_RU = factureJour.FactureDate;
            #    }
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesParmTable_ds.initCorrFactureDisplay_RU();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Correction_RU_CorrectedInvoiceId_RU
          ElementPosition     #693458258
          HierarchyParent     #Correction_RU
          DataSource          #SalesParmTable
          DataField           #CorrectedInvoiceId_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesParmTable_ds.initVATOnPayment_RU();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DocNumberingCode_LT
          AutoDeclaration     #Yes
          ElementPosition     #671088637
          HierarchyParent     #groupUpdate
          ExtendedDataType    
            ARRAY 
              #LtDocNumberingCode
              #
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    Args args = new Args();
            #
            #    args.lookupField(fieldNum(LtInvoiceAutoNumberingTable,NumberingCode));
            #    args.lookupValue(this.text());
            #    new MenuFunction(menuitemDisplayStr(LtInvoiceAutonumberingTable),MenuItemType::Display).run(args);
            #}
          ENDSOURCE
          SOURCE #lookup
            #public void lookup()
            #{
            #    switch (documentStatus)
            #    {
            #        case DocumentStatus::PackingSlip:
            #            LtInvoiceAutoNumberingTable::lookup(this, DocNumberingModule_W::Sales, LtInvoiceAutoNumberingType::PackingSlip);
            #            break;
            #        case DocumentStatus::Invoice, DocumentStatus::Facture_RU:
            #            LtInvoiceAutoNumberingTable::lookup(this, DocNumberingModule_W::Sales, LtInvoiceAutoNumberingType::Invoice);
            #            break;
            #        default:
            #            super();
            #    }
            #}
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    LtInvoiceAutoNumberingType invoiceAutoNumberingType;
            #    boolean                    ret = super();
            #
            #    if (ret)
            #    {
            #        if (! this.text())
            #        {
            #            ret = checkFailed(strFmt("@SYS26332",fieldPName(LtInvoiceAutoNumberingTable,NumberingCode)));
            #        }
            #        if (ret)
            #        {
            #            switch (documentStatus)
            #            {
            #                case DocumentStatus::Invoice, DocumentStatus::Facture_RU:
            #                    invoiceAutoNumberingType = LtInvoiceAutoNumberingType::Invoice;
            #                    break;
            #                case DocumentStatus::PackingSlip:
            #                    invoiceAutoNumberingType = LtInvoiceAutoNumberingType::PackingSlip;
            #                    break;
            #            }
            #            if (! LtInvoiceAutoNumberingTable::existUserNumbering(this.text(),
            #                                                                  DocNumberingModule_W::Sales,
            #                                                                  invoiceAutoNumberingType))
            #            {
            #                ret = checkFailed(strFmt("@GLS110719", this.text(), curUserId()));
            #            }
            #        }
            #    }
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DocumentSet
          AutoDeclaration     #Yes
          AllowEdit           #No
          HelpText            #@SYS4082752
          ElementPosition     #1610612733
          HierarchyParent     #PrintDocumentSet_TH
          Label               #@SYS4082753
          ExtendedDataType    
            ARRAY 
              #TaxUnrealizedDocuId
              #
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FreightZone
          ElementPosition     #1503238548
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #FreightZone
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GridSalesParmLine_MCRDeliveryName
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #2147003048
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataField           #DeliveryName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GridSalesParmLine_MCRDlvMode
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #2146522451
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Group_CurrencyCode
          ElementPosition     #1879048185
          HierarchyParent     #GridSalesEditLines
          DataSource          #CustAdvanceInvoiceTable
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Group_InvoiceId
          ElementPosition     #536870910
          HierarchyParent     #GridSalesEditLines
          DataSource          #CustAdvanceInvoiceTable
          DataField           #InvoiceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Group_Voucher
          ElementPosition     #1073741820
          HierarchyParent     #GridSalesEditLines
          DataSource          #CustAdvanceInvoiceTable
          DataField           #Voucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventLocationId_PL
          AutoDeclaration     #Yes
          CountryRegionCodes  #PL
          ElementPosition     #603979773
          HierarchyParent     #groupUpdate
          ExtendedDataType    
            ARRAY 
              #InventLocationId
              #
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret = super();
            #
            #    element.reselect();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRPaymentMethod
          AutoDeclaration     #Yes
          ElementPosition     #954437176
          HierarchyParent     #groupUpdate
          DataSource          #SalesParmUpdate
          DataField           #MCRPaymentMethod
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    SysTableLookup lookup = SysTableLookup::newParameters(tableNum(CustPaymModeTable),this);
            #    lookup.addLookupfield(fieldNum(CustPaymModeTable,PaymMode));
            #    lookup.addLookupfield(fieldNum(CustPaymModeTable,Name));
            #    lookup.performFormLookup();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OfficialsTrans_InvLocation
          ElementPosition     #715827882
          HierarchyParent     #OfficialsGrid
          DataSource          #OfficialsTrans_RU
          DataField           #InvLocation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OfficialsTrans_Name
          ElementPosition     #1073741823
          HierarchyParent     #OfficialsGrid
          LookupButton        #Always
          DataSource          #OfficialsTrans_RU
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OfficialsTrans_Title
          ElementPosition     #1789569705
          HierarchyParent     #OfficialsGrid
          DataSource          #OfficialsTrans_RU
          DataField           #Title
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OrderLine_Name
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #OrderLine
          DataSource          #SalesParmLine
          DataMethod          #name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmLine_AlcoholLicenseSeriesNum_RU
          ElementPosition     #2146762750
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataField           #AlcoholLicenseSeriesNum_RU
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    ;
            #    AlcoholLicenseTable_RU::lookup(this,
            #                                   salesParmLine.inventDim().inventProfile_RU().AlcoholActivityType,
            #                                   salesParmTable.DocumentDate ? salesParmTable.DocumentDate : salesParmTable.Transdate,
            #                                   InventTable::find(salesParmLine.ItemId).AlcoholProductionTypeId_RU,
            #                                   CustTable::find(salesParmLine.InvoiceAccount).Party,
            #                                   CustVend_RU::Cust);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmLine_ItemId
          AutoDeclaration     #Yes
          ElementPosition     #2013265918
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmLine_Name
          AutoDeclaration     #Yes
          Height              #Column height
          ElementPosition     #1002159032
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataMethod          #name
        ENDPROPERTIES
        
        METHODS
          SOURCE #toolTip
            #public str toolTip()
            #{
            #    return salesParmLine.name();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmLine_OrigSalesId
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataField           #OrigSalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmLine_packingSlipId
          AutoDeclaration     #Yes
          ElementPosition     #429496728
          HierarchyParent     #Trans
          DataSource          #SalesParmLine
          DataMethod          #packingSlipId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmSubLine_DocumentId
          ElementPosition     #858993458
          HierarchyParent     #SalesParmSubLinesGrid
          DataSource          #SalesParmSubLine
          DataField           #DocumentId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmSubTable_OrigSalesId
          ElementPosition     #1073741822
          HierarchyParent     #gridSalesParmSubTable
          DataSource          #SalesParmSubTable
          DataField           #OrigSalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmSubTable_SalesName
          ElementPosition     #1610612733
          HierarchyParent     #gridSalesParmSubTable
          DataSource          #SalesParmSubTable
          DataField           #SalesName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_CurrencyCode
          AutoDeclaration     #Yes
          ElementPosition     #2139095038
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_CustomsExportInvoiceId_IN
          AutoDeclaration     #Yes
          ElementPosition     #2023332247
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #CustomsExportInvoiceId_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_FiscalEstablishment_BR
          AutoDeclaration     #Yes
          ElementPosition     #2028365412
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataMethod          #fiscalEstablishment_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_InventOwnerId_RU
          AutoDeclaration     #Yes
          ElementPosition     #2093796554
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #InventOwnerId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_InventSiteId
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #2033398577
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #InventSiteId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_Num_W
          AutoDeclaration     #Yes
          ElementPosition     #2145736019
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #Num_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_PackingSlipId
          AutoDeclaration     #Yes
          ElementPosition     #1252698790
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataMethod          #PAckingSlipId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_PackingSlipIdForUpdate_W
          AutoDeclaration     #Yes
          ElementPosition     #2146085544
          HierarchyParent     #Heading
          ReplaceOnLookup     #No
          DataSource          #SalesParmTable
          DataField           #PackingSlipIdForUpdate_W
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    Args                 args;
            #    QueryBuildDataSource qBd;
            #    FormDataSource       formDataSource;
            #    QueryBuildRange      qBr;
            #    FormRun              formRun;
            #
            #    args = new Args(formStr(CustPackingSlipJournal));
            #    formRun = classfactory.formRunClass(args);
            #    formRun.init();
            #    formDataSource = formRun.dataSource();
            #
            #    switch (documentStatus)
            #    {
            #        case DocumentStatus::Invoice, DocumentStatus::Facture_RU:
            #            formDataSource.query(CustPackingSlipJour::queryPackingSlipIdForUpdate_W(salesParmTable.ParmId,
            #                                                                                    salesParmTable.SalesId,
            #                                                                                    salesParmTable.TableRefId));
            #            break;
            #
            #        case DocumentStatus::PackingSlip:
            #            formDataSource.query(CustPackingSlipJour::queryPackingSlipStorno_LT());
            #            break;
            #    }
            #
            #    if (salesParmTable.PackingSlipIdForUpdate_W)
            #    {
            #        qBd = formDataSource.query().dataSourceTable(tableNum(CustPackingSlipJour));
            #        qBr = qBd.addRange(fieldNum(CustPackingSlipJour,PackingSlipId));
            #        qBr.value(salesParmTable.PackingSlipIdForUpdate_W);
            #    }
            #
            #    formRun.run();
            #    formRun.detach();
            #}
          ENDSOURCE
          SOURCE #lookup
            #public void lookup()
            #{
            #    switch (documentStatus)
            #    {
            #        case DocumentStatus::Invoice, DocumentStatus::Facture_RU:
            #            CustPackingSlipJour::lookupPackingSlipId_W(this,
            #                                                       CustPackingSlipJour::queryPackingSlipIdForUpdate_W(salesParmTable.ParmId,
            #                                                                                                          salesParmTable.SalesId,
            #                                                                                                          salesParmTable.TableRefId));
            #            break;
            #        case DocumentStatus::PackingSlip:
            #            CustPackingSlipJour::lookupPackingSlipId_W(this,
            #                                                       CustPackingSlipJour::queryPackingSlipStorno_LT());
            #            break;
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_PostingProfile_RU
          AutoDeclaration     #Yes
          ElementPosition     #2053531236
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #PostingProfile_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_ProjId
          ElementPosition     #715827880
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #ProjId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_ReturnPackingSlipId
          AutoDeclaration     #Yes
          ElementPosition     #1789569700
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #ReturnPackingSlipId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_SalesId
          AutoDeclaration     #Yes
          ElementPosition     #2013265918
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #SalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_SalesName
          AutoDeclaration     #Yes
          ElementPosition     #2130706430
          HierarchyParent     #Heading
          DataSource          #SalesParmTable
          DataField           #SalesName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmTable_TaxPeriodPaymentCode_PL
          AutoDeclaration     #Yes
          ElementPosition     #1744830461
          HierarchyParent     #GroupDates
          DataSource          #SalesParmTable
          DataField           #TaxPeriodPaymentCode_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmUpdateCC_CurrencyCode
          ElementPosition     #1717986916
          HierarchyParent     #GridCreditCard
          DataSource          #SalesParmUpdateCC
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesParmUpdateCC_TransID
          ElementPosition     #858993458
          HierarchyParent     #GridCreditCard
          DataSource          #SalesParmUpdateCC
          DataField           #TransID
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesShippingStat_VolumeType_BR
          ElementPosition     #2144687442
          HierarchyParent     #Shipping
          DataSource          #SalesShippingStat
          DataField           #VolumeType_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_CN_M_dispVATRegistrationNum_CN
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #VATInfoCN
          DataSource          #SalesParmTable
          DataMethod          #dispVATRegistrationNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SerialNumber
          AutoDeclaration     #Yes
          HelpText            #@MCR40287
          ElementPosition     #1431655764
          HierarchyParent     #MCRGiftCardGroup
          LookupButton        #Never
          Label               #@SYS124420
          DataSource          #SalesParmLine
          DataMethod          #editGiftCardId
        ENDPROPERTIES
        
        METHODS
          SOURCE #leave
            #public boolean leave()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #//  Since this is a serial number do not allow auto completes.
            #
            #    element.delAutoCompleteString(this);
            #
            #    return ret;
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    boolean valid = false;
            #
            #    if(serialNumber.text() != "")
            #    {
            #        //validate the serial number entered
            #        RetailTransactionService::validateGiftCard(serialNumber.text(), "", "");
            #    }
            #    ret = super();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #sumSalesId
          HelpText            #@SYS24079
          ElementPosition     #1717986916
          HierarchyParent     #groupSumSalesGroup
          DataSource          #SalesParmUpdate
          DataField           #SumSalesId
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (SalesParmTable.ParmId)
            #    {
            #        super();
            #    }
            #    else
            #    {
            #        warning(strFmt("@SYS191206", strLwr("@SYS9694")));
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TransportationDeliveryContractor
          ElementPosition     #858993458
          HierarchyParent     #TransportationParty
          Label               #@SYS34389
          LabelPosition       #Above
          DataSource          #SalesParmUpdate
          DataMethod          #transporationContractName
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    Common common;
            #    common = transportationPartyLookUp.lookupTransportationParty(this);
            #
            #    if (common)
            #    {
            #        salesParmUpdate.TransportationDeliveryContractor = common.RecId;
            #    }
            #
            #    this.modified();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TransportationDeliveryLoader
          ElementPosition     #1288490187
          HierarchyParent     #TransportationParty
          Label               #@SYS333406
          LabelPosition       #Above
          DataSource          #SalesParmUpdate
          DataMethod          #transporationLoaderName
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    Common common;
            #    common = transportationPartyLookUp.lookupTransportationParty(this);
            #
            #    if (common)
            #    {
            #        salesParmUpdate.TransportationDeliveryLoader = common.RecId;
            #    }
            #
            #    this.modified();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TransportationDeliveryOwner
          ElementPosition     #1717986916
          HierarchyParent     #TransportationParty
          Label               #@SYS333407
          LabelPosition       #Above
          DataSource          #SalesParmUpdate
          DataMethod          #transporationOwnerName
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    Common common;
            #    common = transportationPartyLookUp.lookupTransportationParty(this);
            #
            #    if (common)
            #    {
            #        salesParmUpdate.TransportationDeliveryOwner = common.RecId;
            #    }
            #
            #    this.modified();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TransportationPartyAdditionalInfo_AdditionalDeclarations
          ElementPosition     #858993458
          HierarchyParent     #TransportationPartyAdditionalInfo
          MultiLine           #Yes
          LabelPosition       #Above
          DataSource          #SalesParmUpdate
          DataField           #AdditionalDeclarations
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TransportationPartyAdditionalInfo_AdditionalInstructions
          ElementPosition     #1717986916
          HierarchyParent     #TransportationPartyAdditionalInfo
          MultiLine           #Yes
          LabelPosition       #Above
          DataSource          #SalesParmUpdate
          DataField           #AdditionalInstructions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TransportationPartyAdditionalInfo_AdditionalNotes
          ElementPosition     #1288490187
          HierarchyParent     #TransportationPartyAdditionalInfo
          MultiLine           #Yes
          LabelPosition       #Above
          DataSource          #SalesParmUpdate
          DataField           #AdditionalNotes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #SalesParmTable_EximExportDateTime_IN
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #GroupDates
          DataSource          #SalesParmTable
          DataField           #EximExportDateTime_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #InventOwnerIdCheckFailedIcon_RU
          AllowEdit           #No
          Width               #14
          Height              #14
          Skip                #Yes
          AlignControl        #No
          ElementPosition     #1073741822
          HierarchyParent     #InventOwnerIdCheckFailed_RU
          ImageResource       #931
          Imagemode           #Size to fit
          BackStyle           #Transparent
          ShowLabel           #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #Lines
          AllowEdit           #No
          Width               #14
          Height              #14
          Skip                #Yes
          AlignControl        #No
          ElementPosition     #81808900
          HierarchyParent     #Heading
          Imagemode           #Size to fit
          BackStyle           #Transparent
          ShowLabel           #No
          DataSource          #SalesParmTable
          DataMethod          #CheckIfLines_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCardProcess.doCapture
    PROPERTIES
      Class               #CreditCardProcess
      Method              #doCapture
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.mcrDoCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #mcrDoCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.mcrDoPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #mcrDoPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.mcrDoRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #mcrDoRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCardProcess.doCapture
    PROPERTIES
      Class               #CreditCardProcess
      Method              #doCapture
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.mcrDoCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #mcrDoCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.mcrDoPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #mcrDoPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.mcrDoRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #mcrDoRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCardProcess.doCapture
    PROPERTIES
      Class               #CreditCardProcess
      Method              #doCapture
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.mcrDoCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #mcrDoCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.mcrDoPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #mcrDoPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.mcrDoRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #mcrDoRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: END
